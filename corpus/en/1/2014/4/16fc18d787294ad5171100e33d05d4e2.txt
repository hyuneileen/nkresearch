Journal of Kim Il Sung University (Natural Science) Vol. 3 No. 4 Juche103(2014) New Composition Method of TRIE’s Key Kwak Son Il, Jo Chol Min and Kwon O Chol Abstract In this paper we proposed a new method for composition of TRIE’s key in order to extend the coverage of application of TRIE, high speed search structure and verified its effec- Key words TRIE, search structure tiveness. Introduction The precedent studies have the restriction that the end mark symbol has to be attached behind each key in composing the key of TRIE structure and this leads TRIE not to corre- spond any key set. Namely, as the end mark symbol has to be attached to the end of key in the precedent TRIE structure, the key doesn’t include the same character to the end mark symbol, thus the coverage of using TRIE is narrower than other structures. TRIE structure has been used most widely in the programs for natural language processing including Chinese-Korean machine translation and so on because of high speed search time without dependency on number of key count, providing the several functions necessary in natural language processing and effectiveness in manipulation of dictionary [1]. In the TRIE structure of the precedent studies[2, 3] several branches are generated by each character of key and the end mark symbol ‘#’ for unique identification of each key is attached to the state that is the end of key. The whole keyword corresponding to search key becomes the unit of comparison in Hash search, binary tree search and B/B+ tree search, but each character consisting of key becomes the unit of comparison in TRIE structure [4]. In the precedent concept of TRIE structure, the limitation that the end mark symbol has to be attached to the end of each key makes it impossible for TRIE to correspond to arbi- trary key set. In fact, not only normal string key but also arbitrary data such as numeric key, Unicode string key and so on can be key in other excellent search structures: B/B+ tree structure and Hash structure. Because in the precedent TRIE structure the end mark symbol has to be attached to the end of key, key cannot include the character same as the end mark symbol, thus the coverage of TRIE’s usage is more limited than other search structures. 1. Some Definitions for New Composition of Key TRIE is a species of string pattern matching machine and is formally defined as follows. I = a ,{ 1 a 2 , (cid:34) , ea } : finite set of input symbols. － 22 － New Composition Method of TRIE’s Key =+ I aa { 21 nI , ≥ }1 , n(cid:34) a a , ∈ i I * ε∪+= I where ε is the blank string(its length is 0). ( K ⊆ *I ) : Key set Definition 1 String Pattern Matching Machine If ISM = ,{ USg 1 } * , , , U the set of final states, and g state transition function , S is the finite set of states, 1S the finite set of initial states, → ** IS { fail } S ∪ : x ∈∃ I * , q ∈∃ S 1 , ,( xqg :) = f , Uf ∈ it is said that M accepts sequence x , the set of all the sequences that M accepts is repre- sented by (ML . ) Now, when (MLK = The branch that is marked with ) and if the branch is not defined, Definition 2 Input dimension , M is called as String Pattern Matching Machine of key set K . a ∈ from state r to state t is represented by =:) 0:) I :) fail =arg =arg ,( r and output dimension ) deg( r of state ) ,( in ,( arg or deg( out . r ∈  S t are defined as follows. at deg( ,{(| in = r ) :) = ar , ∈ I , t ∈ S |} , out deg( r ) = ,{(| at |) arg ,( :) = at , ∈ I , t ∈ S |} State with output dimension 0 is called as final state, the whole set of final states is represented by F . Definition 3 TRIE If string pattern matching machine M satisfies the following conditions on the state r ∈ , S M is called as TRIE. rS 1 r , ∈∃ →= r r S ,1 →∈∀≠ * ① ② ③ r ∈∀ S , in in r deg( r deg( 0) = 1) = I →∈∃ y g ,1( y :) = r Definition 4 New Key of TRIE  When ∈ 1| + | = ls = k s s I l * * , , , *k is defined as new key of TRIE. From definition 4 the set of final states can be defined again as follows. Definition 5 Set of final states of TRIE For the initial state |{:* = r ∈ and key of TRIE ,( , lrgu = k =* , u ,( sqgq deg( u ,0) = , uq out :) = :) U ∈ ls S S } is defined as new set of final states of TRIE. * IKKK ( , * Theorem For the set of key is new set of TRIE’s key corre- ⊂ sponding to K ) and the set of final states *U , each key of K is uniquely identified in K , * Proof If each key of the set of key constructed into TRIE is corresponded to only one another final state, this theorem is proved. TRIE. － 23 － Journal of Kim Il Sung University (Natural Science) No. 4 Juche103(2014) * k 1 = aal 211 k ∀ 1 , (cid:34) , na k 2 ∈ k * 2 = kK ( 1 (cid:34)212 mb bbl , k 1 = k ≠ are respectively new keys corresponding to  (cid:34)21 aa (cid:34)21 bb += n 2 = = m mb na , , , l 1 1 k + l 2 2 1 ). ① In case of Because mn ≠ l ≠ , for the initial state r , 1 cluded. Thus each other final states are responded to * Sqt ∈ ∃ , , l 2 lrg ,( 1 1k , * 2k . =:) t , ,( lrg =:) q , t ≠ is con- q 2 ② In case Because , thus k mn = l = , for the initial state r , l 1 2 , Indexdiff ≠ i ≤≤ 1, ai |{ n } b i = 2 i k ≠ 1 Supposing that the prefix string is t ∈∃ S | Index l 1 ,( rg , ,( lrg =:) diff > , and there is 0| , t 2 i 1 =:) = t . At that time . min Index i diff i ∈ For Sq∈∃ s front _ share (cid:34) a i 1 , 1 − = a ⎧ 1 ⎨ , ε ⎩ i 1 i 1 > 1 = 1 , tg ,( s front _ share :) = q , t , ⎧ ⎨ ⎩ i 1 i 1 > = 1 1 and there are states 1, z z ∈2 S with z ≠ 1 z 2 . Where z = 1 tg ,( s front _ share a i 1 ,) z = 2 stg ,( front _ share b i 1 ) . Thus * 1k , * From ①  and ② , 2k respond to each other final states. ∈ ≠ k k ) , 2 kK ( 1 k ∀ 1 2 are uniquely identified by new composition method of key. 2. New Composition Method of TRIE’s Key In the practical implementation of new key, the length of key (count of bytes) enters into the first byte of key and the original key puts from the second byte(Fig.). If key is composed by this method, the first byte of key becomes a field that contains the length of key and the maximum that one byte is stored is 255, thus the length of key can not exceed 255. Fig. New composition method of TRIE’s key In the practical dictionary construction, there is no case that the length of key is over 255, but in the special case that the length of key is over 255 the first two bytes may be used to store the length of key, thus coverage of the length of key is extended to 65 536. If key is composed by new method, the keys of TRIE can be identified clearly and uniquely without attaching the end mark symbols to the end of key. － 24 － Conclusion New Composition Method of TRIE’s Key TRIE structure can be applied to any key set by new key composition method. Because the length of new key equals to the length of key that is composed by the original method, there is no indirect time consumption in search, insertion and deletion by the new composition method of key. The TRIE structure with new key composition method has been effectively using in de- veloping several applications for natural language processing: Chinese-Korean machine transla- tor “Amrokgang”, Korean spellchecker and so on with Unicode version. References  [1] 종합대학학보(자연과학), 54, 8, 23, 주체97(2008). [2] J. Aoe et al.; IEEE Trans. Know. & Data Eng., 8, 3, 1321, 1996. [3] Kurt Maly; Communications of the ACM, 19, 7, 7, 1976. [4] D. E. Zegour; Elsevier Information and Software Technology, 46, 923, 2004. － 25 －