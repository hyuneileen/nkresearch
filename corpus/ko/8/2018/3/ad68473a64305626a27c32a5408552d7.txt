김일성종합대학학보 물리학 주체107(2018)년 제64권 제3호 ARM계렬소자를 리용한 방사선 다통로분석기설계제작 김국철, 정철민 현재 개발리용되고있는 다통로진폭분석기들은 대부분 콤퓨터와 결합되여 측정 및 자 료처리를 진행하고있다.[1, 3] 론문에서는 방사선리용과 연구에서 위력한 분석수단으로 리용되는 다통로진폭분석기 를 ARM계렬소자를 중심으로 설계하고 그에 기초하여 측정알고리듬을 작성한데 대하여 고찰하였다. 1. ARM계렬소자를 리용한 진폭분석기의 설계 종전에 설계제작된 다통로분석기들은 PIC계렬한소편처리기들을 중심으로 하여 설계 제작되였다.[1] 현재 비교적 앞선 계렬이라고 볼수 있는 PIC18F계렬(실례로 PIC18F4550)의 내부 ADC(A/D변환기를 의미)는 변환비트수가 10bit 즉 변환통로수가 1 024통로이므로 매개 통 로에 대하여 2Byte의 자료기억기를 할당한다고 하면 적어도 2KB의 자료RAM이 필요하다. 그런데 PIC18F4550에 내장되여있는 자료RAM의 크기는 2KB로서 프로그람작성과정에 소 모되는 기억기용량을 고려하면 스펙트르측정자료의 보관에 리용되는 자료기억기의 크기 가 불충분하다. 따라서 스펙트르측정자료를 충분히 보관할수 있도록 외부에 자료RAM을 구성해주어야 한다. 이것은 구성상 복잡성을 조성한다. 외부자료RAM을 리용하지 않고 분석기를 구성하려면 불가피하게 직결방식 즉 PIC에 서 A/D변환이 끝나면 즉시 변환결과를 콤퓨터에 전송하여 현시하도록 하는 방법을 택해 야 한다. 즉 이 방식에서 PIC는 스펙트르측정자료를 외부기억기에 기억시키지 않고 직접 콤퓨터에 전송하여 그것의 기억공간에 보관한다. 이 방식은 입력임풀스의 계수속도가 매 우 느린 경우(103개/s)에 리용할수 있다. 그러나 ARM소자를 리용하면 이러한 제한성을 극복할수 있다. 다통로분석기의 질을 평가하는 가장 중요한 부분은 A/D변환기이다. A/D변환기는 검 출기의 신호모양과 방사선립자기록의 통계적특성과 관련하여 다음과 같은 특별한 요구조 건을 만족시켜야 한다.[2] 첫째로, 변환정확성이 높아야 한다.(10～14 bit) 둘째로, 미분비선형성이 작아야 한다.(4%이하) 셋째로, 변환속도가 빨라야 한다.(수 sμ 정도) 넷째로, 임풀스의 봉우리값을 변환해야 한다. ARM계렬소자들은 충분한 기억공간과 함께 A/D변환과 관련한 요구조건을 충분히 만 족시킨다. ARM계렬소자를 리용한 방사선다통로분석기설계제작 － 141 － 우선 ARM계렬소자들은 32bit의 Cortex-M3 ARM처리기를 장비하고있으며 내부에 512KB의 Flash프로그람기억기와 64KB의 SRAM을 가지고있다. 또한 상사신호처리를 위한 s1μ )와 2개의 12bit D/A변환기를 가지고있다. 모듈들로서 3개의 12bit A/D변환기(변환시간 일반목적입출력포구(GPIO)들은 50MHz까지의 고속자료입출력을 지원하고있다. ARM계렬소자들이 가지고있는 이러한 특성들은 다통로분석기를 구성하는데 충분한 가능성을 준다. ２．ARM계렬소자를 리용한 진폭분석기의 구성과 측정알고리듬작성 ARM계렬소자의 특성과 우점을 방사선진폭분석기를 구성하는데 리용하면 장치를 현 대화할수 있을뿐아니라 장치의 극소형화, 경량화를 실현할수 있다. ARM계렬소자를 리용한 다통로진폭분석기의 구성도를 그림 1에 보여주었다. 그림 1. ARM소자를 리용한 다통로진폭분석기의 구성도 ARM소자에서 Open신호를 보내면 전반적인 회로가 열리게 된다. 장치초기화과정에 조종단에 의하여 입구상사문열기신호가 유효로 되고 입구에 들어오는 임풀스의 진폭이 LLD보다 큰 경우에 입구상사문이 열리고 봉우리검출회로에 임풀스신호가 입력된다. 이 상태에서 입력임풀스신호의 진폭이 LLD를 넘어서면 아래준위 비교기의 출구가 H로 되고 봉우리검출용고속비교기 LM710의 출구도 H로 되면서 봉우리검출신호가 발생되게 한다. 입력신호가 ULD를 넘어섰을 때에는 웃준위비교기의 출구가 H로 되여 MPU가 A/D변환을 포기하고 기억콘덴샤의 전하를 방전시키도록 한다. 결과 입력신호가 LLD를 넘어서고 ULD를 초과하지 않는 경우에만 그 신호에 대한 A/D변환이 진행된다. 한편 아래턱선별기출력신호는 선형통과문을 지난 입력신호가 진폭유지회로에서 자기 진폭값을 충분히 충전시킬만 한 시간이 지난 다음 선형통과문을 차단하여 임풀스신호들 이 서로 겹쳐지는 현상을 방지하도록 한다. 이렇게 얻어진 봉우리진폭값을 ARM소자가 접수하여 내부ADC에서 A/D변환을 진행하여 해당 통로의 진폭값을 하나 증가시킨다. ARM소자는 Dump신호를 내보내여 봉우리검출 및 유지회로의 진폭값을 보관하고있는 기억콘덴샤를 방전시켜 다음번 신호의 진폭을 기억할수 있도록 준비한다. 설계한 회로에 따라 측정알고리듬을 작성하면 그림 2와 같다. － 142 － 종합대학학보 물리학 주체107(2018)년 제64권 제3호 맺 는 말 1) ARM계렬소자를 리용한 방사선스펙트르측 정용 다통로진폭분석기의 구성가능성을 밝히고 그에 기초하여 외부CPU에 의한 조종방식의 다통 로진폭분석기를 구성하였다. 2) ARM계렬소자를 리용하여 구성한 다통로 진폭분석기와 콤퓨터와의 결합을 실현하고 장치 의 동작을 조종하기 위한 측정알고리듬을 작성 하였다. 참 고 문 헌 [1] G. J. Beyer et al.; Nuclear Technology and Radiation Protection, 31, 1, 102, 2016. [2] A. Castoldi et al.; Nuclear Instruments and Methods in Physics Research, A 517, 337, 2004. [3] K. Ichihara et al.; Nuclear Instruments and Methods 그림 2. 측정알고리듬 in Physics Research, A 515, 651, 2003. 주체107(2018)년 3월 5일 원고접수 Design and Manufacture of Radiation Multi-Channel Analyzer Using ARM Series Kim Kuk Chol, Jong Chol Min In this paper we have designed the multi-channel analyzer using ARM series and constructed the measurement algorithm corresponding to the design on the basis of it. Then we considered the working principles of it. Key words: multi-channel amplitude analyzer, measurement algorithm