김일성종합대학학보 물리학 주체110(2021)년 제67권  제1호 C8051F060 한소편처리기에 기초한 다통로시간분석기조종 백희철, 김강철 위대한 령도자 동지께서는 다음과 같이 교시하시였다. 《최신과학기술에 기초하여 나라의 경제를 현대화, 정보화하기 위한 투쟁을 힘있게 벌려야 합니다.》(《선집》 증보판 제22권 22페지) 다통로시간분석기는 고에네르기물리실험 및 핵물리측정들에서 핵사건들사이의 시간 분포와 검출기들의 시간특성을 연구하는데서 매우 중요한 측정수단으로 되고있다.[1] 론문에서는 C8051F060 한소편처리기를 리용하여 다통로시간분석기의 측정자료수집 과 조종을 실현하였다. １．조 종 회 로 한소편처리기를 리용하여 이미 개발된 다통로시간분석기[1]의 자료수집과 측정조종 을 실현하자면 다통로시간분석기의 조종방식과 조종신호들에 대한 분석을 진행하여야 한다. 다통로시간분석기의 자료수집과 측정조종을 위한 단어들은 표와 같다.[1] 표. 다통로시간분석기의 자료수집과 측정조종을 위한 단어들 조종단어 상 태 측정방식설정 신호 측정조종신호 시간변환곁수 신호 S1 S2 S3 S4 WA0 WA1 WA2 WA3 W0 W1 W2 설정된 시간변환곁수 0 한 검출기 우연임풀스 코드작성 시간－시간변환 측정허용 측정정지 시동 지우기 1 두 검출기 기준임풀스 정시기 시간－코드변환 － － － － 0 0 0 2 1 0 0 4 0 1 0 8 1 1 0 0 0 1 1 0 1 0 1 1 16 32 64 128 표에서 보는바와 같이 조종신호들은 측정방식을 설정하기 위한 신호들(S1～S4)과 측정과정을 조종하기 위한 신호들(WA0～WA3), 시간변환곁수를 설정하기 위한 신호들 (W0～W2)이 있다. 이로부터 한소편처리기를 리용하여 다통로시간분석기의 측정 및 자료 수집을 위한 체계와 조종회로를 구성하였다.(그림 1, 2) C8051F060 한소편처리기에 기초한 다통로시간분석기조종 － 77 － 그림 1. 한소편처리기를 리용한 다통로시간분석기구성체계 그림 2. 한소편처리기를 리용한 다통로시간분석기조종회로 그림 2에서 P0.2～P0.5단자들은 측정방식을 조종하기 위한것으로서 02.0P = 이면 한 검출기방식, 03.0P 12.0P = 이면 두 검출기방식이다. = 이면 우연임풀스에 의한 방식, 13.0P 이면 코드작성방식, 이면 시간－코드변환방식으로 설정된다. = 이면 정시기방식, 14.0P = 이면 기준임풀스에 의한 방식, = 이면 시간－시간변환방식, 05.0P 04.0P 15.0P = = P3.0～P3.3단자들은 측정과정을 조종하기 위한것으로서 측정허가, 측정정지, 시동, 지 우기신호를 내보내기 위한것이다. 변환곁수설정은 P1.4～P1.6포구를 통해 진행한다. 시간분석기로부터의 자료수집은 P2포구를 통하여 진행한다. ２．조종프로그람 측정자료수집 및 조종프로그람은 하위프로그람과 상위프로그람으로 되여있다.  하위프로그람 즉 한소편조종프로그람은 Silicon Laboratory환경에서 C언어로 작성하 였다. 한소편조종프로그람흐름도는 그림 3과 같다. 조종프로그람의 주순환부분은 다음과 같다.  void main (void) {   WDTCN = 0xde;   WDTCN = 0xad;   SYSCLK_Init ();   PORT_Init ();    EMIF_Init (); //체계박자초기화 //포구초기화 //외부기억기초기화 //체계감시기금지 － 78 － 종합대학학보 물리학 주체110(2021)년 제67권 제1호 //DMA설정 //외부기억기선택 SFRPAGE = CONFIG_PAGE;   RAM_CS = 0;             UART0_Init ();                   //UART0초기화   MeasureMode();                 //측정방식설정   DMA0_Init ();     EA = 1;                         //새치기허가       SFRPAGE = UART0_PAGE;   printf ("acquistion progress...\n");    SFRPAGE = DMA0_PAGE;   while (!(DMA0CN & 0x40));                                  //외부기억기로 옮길 때까지 기다린다.   SFRPAGE = LEGACY_PAGE;   printf ("data acquistion complete.\n");   while (WA0 != 0);                //측정허가될 때까지 기다린다.   SendData();                     //UART0을 통하여 자료전송   while(1);                        //순환을 계속한다. } //DMA0페지로 전환 //DMA0INT비트검사로 DMA가 표본들을 그림 3. 한소편조종프로그람흐름도 C8051F060 한소편처리기에 기초한 다통로시간분석기조종 － 79 － 상위프로그람은 Labview10.0환경에서 개발한다. 한소편조종프로그람에서 콤퓨터와 한소편처리기사이의 통신[3]을 실현한데 기초하여 측정자료수집 및 조종은 VISA모듈의 VISA Configure Serial Port.VI, VISA Read.VI, VISA Write.VI와 같은 직렬포구관리함수들을 리용하여 진행하였다.[2] 전면판에는 측정자료스펙트르, 초기화, 측정시작, 림시정지, 측정중지기능단추와 변환 곁수선택, 통로수선택창 등이 있다. 측정방식의 설정은 프로그람이 기동할 때 나타나는 선택창에서 진행하게 되여있다. 맺 는 말 1) 한소편처리기 C8051F060을 리용하여 다통로시간분석기의 자료수집 및 조종체계 를 구성함으로써 장치를 간소화할수 있는 가능성을 확립하였다. 2) 시간분석체계를 구동시키기 위한 한소편조종프로그람과 상위프로그람을 설계하고 한소편처리기와의 련동실험을 진행하여 다통로시간분석기에 대한 조종가능성을 밝혔다. 참 고 문 헌 [1] 김강철 등; 원자력, 3, 16, 1996. [2] 리영호 등; Labview프로그람작성, 외국문도서출판사, 1～175, 주체100(2011). [3] 刘璐等; 基于的计算机与单片机通信设计与实现, 电子设计工程, 26, 23, 7～15, 2018. 주체109(2020)년 9월 5일 원고접수 Control of Multi-Channel Time-Analyzer based on C8051F060 One-Chip Processor Paek Hui Chol, Kim Kang Chol We composed the data acquisition and control system of multi-channel time-analyzer using one-chip processor C8051F060, and considered the possibility of miniature of device. Keywords: time-analysis, C8051F060