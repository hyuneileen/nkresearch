김일성종합대학학보 물리학 주체108(2019)년 제65권 제1호 PIC16F628A를 리용한 단통로분석기의 RS232직렬자료통신 김국철, 정철민, 강철 경애하는 최고령도자 동지께서는 다음과 같이 말씀하시였다. 《첨단돌파전을 힘있게 벌려야 나라의 과학기술전반을 빨리 발전시키고 지식경제의 토대를 구축해나갈수 있습니다.》(《조선로동당 제7차대회에서 한 중앙위원회사업총화보고》 단행본 39페지) PIC계렬 한소편소자들은 원가가 눅고 조종하기 쉬우며 측정계통의 정밀성, 속도, 안 정성을 충분히 보장하는 우점을 가지고있다.[1, 2] 론문에서는 프로그람작성언어인 Visual C++와 PIC계렬 한소편소자 PIC16F628A를 리 용하여 단통로진폭분석기의 RS232직렬자료통신을 보장하였다. １．장 치 설 계 PIC16F628A와 MAX232를 리용하여 단통로진폭분석기와 콤퓨터사이의 자료송수신을 위한 회로를 구성하였다. PIC16F628A는 18개의 단자들로 구성되여있다. 즉 A포구(8개 단자)와 B포구(8개 단자), 전원단자들인 Vss와 VDD로 구성되여있다. 이 소자는 3개의 TIMER모듈을 내장하고있는데 TIMER1을 계수기로, TIMER2를 시계로 리용하였다. 4번단자인 Vpp는 내부프로그람쓰기단 자로서 +5V를 공급하게 되여있다. 진폭분석기출구에서 나오는 방사선임풀스신호(5V로 규 격화된 신호)를 계수입구로 설정한 12번단자인 RB6에 넣어주었으며 외부수정편을 쓰지 않고 PIC소자의 내부박자를 리용하였다. 7, 8번단자들인 RB1, RB2단자들은 MAX232를 거쳐 콤퓨터와 자료송수신을 진행한다. PIC16F628A와 MAX232의 전원공급은 자체로 제작한 +5V 안정전원을 리용하였다. ２．펌웨어설계 측정체계프로그람알고리듬은 그림 1과 같다. 먼저 PIC소자의 장치초기화를 진행한다. 12번단자인 RB6을 계수입구로 설정한다. 즉 TRISB.F6=1, TIMER1과 TIMER2의 조종등록기들인 T1CON과 T2CON등록기의 해당한 비 트들에 대한 초기화를 진행한다. 즉 T1CON=0b00000010, T2CON=0b00000010, 보드속도는 9 600으로 설정하였다.[3] 펌웨어설계는 앞으로 작성하게 될 응용프로그람과의 동시적인 고찰속에서 진행하였다. 즉 측정시작단추와 정지, 지우기단추, 기록수보기, 측정시간보기단추가 놓이도록 응용프 로그람대면부를 설계하는 경우 펌웨어설계는 측정시간을 설정하고 시작단추를 누르면 PIC － 104 － 종합대학학보 물리학 주체108(2019)년 제65권 제1호 소자에 0x30이 전달되고 소자가 임풀스계수를 시작하도록 하였다. 기록수 및 측정시간보기단추를 누르면 새치기신호 가 발생하는데 각각 0x34, 0x33이 PIC소자에 쓰기되고 PIC소자는 임풀스기록수값과 측정시간을 읽어서 콤퓨 터에로 전송한다. 콤퓨터로부터 측정정지신호를 접수하지 않으면 측 정을 반복하여 계속 진행하며 측정정지신호를 접수하 면 체계의 전체 동작을 완료한다. MikroC를 리용하여 프로그람을 작성, 수정, 콤파일 하고 완성된 프로그람을 PIC소자에 써넣는다. ３．응용프로그람설계 Visual C++를 리용하여 작성한 측정체계대면부에 따르면 먼저 측정시간을 min, s단위로 설정하고 설정단 추를 누른다. 시작단추를 누르면 기록수와 측정시간이 실시간적으로 변화되면서 화면상에 연시되고 설정한 시간이 다 되면 측정을 중지한다. 정지, 지우기단추를 통하여 측정을 일 시 정지할수도 있 그림 1. 측정체계프로그람알고리듬 고 기록수와 측정시간을 0으로 초기화시킬수 있다. 론문에서는 섬광검출기 NaI(Tl)를 리용하여 여 60 의 러번의 반복실험을 진행함으로써 표준원천 Co γ 선에네르기스펙트르를 측정하였다.(그림 2) 즉 단 통로분석기의 통로너비인 EΔ 를 고정시키고 에네르 기턱값( E )을 변화시키면서 해당한 통로번호들에서 의 기록수값을 측정하여 스펙트르를 얻었다. 그림 2에서 보는바와 같이 측정한 γ 선스펙트 르는 선행연구자료[2]들과 잘 일치한다. 맺 는 말 그림 2. Co 60 의 γ 선에네르기스펙트르 1) 한소편소자 PIC16F628A와 MAX232를 리용하여 단통로진폭분석기의 직렬자료송수 신회로를 설계제작하였다. 2) MikroC를 리용하여 프로그람을 작성하고 PIC소자에 쓰기를 진행하였다. 3) Visual C++를 리용하여 진폭분석기의 응용프로그람을 작성하고 섬광검출기 NaI(Tl) 를 리용하여 표준원천 Co 60 의 γ 선에네르기스펙트르를 측정하였다. PIC16F628A를 리용한 단통로분석기의 RS232직렬자료통신 － 105 － 참 고 문 헌 [1] M. P. Pesic et al.; Nuclear Technology and Radiation Protection, 31, 1, 67, 2016. [2] Zhang Hongjuan et al.; Mechanical and Electrical Engineering Magazine, 22, 2, 10, 2005. [3] Y. Choi et al.; Nuclear Engineering and Technology, 48, 164, 2016. 주체107(2018)년 9월 5일 원고접수 RS232 Serial Data Transport of a Single Channel Analyzer Using PIC16F628A Kim Kuk Chol, Jong Chol Min and Kang Chol We made out an application program of amplitude analyzer by using Visual C++ and executed the RS232 serial data transport of single channel amplitude analyzer using a single chip processer PIC16F628A. Key words: single channel amplitude analyzer, RS232 serial data transport