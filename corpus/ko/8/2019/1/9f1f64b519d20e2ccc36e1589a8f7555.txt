김일성종합대학학보 물리학 주체108(2019)년 제65권  제1호 지능형온습도수감부 DHT11의 특성과 리용방법 최경수, 박태화, 최호 경애하는 최고령도자 동지께서는 다음과 같이 말씀하시였다. 《과학기술과 경제의 일체화를 다그치고 나라의 경제를 현대화, 정보화하는데서 과학 기술부문이 주도적인 역할을 하도록 하여야 합니다.》(《조선로동당 제7차대회에서 한 중앙 위원회사업총화보고》 단행본 41페지) 선행연구[1, 2]에서는 DHT11의 온도측정원리와 방법은 소개하였지만 구체적인 통신규 약과 수감부의 성능이 떨어지게 되는 원인, 개선대책에 대해서는 소개하지 않았다. 우리는 계측 및 검측, 온습도자동조종, 기상예보 등에 널리 리용되고있는 지능형온습 도수감부 DHT11의 구성과 측정원리를 밝히고 대기온습도측정에서 나서는 기술공학적문 제들을 해결함으로써 남새, 버섯, 양묘온실환경측정에서 측정정확도와 안정성을 높이고 수명을 늘이도록 하였다. １．수감부의 기술적특성 DHT11은 환경의 온도와 습도를 수감하고 교정된 수자신호를 출력하는 지능형온습도 복합수감부이다. 수감부는 저항식습도수감부와 부온도저항수감부, 고성능8bit한소편콤퓨터 로 구성되여있다. 이 수감부의 우점은 잡음제거능력이 높고 신호선의 최대길이가 다른 수 감부들에 비해 긴것이다. 수감부의 상대습도분해능은 8bit이고 반복성은 ±1%RH이며 오차는 25℃에서 ±5%RH 이다. 온도가 25℃, 대기속도가 1m/s일 때 6s동안에 검측할수 있는 최대상대습도변화는 1/e배(63%)이다. 같은 상대습도에 대한 측정값의 변화는 1년동안에 ±0.5%RH이하이다. 수감부의 온도분해능은 8bit이고 반복성은 ±1℃이며 오차는 25℃에서 ±2℃이다. 대기 속도가 1m/s일 때 10s동안에 검측할수 있는 최대온도변화는 1/e배(63%)이다. 동작전원은 직류 3.3～5.5V이고 전류는 측정시에 0.3mA이며 대기상태에서는 0.06mA 이다. 표본화주기는 2s이다. ２．온습도측정방법 DHT11은 일정한 통신규약에 의해서만 측정한 온 습도신호를 출력하기때문에 외부의 한소편콤퓨터와 일정한 결합회로를 구성하고 통신규약에 맞게 프로그 람을 작성하여야 한다. 한소편콤퓨터와의 결합회로는 그림 1과 같다. 그림 1과 같이 수감부의 자료입출력단자(2번단자) 그림 1. 한소편콤퓨터와의 결합회로 지능형온습도수감부 DHT11의 특성과 리용방법 － 51 － 는 준위올림저항을 련결한 상태에서 한소편콤퓨터단자와 직접 련결된다. 이 저항은 신호 선의 길이가 20m이하일 때 5.1kΩ을, 20m이상일 때에는 보다 작은 값을 취한다. 3.3V를 리 용할 때에는 신호선의 길이가 1m이하여야 한다. 신호선이 길면 전압강하가 생겨 측정오 차가 커지게 된다. 수감부에서 자료를 얻은 값은 이전값이므로 실시간값이 요구될 때에는 련속 두번 측정하면 된다. 그러나 보다 정확한 측정값을 얻자면 5s이상의 시간간격을 두 는것이 좋다. 한소편콤퓨터와 수감부는 3상태단자를 통하여 련결되여있기때문에 온도를 측정하지 않을 때에는 모선을 석방하여 다른 설비들이 이 모선을 리용하게 할수 있다. １）한소편콤퓨터와 수감부사이의 통신규약 수감부와 한소편콤퓨터와의 통신은 동기통신이며 자료는 일정한 형식을 가진다. 한번 에 발송되는 자료는 40bit의 파케트자료이다. 자료형식은 다음과 같다. 습도옹근수(8bit) + 습도소수(8bit) + 온도옹근수(8bit) + 온도소수(8bit) + 검사자료(8bit) 여기서 온습도소수부는 령이고 검사자료는 앞의 4개 8bit 자료들의 합이다. 주콤퓨터는 40bit 자료를 받고 앞의 32bit 자료를 8bit씩 4개 바이트로 갈라 더한 값이 검사자료와 같 을 때에만 접수하고 같지 않을 때에는 접수하지 않는다. 한소편콤퓨터에서 시작신호를 발송하면 수감부는 저출력방식에서 고출력방식으로 전 환되는데 한소편콤퓨터가 보내는 시작신호가 끝나면 응답신호를 발송한 다음 40bit의 자 료를 출력한다.(그림 2) 그림 2. 신호입출력곡선 한소편콤퓨터와 수감부사이의 통신절차는 다음과 같다. 첫째로, DHT11의 불안정시간이 1s이므로 전원을 넣은 다음 1s동안은 자료를 접수발 송할수 없다. DHT11에 전원을 넣으면 환경온습도를 측정하고 해당 등록기에 보관한다. 한 편 DHT11의 자료모선은 준위올림저항에 의해 높은 준위를 유지하는데 이 상태가 접수대 기상태이며 이 상태에서 외부신호를 검측할수 있다. 둘째로, DHT11의 자료모선과 련결된 한소편콤퓨터의 I/O단자를 출력상태로 설치하고 낮은 준위를 출력한다. 이때 낮은 준위유지시간 이 18ms보다 작지 말아야 한다. 다음 I/O단자를 입력상태로 절환한다. 준위올림저항에 의하여 I/O 단자는 다시 높은 준위로 되고 DHT11의 응답신 호를 기다린다. 한소편콤퓨터가 내보내는 신호는 그림 3과 같다. 셋째로, DHT11은 DATA모선이 낮은 준위로 그림 3. 한소편콤퓨터가 내보내는 신호 － 52 － 종합대학학보 물리학 주체108(2019)년 제65권 제1호 되였다가 높은 준위로 될 때까지 기다리는데 이것은 DATA모선이 입력상태로부터 출력상 태로 변하였다는것을 보여준다. 이때 수감부는 응답신호로서 80μs의 낮은 준위를 내보낸 다. 계속해서 80μs의 높은 준위를 출력하여 한소 편콤퓨터로 하여금 자료접수를 준비할것을 통지 한다. 이때 한소편콤퓨터의 I/O포구는 접수상태로 되고 낮은 준위를 접수한 다음부터 DHT11에서 오는 40bit의 자료를 접수한다. 이 과정의 응답신 호모양은 그림 4와 같다. 그림 4. 응답신호모양 넷째로, DHT11은 DATA모선으로 40bit 자료를 출력하고 주콤퓨터는 I/O단자의 준위변 화를 검측하여 40bit 자료를 접수한다. 《0》자료의 형식은 50μs동안의 낮은 준위와 26～ 28μs동안의 높은 준위로 된 신호이고 《1》자료의 형식은 50μs동안의 낮은 준위와 70μs동 안의 높은 준위로 된 신호이다. 《0》과 《1》의 신호모양은 그림 5와 같다. 그림 5. 《0》과 《1》의 신호모양 DHT11은 40bit 자료를 내보내는 결속신호로서 50μs동안 낮은 준위를 내보내고 입력 상태로 된다. 이 준위는 준위올림저항에 의하여 다시 높은 준위로 된다. DHT11은 환경온 습도를 측정하고 보관한 다음 외부신호를 기다린다. ２）수감부의 성능개선방법 포장된 수감부를 처음 리용할 때 최고 3%RH의 우연성표류가 있을수 있는데 정상조건에서 리용하면 점차적으로 표준상태로 회복된다. 비정상조건에서 오랜 시간 리용할 때 수감부로화과 정이 가속된다. 수감부를 이슬이 맺히거나 지나치게 건조한 곳 특히 염소기체, 산성기체가 있는 곳에 보관하지 말아야 한다. 보관에 제일 적합한 환경은 10～40℃이고 습도는 60%RH이하이다. 저항식습도수감부의 수감재료는 화학증기의 영향을 쉽게 받는다. 화학물질이 수감재 료에 확산되면 측정값이 표류되고 감도가 떨어진다. 성능이 떨어진 이 수감부의 오염물질 은 깨끗한 환경속에서 완만하게 방출된다. 화학물질이 고농도로 포함되여있는 기체속에서 는 수감재료가 완전히 다른 물질로 되면서 회복불가능하게 된다. 기체의 상대습도는 온도와 밀접한 관계가 있기때문에 습도수감부는 환경온도와 같은 곳 에서 리용해야 한다. 열이 나는 소자가 있는 기판에서 리용하는 경우 수감부를 가능한 그 소 자와 멀리 배치하고 그 소자보다 낮은 곳에 설치해야 하며 통풍이 잘되게 해야 한다. 열전도 를 막기 위하여 인쇄회로기판에서 수감부와 련결된 배선두께를 가능한 가늘게 해야 한다. 수감부에 오래동안 해빛을 쪼이거나 자외선을 쪼이면 성능이 떨어진다. 이러한 요인들에 의해 수감부성능이 떨어진 경우 먼저 온도가 45℃이고 습도가 10%RH보다 작은 환경에서 2h동안 유지하고 계속하여 온도가 20～30℃이고 습도가 70%RH이상인 환경에서 5h이상 유지하면 성능이 원래상태로 회복된다. 지능형온습도수감부 DHT11의 특성과 리용방법 － 53 － 맺 는 말 참 고 문 헌 대기환경온습도측정에 널리 리용되고있는 지능형온습도수감부 DHT11의 구성과 온도 측정원리, 한소편콤퓨터와의 통신규약을 과학적으로 밝히고 수감부의 성능이 떨어지는 원 인과 그 극복방도를 밝힘으로써 측정정확성을 개선하고 수명을 늘이도록 하였다. [1] 刘许尧; 苹果微域环境的温度和光照度监测系统设计, 河北农业大学, 10～18, 2013. [2] 严芳芳; 基于太阳能发电的温室大棚参数检测装置的研究, 河北农业大学, 3～27, 2013. 주체107(2018)년 9월 5일 원고접수 Characteristics of an Intelligent Temperature Humidity Sensor DHT11 and Its Method for Use Choe Kyong Su, Pak Thae Hwa and Choe Ho On an intelligent temperature humidity sensor DHT11 using in atmosphere environment, we explained its configuration, principle for measuring temperature, communications protocol between a one-chip processor and sensor, a cause of reducing the performance of sensor and a measure to settle, and improved accuracy and increased lifetime. Key words: intelligent temperature humidity sensor, communications protocol