김일성종합대학학보 수 학 주체109(2020)년 제66권 제1호 간차식동영상순차화에서 베이스방법에 의한 움직임벡토르추정 최성영, 리광일 경애하는 최고령도자 동지께서는 다음과 같이 말씀하시였다. 《이미 일정한 토대가 있고 전망이 확고한 연구대상들에 힘을 넣어 세계패권을 쥐며 그 성과를 확대하는 방법으로 과학기술을 빨리 발전시켜야 합니다.》 우리는 간차식동영상의 순차화를 위한 성능높은 움직임보상순차화방법에 대하여 연 구하였다. 순차화는 한마당의 정보만을 리용하는가 아니면 여러 마당의 정보를 리용하는가에 따라 마당내보간과 마당간보간으로 나눈다. 마당내보간은 리용하는 정보가 1개 마당뿐인것으로 하여 순차화성능의 개선에서는 일정한 한계가 있다.[1] 마당간보간에는 크게 두가지가 있는데 하나는 움직임적응방법(Motion Adaptive)이고 다른 하나는 움직임보상방법(Motion Compensation)이다. 움직임적응방법은 움직임이 있는가 없는가에 따라 마당내보간과 마당간보간을 적응 적으로 적용하는 방법으로서 마당내보간만을 리용할 때보다는 순차화성능이 개선되게 된 다.[2, 3] 움직임보상방법은 블로크별로 움직임벡토르를 추정하고 그에 따라 린접마당들의 정 보를 리용하여 보상을 진행하므로 움직임보상을 하지 않는 순차화방법들에 비하여 성능 이 훨씬 높아지게 된다. 움직임추정을 얼마나 안정하게 하는가 하는것이 순차화의 질을 높이는데서 중요한 문제로 나선다.[1－5] 론문에서는 베이스사후확률추정에 의하여 움직임벡토르추정의 정확성과 안정성을 높 이고 그에 기초하여 움직임보상순차화를 진행한다. 보간하려는 88 × 블로크의 99 × 근방을 움직임범위로 결정하고 움직임벡토르를 추정 한다. kw 를 81개의 움직임벡토르후보들중 k 번째 벡토르가 선택될 사건 즉 k 번째 벡토 르에 따르는 보간이 진행될 사건, A 를 81개 움직임벡토르후보들에 따르는 이전마당과 다음마당의 대응되는 두 블로크의 화소값평균차 로 이루 어진 162( )차원관측벡토르라고 하자. iM 와 분산차 =iVi ( )81, ,2,1 2 ×= (cid:34) 81 그러면 움직임벡토르를 추정하는 문제는 AwP k ) ( | 가 최대인 k 를 결정하는 문제로 귀착된다. ~ k = arg max k kAwP () | ( = ,2,1 (cid:34) )81, k (1) 한편 베이스공식에 의하면 AwP ) k ( | = k ( wAPwP ) ( k AP ) ( | ) (2) 여기서 ( kwP ) 택될 확률이고 kwAP | 는 사전확률 즉 81개 후보벡토르들중 k 번째 벡토르가 움직임벡토르로 선 는 81개 벡토르들중 k 번째 벡토르가 움직임벡토르로 될 때 162 ) ( ) ( kwP ( | kwAP － 94 － 종합대학학보 수학 주체109(2020)년 제66권 제1호 차원관측벡토르 A 가 얻어질 확률함수이다. ) AwP k 의 최대인 k 를 추정하는 문제는 이로부터 ( | 정하는 문제에로 귀착된다. wAPwP ) k ( ( k | ) 가 최대인 k 를 추 ~ k = arg max k wAPwP ) k ( ( k | () k = ,2,1 (cid:34) )81, (3) 는 비파라메터추정방법의 하나인 기둥도표법으로 계산한다. ) 는 A 의 차원수가 크기때문에 비파라메터추정의 방법으로는 추정할수가 없 다. 론문에서는 먼저 162차원벡토르에 대하여 주성분분석을 진행하여 35차원까지 차원수 를 줄이고 이 차원수가 줄어든 특징벡토르에 대하여 우의 조건부확률함수를 계산한다. 많은 개수의 동영상토막의 매 88 × 크기의 블로크에 대하여 162차원특징벡토르를 구 하고 이 벡토르들을 리용하여 공분산행렬을 계산하며 그 행렬의 고유값과 고유벡토르를 계산한다. 고유값이 큰 순서대로 순서화하였을 때 첫 35개 고유값에 대응하는 고유벡토 르들을 라고 하자. 이 고유벡토르들을 렬벡토르로 하여 이루어진 (cid:34) V eig , , 2 행렬을 Trans_Mat ( 162 × V )라고 하자. 이 행렬이 주성분변환을 진행하는 변환행렬이다. eig 35 eig V 1 35 , 임의의 블로크에 대하여 그것의 움직임벡토르가 k 번째 후보벡토르로 선택될 때 공 분산행렬은 다음과 같이 계산한다. k 번째 후보벡토르가 움직임벡토르로 되는 블로크들에 대하여 그 블로크의 162차원 특징벡토르들을 리용하여 공분산행렬을 얻는다. (T Co _Mat v = ∑  )에 의하여 공분산행렬들( A A × k k Trans_Mat ( 162 × 특징벡토르를 아래와 같이 변환한다. 35 = ,2,1 (cid:34) )81, (4) v _Mat Co k ( =k ,2,1 (cid:34) )81, )과 162차원 =Σ k Trans _ Mat × Co v _ Mat × Trans Mat ( k = ,2,1 (cid:34) )81, (5) T k A 1 = Trans _ Mat × A （6) _ T 다음 조건부확률공식 P ( A|w k ) = 1 2/ l π )2( | Σ 2/1 | k 를 계산한다. ⎛ exp ⎜ ⎝ − 1 2 T A 1 Σ 1 − k A 1 ⎞ ⎟ ⎠ 을 리용하여 kwAP | ( ) ( k = ,2,1 (cid:34) )81, (7) 다음으로 움직임벡토르의 믿음성을 평가한다. 얻어진 움직임벡토르 d 에 대하여 이 전마당과 다음마당의 대응하는 블로크의 절대값차합(SAD, Sum of Absolute Differences)을 리용하여 믿음성검증을 진행한다. SAD d )( = dxf − ( , x dy − ; n )1 −− dxf + ( y , x dy + ; n + |)1 y ∑ | ) Λ∈ yx ,( SAD d 가 정해진 기준값 MV _ THR 보다 큰가 작은가에 따라 믿음직한가 아닌가를 )( 결정하였다. 여기서 르이다. < ≥ )(dR 가 1이면 믿음성이 있는 움직임벡토르이고 0이면 믿음성이 없는 움직임벡토 SAD SAD THR THR MV MV )( d d )( ,1 ⎧ ⎨ ,0 ⎩ )( dR _ _ = 움직임벡토르에 따르는 보간은 다음과 같이 진행한다. 간차식동영상순차화에서 베이스방법에 의한 움직임벡토르추정 － 95 － dxf − ( , x ndy y − ; )1 +− , x ndy y + ; − )1 nyxf ,( ; ) = ,( yxf + 2 4가지 방법의 성능(PSNR)을 다음의 표에 보여주었다. ,( yxf ;1 − n n ) ) , ⎧ ⎪⎪ ⎨ ⎪ ⎪ ⎩ dxf + ( 2 ;1 + , dR 1)( ∧= d : 짝수 dR 0)( ∨= d : 홀수 y y 방법 3마당 BI 4마당 BI 4마당 UNI+BI 제기한 방법 표. 4가지 방법의 성능 No. 동영상 1 동영상 2 동영상 3 동영상 4 동영상 5 동영상 6 동영상 7 동영상 8 동영상 9 평균 47.356 48.312 52.835 53.914 53.491 56.538 48.655 49.325 53.318 51.527 47.881 48.975 53.431 54.011 53.614 57.245 48.689 49.102 54.624 51.952 47.902 49.164 53.432 54.308 53.586 57.245 48.764 49.397 54.893 52.077 48.12 49.863 53.626 54.338 53.752 57.405 48.921 49.741 55.215 52.331 표에서 볼수 있는바와 같이 여러가지 특성을 가진 화상들에 대하여 보간을 진행할 때 론문에서 제기한 방법이 전반적으로 보간오차를 줄인다. 참 고 문 헌 [1] 종합대학학보 수학, 64, 4, 19, 주체107(2018). [2] E. B. Hann et al.; De-interlacing, Proc. IEEE, 86, 9, 1839, 1998. [3] Y. C. Fan et al.; Circuits Syst. Video Technol., 19, 7, 932, 2009. [4] M. Mohammadi et al.; IET Image Process, 5, 7, 611, 2011. [5] X. T. Zhu et al.; LNCS., 10736, 397, 2018. A Bayesian Motion Vector Estimation for Deinterlacing 주체108(2019)년 9월 15일 원고접수 Choe Song Yong, Ri Kwang Il We study a Bayesian motion vector estimation for deinterlacing. The experimental results show that the proposed method improves the performance. Keywords: Bayesian decision theory, motion estimation