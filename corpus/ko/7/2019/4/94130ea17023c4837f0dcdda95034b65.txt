김일성종합대학학보 수 학 주체108(2019)년 제65권 제4호 화상국부령역특징을 리용한 방향성마당내 보간순차화방법의 개선 조동철, 리철균 론문에서는 간차식동영상을 순차식동영상으로 변환하는 마당내보간순차화방법에 대 하여 연구하였다. 선행연구[2－5]에서 제기된 선반복법(LR), 선평균법(LA), 경계기반선평균법(ELA)과 방향성마당내보간법(DOI)들은 속도가 빠르거나 경계처리를 보다 개선하지만 화상경계에 서 뚜렷한 계단효과가 나타나거나 경계방향추정이 안정하지 못하며 잡음이 많이 나타나 는 부족점들을 가지고있다. 선행연구[1]에서는 우의 선행방법들의 부족점들을 극복하기 위하여 경계방향추정문제 를 최대사후확률추정문제에 귀착시키고 베이스방법에 의하여 사후확률이 최대로 되는 방 향을 찾아 그 방향에 따르는 보간을 진행하는 한가지 방향성마당내보간법을 제기하였다. 그러나 이 방법은 방향성마당내보간법(DOI)에 비하여 경계방향추정이 보다 안정해지지만 반복무늬가 있거나 수평경계가 있는 구역에서의 보간결과가 안정하지 못한 부족점을 가 지고있다. 론문에서는 선행연구[1]에서 나타난 부족점들을 해결하기 위하여 화상의 국부령역의 정보를 추출하여 리용하며 수평경계령역과 평탄한 령역에서의 보간을 보다 안정화하기 위한 방법을 구성하고 실험을 통하여 그 효과성을 평가하였다. 또한 선행연구[1]에서 수 평경계에 대한 처리를 해주지 않은것으로 하여 나타난 결함을 극복하기 위하여 새로운 수평경계판정기준을 도입하고 이 기준에 의하여 평탄성(무경계성)도 판정하였다. 그 기준은 보간하려는 점의 웃줄의 5개 점들의 분산과 아래줄의 5개 점들의 분산이 다. 보간하려는 점의 근방이 평탄한 령역이거나 수평경계라면 두 분산이 다 작을것이다. 따라서 론문에서는 두 분산이 다 어떠한 턱값보다 작으면 수평 및 평탄으로 보았으며 이 를 하나의 새로운 방향클라스로 보고 선행연구[1]에서 제시된 17개 방향클라스에 추가하 였으며 18개 방향클라스에 대하여 클라스사후확률이 큰 클라스에 따르는 보간을 진행하 였다. 턱값은 실험을 통하여 4로 설정하였다. : 보간하려는 점의 웃줄의 5개 점( )들의 분산 1_Var )2,2 t () −= t i U (0 : 보간하려는 점의 아래줄의 5개 점( i L (0 2_Var 1_Var < =kwk , , thr : 2_Var 2_Var 1_Var thr thr thr 18 + < < < , 이면 수평이거나 평탄블로크라고 보겠다. + t t () −= )2,2 )들의 분산 일 사건 즉 보간하려는 점에서의 경계방향이 수평 이거나 경계가 없는 평탄한 구역일 사건(여기서 thr ≥ 이거나 2_Var 1_Var 17~1 thr : =kwk , thr = 로 설정함) 4 ≥ 이면서(즉 보간하려는 점에서의 경계방 향이 수평이 아니거나 평탄한 구역이 아니면서) 웃줄의 17개 점들( k 번째 점이 )중 )(iX 와 화소값이 제일 류사할 사건 다시말하여 17개 점들중 k 번째 점이 보 i U (0 )8,8 t () −= + t 화상국부령역특징을 리용한 방향성마당내보간순차화방법의 개선 － 85 － 간에 참가할 사건, A : 보간하려는 점의 2*3근방 과 웃줄의 17개 ⎛ ⎜⎜ ⎝ *k )2 *k )2 − − iU ( 0 iL ( 0 iU ( 1 iU ( 0 )1 )1 iUiU )( ( 0 0 iL iL )( ( 0 0 *k )21 ++ *k )21 ++ k ( ⎞ ⎟⎟ ⎠ )1 + )1 + ⎞ ⎟⎟ ⎠ −= )88, 들의 차(6차 방향에서의 2*3블로크 iU ( 1 iU ( 0 ⎛ ⎜⎜ ⎝ +− +− *k )21 *k )21 iU ( 1 iU ( 0 + + 원벡토르)들 그리고 보간하려는 점의 2*3근방과 량옆의 적당한 4개 점의 2*3근방 ( iU 0 ( iL 0 ⎛ ⎜⎜ ⎝ + + ) ( iUt 0 ( ) t iL 0 t ++ t ++ )1 )1 ( iU 0 ( iL 0 t ++ t ++ )2 )2 ⎞ ⎟⎟ ⎠ −=t ( ,5 − )3,1,3 들의 차(6차원벡토르)들을 나란히 붙여만든 126(=21*6)차원관측벡토르라고 하자. 다음으로 HOG정보 B 를 보간하려는 점의 5*5근방의 25개 미지점 및 기지점의 그라 디엔트에 대하여 향방히스토그람을 계산하여 얻는다. 그라디엔트의 향방각의 범위를 ,0[ π 로 하며 보간하려는 점의 5*5근방의 25개 점에 대하여 π 구간을 5등분하여 히스토 ) 그람을 계산한다. 매 미지점의 그라디엔트는 다음과 같이 계산한다. x 축방향변위와 y 축방향변위를 x =Δ 1 iL ( 0 )1 −+ iU ( 0 − )1 , y =Δ 1 iL ( 0 )1 −− iU ( 0 + )1 22 22 로 보고 그라디엔트의 크기와 향방각을 | grad 1 x | Δ= 1 2 y Δ+ 1 2 , arg( grad 1 ) = ⎛ ⎜⎜ arctan ⎝ y Δ 1 x Δ 1 ⎞ +⎟⎟ ⎠ π 4 로 정한다. 또한 x 축방향변위와 y 축방향변위를 ( )1 iU −+ 0 ( iU 0 )1 −+ ( iL 0 x =Δ 2 )1 +− 4 ( iL 0 − )1 , y =Δ 2 0 )( )( iUiL − 2 0 로 보고 그라디엔트의 크기와 향방각을 | grad 2 | Δ= x 2 2 2 y Δ+ 2 , arg( grad ) = arctan 2 ⎛ ⎜⎜ ⎝ y Δ x Δ 2 2 ⎞ ⎟⎟ ⎠ 로 정한다. 그다음 미지점의 그라디엔트는 2개의 그라디엔트중 절대값이 큰것으로 하며 그것의 향방각이 ,0[ π 구간에 놓이도록 한다. ) 매 기지점의 그라디엔트는 다음과 같이 계산한다. x 축방향변위와 y 축방향변위를  )1 −+ 2 ( iU 0 ( iU 0 y =Δ x =Δ )1 − , 0 )( )( iUiL − 4 1 로 보고 그라디엔트의 크기와 향방각을 | grad 2 | x y Δ+Δ= 2 , arg( grad ) = arctan ⎛ ⎜ ⎝ y Δ x Δ ⎞ ⎟ ⎠ 로 정한다. 향방각은 ,0[ π 구간에 놓이도록 한다. ) 그다음 한다. 히스토그람은 )(iX 의 5*5근방의 25개 점의 그라디엔트에 대하여 그것의 히스토그람을 계산 ,0[ π 구간을 5등분한 매 부분구간(bin)에 향방각이 놓이는 그라디엔 ) 트의 크기를 루적하고 총합으로 나누어 계산한다. 얻어진 5차원그라디엔트히스토그람벡 － 86 － 종합대학학보 수학 주체108(2019)년 제65권 제4호 토르를 B (HOG－5차원벡토르)라고 표시한다. 론문에서는 베이스방법을 리용하여 매 점에서의 경계방향을 추정한다. 따라서 경계방 ∩ 가 최대인 k 를 결정하는 문제에 귀 BAwP k | 향을 찾는 문제는 최대우도추정문제 즉 ) ( 착된다.[1] ~ k = max arg k 1 18 ≤≤ | BAwP ∩ ( ) (1) k 한편 베이스사후확률공식으로부터 다음식이 성립한다. BAwP | ∩ ( ) = k k ( ∩ wBAPwP ( ) k ∩ BAP ) ( | ) ( k = )18,1 (2) 여기서 ( 18wP ) 은 미지점근방이 평탄이거나 경계방향이 수평일 확률이고 wP k ( () =k )17,1 는 평탄이 아니거나 수평경계가 아닐 때 웃줄의 17개 점들중 k 번째 점이 미지점과 제일 가까울 확률이며 는 조건부확률함수 즉 18개 클라스들중 k 번째 클라스가 선 ) ( kwBAP ∩ | 택되였을 때 131(=21*6+5)차원관측벡토르 BAwP k | 이로부터 ( BA ∩ 가 얻어질 확률함수이다. ∩ 의 최대우도추정문제는 최대사후확률추정문제로 귀착된다. 즉 ) ~ k = arg max k 1 18 ≤≤ wBAPwP ( ∩ ) ( | ) (3) k k 이다. 웃식에 의하여 경계방향을 추정하자면 사전확률 kwP ( ) 와 조건부확률 kwBAP ∩ ( | ) 를 계산하여야 한다. 아래에서는 이것들의 추정방법에 대하여 서술한다.[1] 기둥도표법으로 사전확률 kwBAP ∩ ) ( | kwP ( ) 를 추정한다. 도 기본적으로 선행연구[1]에서와 같이 추정한다. 먼저 126차원관측벡토 르 A 를 주성분분석에 의하여 30차원으로 변환하고 그뒤에 5차원벡토르 B 를 덧붙여 만 든 35차원벡토르에 대하여 를 다차원정규분포로 보고 파라메터추정한다. 주 성분분석의 변환행렬 Trans_Mat (126＊30)을 계산한다. 다음으로 Trans_Mat (126＊30)에 kwBAP ∩ ( ) | 의하여 126차원벡토르를 다음과 같이 변환하자. = Trans _ Mat × A （4) T A 1 30차원벡토르 1A 의 뒤에 5차원벡토르 B 를 덧붙여 만든 35차원벡토르를 C 라고 하 자. 이때 공분산행렬은 다음과 같이 계산한다. =Σ k C E [( − )( μ C − μ T (]) k = )18,1 (5) 여기서 [CE=μ ] 이다. 다음 AP ( ∩ B|w k ) = 1 2/35 π )2( | Σ k 2/1 | ⎛ exp ⎜ ⎝ 1 2 − C ( − ) μ 1 − T Σ k ⎞ ⎟ ⎠ C ( − ) μ ( k = )18,1 (6) 에 따라 조건부확률함수 kwBAP ∩ ( | ) 를 계산한다. 최대사후확률추정에 따라 보간하려는 점의 웃줄에서 선택된 방향을 0k 이라고 하자. 우의 방법과 마찬가지로 아래줄에 대하여 최대사후확률을 추정하여 찾아진 아래방향 을 1k 이라고 하자. 이제 다음과 같이 방향에 따르는 보간을 진행한다. 화상국부령역특징을 리용한 방향성마당내보간순차화방법의 개선 － 87 － )( iX = ( iU 0 + k ( iL 0 + k 1 ) ⎧ ⎪⎪ ⎨ ⎪ ⎪ ⎩ )( iU 0 + 2 0 ) + 2 )( iL 0 , 기타 (, k 0 − )9 + ( k 1 − 0)9 = (7) 론문에서 제기한 방법의 효과성을 검증하기 위하여 6개의 실험화상(ㄱ－ㅂ)들에 대하 여 론문에서 제기한 방법과 선행연구들에서 제기한 두가지 방법의 결과를 비교하였다. 세가지 방법의 성능을 PSNR에 의하여 다음의 표에서 보여준다.(표) 표. PSNR에 의한 세가지 방법의 성능비교 화상자료 DOI 선행연구[1]에서 론문에서 제기한 방법 38.756 3 36.721 7 35.898 1 35.912 7 34.849 2 36.315 9 36.409 0 제기한 방법 39.161 6 37.151 6 36.662 36.452 0 35.309 8 37.057 8 36.965 8 38.906 0 36.649 8 36.372 2 35.941 3 32.646 6 36.472 1 36.164 7 ㄱ ㄴ ㄷ ㄹ ㅁ ㅂ 평균 표에서 보는바와 같이 여러가지 특성을 가진 화상들에 대하여 순차화를 진행할 때 론문에서 제기한 방법의 보간오차가 가장 작다. [1] 종합대학학보 수학 65, 1, 31, 주체108(2019). 참 고 문 헌 [2] E. B. Bellers et a1.; Circ. Syst. and Sig. Proc., 27, 28, 7, 1996. [3] Y. Biet a1.; Communic. Comp. Informat. Science Book Series(CCIS), 685, 12, 2016. [4] T. Chen et a1.; Visual Communications and Image Processing, 4067, 1551, 2000. [5] L. Zheng et a1.; Speech and Signal Processing, 13, 335, 1998. 주체108(2019)년 6월 10일 원고접수 Improved DOI Intra-Field Deinterlacing Method using  Image Local Regional Features Jo Tong Chol, Ri Chol Gyun In this paper, we propose an approach to improve DOI intra-field deinterlacing method using Bayes estimation. It is showed that this method outperforms prior results through our experiments. Key words: Bayes estimation, intra-field interpolation, deinterlacing