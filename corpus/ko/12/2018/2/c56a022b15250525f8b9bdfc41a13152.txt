김일성종합대학학보 정보과학 주체107(2018)년 제64권  제2호 추론에 기초한 시간표자동작성의 정확도를 높이기 위한 제약설정의 한가지 방법 서 건 일 제약에 기초한 추론을 리용하여 시간표를 작성할 때 교원, 학생, 과목, 시간, 장소들 이 각이하게 주어지는 조건에 맞게 그것을 제약조건으로 정확히 반영하여야 하며 이에 따라 시간표작성의 질이 크게 좌우되게 된다.[1] 선행연구들은 제약조건들에 대한 정의를 세부화하지 못하고 시간표작성에서 보다 구 체적인 제약조건들을 반영하지 않은것으로 하여 시간표작성의 정확도를 높일수 없는 제 한성을 가지고있다. 론문에서는 제약조건들을 부류별로 구체적으로 정의하는 방법론을 확립하고 제약기 초추론을 리용하여 시간표작성의 정확도를 높이는 방법을 제안하였다. １．제약에 기초한 추론과 모형의 형식화 제약에 기초한 추론(CBR)은 제약충족문제(CSP)를 해결하는데 리용되는 추론이다.[2]   CSP는 다음의 구성요소들을 리용하여 정의할수 있다.  ① i 1 i ≤≤ ② 변수 ,2,1 i DD , { ③ 변수 ∈ 들에 대한 가능한 값(시간값)들로 구성된 령역 i, 사이의 2항제약들인 인 n 개의 변수 i  혹은 j 의 유한모임 X jX ∈ , n , ) n 1, ≤ i 와 이고 j = n ≤ ij ,( (여기서 , } Lj j 의 ,2,1 L X n ) j j , ijR 는 i 와 L D = 값들의 쌍을 짓게 하는 직적 ijR 의 모임 D × 의 부분모임이다.) i ,( = i D j j CSP의 풀이는 모든 제약들을 만족시키는 X 의 모든 변수들의 값들이다. 이 변수값들 iD 의 값을 변수 i 에 할당한다는것을 의미한다. 따라서 CSP들은 을 구한다는것은 령역 CBR에 의해 풀수 있다. 로 구성되여있다. CSP는 변수들의 모임, 변수들과 련관된 령역의 모임, 변수들과 련관된 제약의 모임으 TTP[3, 4]는 4차원구조 < REDS , , , > 를 가지는 CSP로써 정의될수 있다. 여기서 S 는 전체 수업들의 유한모임, D 는 전체 시간령역값들의 유한모임, D 는 전체 공간령역값들의 유한모임, R 는 변수들사이의 관계들 즉 제약들의 유한모임이다. 학과과정들은 여러개의 부문들 즉 기초, 전공기초, 전공으로 구성된다. 매 부문에는 여러개의 과목들이 있다. 과목은 주당 여러 수업들로 나누어진다. 수업은 교원이 주어진 시간과 교실에서 학급에 가르치게 될 과목의 부분이다. 그러므로 이 경우에 CSP의 변수 는 수업이다. 령역 D 는 수업 i 와 j 에 할당될수 있는 모든 가능한 시간값들의 유한모임이며 그것 추론에 기초한 시간표자동작성의 정확도를 높이기 위한 제약설정의 한가지 방법 － 71 － 은 2개의 부분들인 1D 과 DD (2 ≡ DD ,1{ })2 로 나누어진다. 1D 에는 오전시간의 과목들에 관한 해당한 시간값들전체가 들어있고 2D 에는 오후시 간과목들의 해당한 시간값들이 들어있다.  j 에 관한 시간령역은 수업 jD 로 표시한다. 여기서 D j ∈ 이다. 수업 D j 에 할당될수 있는 시간값들은 t 로 표시된다. 여기서 jDt = 이다. 수업 j 에 해당한 공간 즉 교실령역 E j ∈ 이다. 수업 E j 에 할당될수 있는 교실은 r 로 표시한다. 은 jE 로 표시한다. 여기서 r ∈ 이다. 여기서 jE j 에 할당되는 시간들과 교실은 각각 과목 Rij ∈ 는 수업 i 와 jε 로 표시한다. j 에 관한 타당한 값쌍들을 지적하는 령역들의 직적의 부 jδ 와 R j 사이의 제약이며 그것은 i 와 이다.  분모임 즉 ⊆ DD × i j R ij 과목 j 를 가르치는 교원은 기서 r = ,2,1 L , m 이다. 수업 j 의 과정, 과정류형, 부문, 과목은 각각 j jL 로 표시한다. 교실 r 의 수용능력은 j SMTC , j , , j 로 표시한다. rY 로 표시한다. 여 ２．제약설정과 탐색 일반적으로 대학들에서의 시간표작성의 제약은 즉 령역제약, 비충돌시간제약, 시간제 약, 공간제약, 분산제약과 같은 부류들로 나누어볼수 있다. 이 제약들에는 두가지 종류의 제약 즉 1항제약(실례로 시간제약) 혹은 2항제약(실례로 비충돌시간제약)이 속한다. OCBR에서 대부분의 1항제약들은 클라스제약(클라스의 성원함수로써 정의되는 제약 들)들로 구성되고 2항제약들은 일반함수들로 구현된다.  jR 로 표시하고 2항제약은 , 약들의 연산자들은 관계연산자들 1항제약은 ,( , ><=>< ij ) , 과 모임포함, 모임제외이다. R 로 표시한다. 여기서 i ∈, j S 이다. 이러한 제 １）령역제약 령역제약은 수업들에 할당된 시간슬로트와 교실의 값들이 각각 시간과 장소령역들로 부터 선택되여야 한다는것을 의미한다. ( () ∈∃∀ Dt j () δ j j = t ) (1) ( () ∈∃∀ r j E () ε j j = r ) (2) ２）비충돌시간제약 비충돌시간제약은 2항제약이며 두가지 류형들인 모듈내 비충돌과목제약과 과목－교 원비충돌제약으로 갈라볼수 있다. ① 모듈내 비충돌과목제약  모듈내 비충돌과목제약은 같은 그룹의 학생들을 한 학기에서 제공되는 모든 과목들 에 등록할수 있도록 하기 위해 같은 모듈의 과목들에 대하여 시간충돌이 없어야 한다는 것을 의미한다. i ( ∀ , j () δδ ≠ j { i | M i = M }) (3) j － 72 － 종합대학학보 정보과학 주체107(2018)년 제64권 제2호 ② 과목－교원비충돌제약 과목－교원비충돌제약은 같은 교원이 가르치는 과목들이 서로 다른 시간슬로트들에 할당되여야 한다는것을 의미한다.  i ( , ∀ j () δδ ≠ j { i | L i j = L }) (4) ３）시간제약 시간제약은 대부분이 1항제약들이며 여기에는 다음과 같은 4가지 류형들이 있다.  ① 본과과정에 관한 특정시간 ② 통신과정에 관한 특정시간 ③ 방학 ④ 사전에 할당된 과목 본과과정의 과목들은 주간시간슬로트들(시간슬로트 1, 2)에 할당되여야 하며 통신과정 의 과목들은 저녁시간슬로트들(시간슬로트 3)과 주말시간슬로트들에 할당되여야 한다.  δ j (5) () ( ∈∃∀ Dt Tt |{ ()1 })1 = = j j () ( ∈∃∀ Dt j ()2 δ j = Tt |{ j = })2 (6) 일부 시간슬로트들은 그것들이 특정한 강의에 할당되여야 한다는 요구로 하여 리용 되지 못할수도 있다. 그러므로 그러한 시간슬로트들은 리용할수 없다. 이 제약은 예약된 제약이라고 한다. P 가 D 의 부분모임 ( DP ⊆ 으로 특정한 목적을 위해 리용될 령역 D 의 시간슬로트 ) 값들을 나타낸다고 하면 이 값들은 과목들에 할당되도록 하는데 리용되지 못하며 이 제 약을 다음과 같이 표시할수 있다.  () ( ∉∃∀ (7) Pt () δ ) j t j = 시간이 리용되지 못하는 방학과 같은것이나 다른 경우들로 하여 일부 날자들이 리용 되지 못할수 있다. 이로부터 이 제약은 공식적으로 방학으로 인식되는 날자들중 임의의것 에 할당된 과목들이 없어야 한다는것을 지정한다. H 를 방학에 할당된 시간슬로트값들을 나타내는 D 의 부분모임 ( H ⊆ 이라고 정의 D ) 할 때 이 값들은 수업들에 할당될수 없다. () ( ∉∃∀ Ht j () δ j = t ) (8) ４）공간제약 공간제약에는 1항제약들로 분류되는 두가지 류형이 있다. 이 제약들은 클라스의 생성 자에서 실현된다. ① 교실수용능력제약 ② 비충돌교실제약 교실수용능력제약은 교실수용능력이 그 교실에 할당된 과목의 학생수보다 커야 한다 는것을 의미한다.  jN 를 수업 j 에 관한 학생수라고 하고 rY 를 교실 r 에 관한 교실수용능력이라고 할 때 이 제약을 다음과 같이 표시할수 있다.  () () ( ∈∃∀ Et j ε j = Nr |{ ≤ Y r j j }) (9) 추론에 기초한 시간표자동작성의 정확도를 높이기 위한 제약설정의 한가지 방법 － 73 － 비충돌교실제약은 같은 시간주기내에 교실에 1개 과목만이 할당되여야 한다는것을 의미한다. jε 를 시간 jδ 에서 수업 j 에 할당된 교실이라고 할 때 다음과 같이 표시할수 있다. ( i ∀ , j () ε i ≠ { δδε i j = | j }) (10) ５）분산제약 분산제약은 수업들이 18주전반에 골고루 분산되도록 하는데 리용되며 두가지 부류로 갈라볼수 있다. 한다. 교원이 있어야 한다. ① 18보다 작은 수업의 수를 가진 과목들에 대해서는 주당 1명의 교원이 있어야 ② 18이상이고 36보다 작은 수업의 수를 가진 과목들에 대해서는 주당 최대로 2명의 우의 정식화에 기초하여 대학 TTP는 수업을 변수로, 리용할수 있는 시간슬로트들과 교실들을 령역들로, 과목들사이의 관계와 과목들과 자원들사이의 관계를 제약으로 표현함 으로써 CSP로 모형화할수 있다. 대학 TTP에로의 풀이는 모든 제약들이 만족되도록 시간 슬로트와 교실령역들의 시간슬로트들과 교실들을 18주간의 과목들에 할당하는것이다. 시간표작성문제에서 그라프나무의 준위들은 과목들에 대응되고 매 준위 j 는 m 개의 에 대응되는 m 개의 자식을 가진다. 풀이는 뿌리로부터 잎마 ≤1,δ 가능한 할당들 ≤ n j j , , ] L nδ 으로 주어지게 된다. 매 마디는 모 디들에로의 경로를 나타내는 풀이벡토르 , [ δδ 1 2 든 준위들에서 같은 자식의 수를 가지며 n개의 과목들과 m개의 시간값들의 시간표작성문 제에 대한 풀이들은 n 차원값들 즉  δ 2 δ n nm 이다. 풀이의 공간이 너무 으로 표시할수 있다. 그러므로 전체 가능한 풀이의 공간은 크므로 완전히 렬거하는것은 불가능하다. 따라서 거꿀추적탐색방법에 기초한 부분렬거기 술을 리용하여 탐색알고리듬의 기능을 높여야 한다. 이때 거꿀추적탐색절차는 앞방향검사 와 제약전파를 결합한다. ,2, > ,1, <> δ j δ 1 L L , > m < < > < ] [ t , , , , ３．실험 및 효과성검증 학교들의 시간표작성에 리용하여 그 효과성을 검증하였다. 초급반의 3개 학년, 고급 반의 3개 학년의 교육과정에는 과목 87개, 교원 68명, 학급 18개, 교실 30개가 포함된다. 이로부터 이 교육과정에서 리용할 시간표를 성과적으로 작성하였다. 령역제약, 비충돌시간제약, 시간제약, 공간제약, 분산제약을 리용함으로써 교원, 학생, 교실이 적절히 배당되고 과목들이 분산적으로 배당된 시간표가 작성되였다. 시험에 리용된 콤퓨터의 동작주파수는 Core 2 duo 1.5GHz, 주기억은 2GB이다. 를 3%로 증가시켰다.(표) 론문에서 제안한 방법은 종전의 방법에 비하여 정확도 표．성능평가결과 성능 종전의 알고리듬 제안한 알고리듬 정확도/% 96 99 － 74 － 종합대학학보 정보과학 주체107(2018)년 제64권 제2호 맺 는 말 참 고 문 헌 론문에서는 제약조건들을 부류별로 세부화하고 제약기초추론을 리용하여 시간표를 작성하는 한가지 방법을 제안하였다. 론문에서 제안한 방법을 학교들에 적용한 결과 시간표가 이전에 비하여 교육학적요 구를 더욱 정확히 만족시키도록 작성되였다. [1] 종합대학학보(자연과학), 58, 2, 34, 주체101(2012). [2] 서건일; 정보과학, 2, 54, 주체106(2017). [3] Eva Barrena, David Canca Ortiz; Cirrelt, 64, 11, 10, 2013. [4] M. Reimann, J. E. Leal; Lecture Notes in Computer Science, 78, 32, 226, 2013. 주체107(2018)년 2월 5일 원고접수 A Constraint Definition Method of Improving the Accuracy of the Timetable Planning Based on Reasoning So Kon Il In this paper we establish the definition method of the constraints of each class in detail and propose a method of improving the accuracy of the timetable planning based on reasoning. Key words: timetable planning, reasoning, constraint