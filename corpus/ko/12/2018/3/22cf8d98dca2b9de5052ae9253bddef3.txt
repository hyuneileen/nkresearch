김일성종합대학학보 정보과학 주체107(2018)년 제64권  제3호 회전형거꿀흔들이의 수학적모형화와 LQR조종기 설계에 대한 연구 박철준, 리진성 경애하는 최고령도자 동지께서는 다음과 같이 말씀하시였다. 《과학연구부문에서는 나라의 경제발전과 인민생활향상에서 전망적으로 풀어야 할 문 제들과 현실에서 제기되는 과학기술적문제들을 풀고 첨단을 돌파하여 지식경제건설의 지 름길을 열어놓아야 합니다.》 선행연구들[1－3]에서는 엔코더를 리용한 거꿀흔들이의 각이한 설계 및 조종방법들이 연구되였으나 최근시기 광범히 리용되고있는 MEMS에 의한 거꿀흔들이조종방법에 대해 서는 고찰하지 못하였다. 론문에서는 MEMS를 리용한 회전형거꿀흔들이의 한가지 수학적모형화와 조종기설계 방법을 제안하였다. １．회전형거꿀흔들이의 수학적모형화 회전형거꿀흔들이의 원리도는 그림 1과 같다. 이러한 회전형거꿀흔들이의 수학적모형 은 흔들이체계의 회전팔이 리상적으로 평평한 평면에서 회전한다는 가정하에 뉴톤의 법칙과 오일러방정식을 리 용하여 얻거나 라그랑쥬방정식에 의하여 얻을수 있다. 우리는 라그랑쥬방정식에 기초하여 회전팔의 회전 각과 흔들이의 경사각을 운동자유도로 하는 회전형거꿀 흔들이의 수학적모형을 고찰하기로 한다. 체계의 라그랑쥬함수 L 의 일반화된 형태는 VTL −= 로 주어진다. 여기서 T 는 전체 운동에네르기, V 는 자 리에네르기이다. 이때 회전팔의 회전면을 기준으로 잡으면 자리에네 그림 1. 회전형거꿀흔들이의 원리도 르기는 다음과 같다. mgl 여기서 m 은 흔들이 질량, g 는 중력가속도, l 은 흔들이길이, α 는 불안정한 평형점에서 흔들이의 기울어진 각이다. (1) αcos V = 한편 운동에네르기는 움직이는 회전팔과 질점의 x 축과 y 축방향속도, 흔들이의 질량 중심점에 대한 회전으로부터 다음과 같이 얻을수 있다. KT = + K Vx + K Vy + K pen = hub [( rm (cid:5) θ − cos (cid:5) ) l αα 2 ( l −+ sin (cid:5) αα 2 ]) + (cid:5) 2 θ J eq + 1 2 1 2 (2) + 1 2 1 2 J 2 (cid:5) α P = ( J eq + mr 2 (cid:5) 2 ) θ + ml 2 2 (cid:5) α − mlr cos (cid:5)(cid:5) αθα 2 3 회전형거꿀흔들이의 수학적모형화와 LQR조종기설계에 대한 연구 － 111 － 따라서 라그랑쥬함수 L 은 다음과 같이 표시된다. L = ( J eq 1 2 2 3 + mr 2 (cid:5) 2 ) θ + ml 2 2 (cid:5) α − mlr cos (cid:5)(cid:5) αθα − mgl cos α (3) 여기서 θ는 회전팔의 회전각이고 r 는 회전팔의 길이, eqJ 는 부하의 환산관성모멘트, PJ 는 흔들이의 질량중심점에 대한 관성모멘트이다. 일단 체계의 라그랑쥬함수가 얻어지면 체계의 수학적모형은 다음과 같은 형태로 된다. ⎧ ⎪ ⎪ ⎨ ⎪ ⎪ ⎩ d dt d dt ⎛ ⎜ ⎝ ⎛ ⎜ ⎝ L δ (cid:5) θδ ⎞ −⎟ ⎠ L δ δθ = T 출 − B (cid:5) θ eq L δ (cid:5) αδ ⎞ −⎟ ⎠ L δ δα = 0 (4) 식 (3)을 식 (4)에 대입하고 정돈하면 체계의 동적방정식은 다음과 같이 된다. ( J eq + mr 2 (cid:5)(cid:5) ) θ + mlr (cid:5) sin αα 2 (cid:5)(cid:5) cos αα = T 출 − B eq (cid:5) θ − − mlr cos (cid:5)(cid:5) θα + 2 (cid:5)(cid:5) α − mgl sin α = 0 (5) mlr − 4 3 ml 식 (5)에서 구동장치가 부하축에 내는 출력회전모멘트는 다음과 같다. T =출 ηη gm KK t g (6) V m − KK gm (cid:5) θ 여기서 트상수, R m eqB 는 환산된 점성곁수, mη 은 전동기효률, gK 는 사보체계의 전동기에서 부하에로의 치차비, mR 은 전기자저항이다. mV 은 전동기입구전압, gη 는 치차효률, tK 는 전동기회전모멘 mK 은 전동기역기전력상수, 식 (6)을 식 (5)에 대입하고 정돈하면 체계의 비선형모형은 다음과 같이 얻어진다. (cid:5)(cid:5) (cid:5) a θααααθ − cos (cid:5)(cid:5) + + b b e (cid:5) = fV m − b cos (cid:5)(cid:5) αθα + c − d sin α = 0 sin2 (cid:5)(cid:5) ⎧ ⎪ ⎨ ⎪⎩ (7) a = J eq + mr 2 , b = mlr , c = ml ,3/ d = mgl , 2 f = ηη gm RKK g / t m , e = Kf ⋅ 2 g + B , eq E = ac − b 2 이제 평형상태 ,0 ( = θα = )0 에서 식 (7)에 대하여 야꼬비안선형화 (sin , θαα cos ≈ ≈ )1 를 진행하면 다음과 같은 선형모형을 얻을수 있다. (cid:5)(cid:5) (cid:5) (cid:5)(cid:5) a θαθ b e ⎧ ⎪ ⎨ ⎪⎩ − + = − m (cid:5)(cid:5) b 0ααθ − fV (cid:5)(cid:5) = + d c 체계의 상태벡토르와 입력벡토르, 출력벡토르를 각각 =x (cid:5) [ αθαθ T] , [ αθ=y T] , (cid:5) mVu = 으로 선택하면 체계의 선형상태공간모형은 다음과 같이 된다. (8) x(cid:5) y ⎧ ⎨ ⎩ = = Ax Cx + + Bu Du (9) 여기서 이다. 여기서 － 112 － 종합대학학보 정보과학 주체107(2018)년 제64권 제3호 0 0 0 0 ⎡ ⎢ ⎢ ⎢ ⎢ ⎢ ⎢ ⎣ 0 0 bd E ad E 1 0 ce E be E − − 0 1 0 0 ⎤ ⎥ ⎥ ⎥ ⎥ ⎥ ⎥ ⎦ ⎡ ⎢ ⎢ ⎢ ⎢ ⎢ ⎢ ⎣ 0 0 cf E bf E ⎤ ⎥ ⎥ ⎥ ⎥ ⎥ ⎥ ⎦ A = , B = , C = 0001 ⎡ ⎢ 0010 ⎣ ⎤ ⎥ ⎦ , D = 0 0 ⎡ ⎢ ⎣ ⎤ ⎥ ⎦ 이다. 설계제작하는 회전형거꿀흔들이체계에 대하여 표와 같은 파라메터들을 리용하면 회 전형거꿀흔들이의 상태공간모형을 얻을수 있다. 표. 회전형거꿀흔들이의 파라메터 의 미 점성제동곁수 회전팔의 환산관성모멘트 전동기회전자관성모멘트 감속비 역기전력상수 mK  tK  l  흔들이의 회전중심점에서 무게중심점까지 길이 m 전동기회전모멘트상수 기호 eqB  eqJ J  gK R  mR  mη  gη 흔들이질량 회전팔길이 전기자저항 전동기효률 치차효률 1−⋅ s ) (rad 0.004 Nm/ 0.003 584 2kg·m2 3.875kg·m2 값 45 0.007 67V/ (rad 1−⋅ s ) 0.007 67Nm/A 0.3m 0.15kg 0.23m 20 Ω 0.5 0.9 ２．회전형거꿀흔들이조종체계의 LQR조종기설계 조종대상의 상태방정식이 식 (9)와 같이 주어지고 초기에 대상이 평형상태에 있다고 이 이다. 초기시각 ) )(tX 를 원점으로 가져가도록 하는 조절기를 설계하여야 한다. 0t 에서 임풀스섭동이 체계에 가해지면 가정하면 0)( =tX 므로 상태벡토르 = X tX ( ≠ 0 0 0 최량조절기설계는 상태 )(tX 와 조종력 )(tu 의 2차성능지표를 설정하고 그것을 최소 화하는 조종력을 구성하는것이다. 즉 J = T ( X QX + u T Ru ) dt . (10) ∞ ∫ 0 이때 최량조절기의 곁수 K 는 체계가 조종가능하고 관측가능할 때 다음과 같이 주어 진다. 여기서 P 는 리까찌정상행렬방정식 의 풀이인 정인정값대칭행렬이다. T1−= PBRK (11) T PA + PA − PBR − T1 QPB + = 0 (12) 회전형거꿀흔들이의 수학적모형화와 LQR조종기설계에 대한 연구 － 113 － ３．모의실험 및 결과분석 우선 MATLAB의 ctrb함수와 obsv함수를 리용하여 회전형거꿀흔들이모형의 조종가능 다음 MATLAB의 lqr함수에서 15=R , CCQ ×= 로 하면 최량조절기곁수 K 를 구할수 성과 관측가능성을 분석한다. 있다. 즉 우리는 보다 좋은 조종응답특성을 얻기 위하여 Q 를 다음과 같이 설정하였다. K=lqr(A, B, Q, R). Q = 0 00 5 ⎡ ⎢ 004.10 ⎢ ⎢ 0 ⎢ 0 ⎣ 00 00 0 0 ⎤ ⎥ ⎥ ⎥ ⎥ ⎦ 이때 조절기곁수 K 는 다음과 같다. −=K 577.0[ 4 727.37 6 − 595.1 138.47 ]8 한소편콤퓨터에 의한 최량조절기의 기술적실현을 위하여 련속체계의 상태공간모형을 령차유지기를 포함한 띠염모형으로 변환하면 상태행렬 φ는 련속체계에서 한박자상태옮 김행렬, 입력행렬 H 는 한박자상태계단응답의 의미를 가진다. 이때 표본화주기를 25ms로 하면 회전형거꿀흔들이조종체계의 띠염상태방정식은 다음 과 같다. φ = H = 1 ⎡ ⎢ 0 ⎢ ⎢ ⎢ ⎣ 0 0 ⎡ ⎢ ⎢ ⎢ ⎢ ⎣ 001.0 002.0 906 166 .0 150 171.0 4 4 ⎤ ⎥ ⎥ ⎥ ⎥ ⎦ 0.012 23 1.031 0.967 7 2.484 0.023 0.001 82 346 − 0.000 102 26 0.025 0.906 0.106 5 5 − 0.012 23 1.031 5 ⎤ ⎥ ⎥ ⎥ ⎥ ⎦ , C = , 0001 ⎡ ⎢ 0010 ⎣ ⎤ ⎥ ⎦ , D = 0 0 ⎡ ⎢ ⎣ ⎤ ⎥ ⎦ MATLAB의 lqrd명령문을 리용하여 띠염체계 의 최량조절기곁수를 구하면 다음과 같이 된다. −=K 452.0[ 8 481.33 0 − .1 391 .36 663 ]5 띠염LQR최량조절기에 의한 회전형거꿀흔들이 조종체계의 MATLAB simulink구성도는 그림 2와 같다. 그림 2. 회전형거꿀흔들이조종체계의 simulink구성도 회전형거꿀흔들이의 안정화조종모의결과는 그림 3과 같다. 모의결과로부터 표본화주기를 25ms로 하였을 때 회전형거꿀흔들이조종체계는 안정하 － 114 － 종합대학학보 정보과학 주체107(2018)년 제64권 제3호 며 임풀스외란에 대하여 안정성이 유지된다는것을 알수 있다. 그림 3. 회전형거꿀흔들이의 안정화조종모의결과 ㄱ) 흔들이각, ㄴ) 회전팔각 회전형거꿀흔들이의 수학적모형을 해석적으로 작성하고 그에 기초하여 LQR조종기를 설계하였으며 MATLAB의 Simulink를 리용한 모의실험으로 제안한 방법의 효과성을 검증 하였다. 맺 는 말 참 고 문 헌 [1] 김영일, 공영수; 자동조종리론, 종합대학출판사, 279～291, 주체99(2010). [2] Viroch Sukontanakarn et al.; Amerian Journal of Applied Sciences, 6, 6, 1106, 2009. [3] N. J. Mathew et al.; Preprints of the 10th IFAC International Sympoalum on Dynamics and Control of Process System, 243, 2013. 주체107(2018)년 5월 5일 원고접수 A Research for Mathematical Modeling of a Rotated Pendulum and Designing a LQR Controller Pak Chol Jun, Ri Jin Song We formulated the mathematical model for rotating pendulnm and based on it designed the LQR controller and, through the simulation using simunlink, verified the effectiveness of the proposed method. Key words: RIP, MEMS