김일성종합대학학보 정보과학 주체108(2019)년 제65권  제2호 렬보간법에 기초한 추상화세련화에 의한 검증모형구축 신춘옥, 한은주 모형검사를 비롯한 유한상태검증기술에서는 추상화기술을 적용하여 검증모형을 작성 하며 여기서 추상화의 적당한 정밀도를 찾아내는것이 매우 어려운 과제로 나선다. CEGAR프레임워크[1]는 대략적인 추상화로부터 시작하여 적당한 정밀도를 얻을 때까 지 추상화를 반복적으로 세련화하는 일반적인 알고리듬이며 여기에 술어추상화[2]와 값추 상화[1]를 비롯하여 여러 추상화방법들을 적용할수 있다. 보간법을 리용하여 추상화를 세련화하는 새로운 술어를 추리할수 있다. 크레이그 (Crag)보간법은 하나의 술어를 생성하지만 그것의 확장인 렬보간법은 술어들의 렬을 생성 한다. 론문에서는 원천프로그람의 모형검사를 위한 CEGAR프레임워크를 구성하기 위하여 렬보간법으로 추상화세련화를 진행하는 방법을 제안하였다. １．렬보간법의 형식적정의 정의 １ 기호이행체계 T는 , 은 각 을 가지는 변수들의 모임이며 Inv 는 V 에 관한 불변식이다. 그 이다. 여기서 vv ,{ 1 Tran , Inv , T = Init (cid:34) nv V ( D V = } ) 2 , , , , 각 정의역 , DD v v 1 2 ′∪ 우에서 정의된 식으로서 현재상태 ) 리고 Tran 은 VV (cid:34) nv (V 와 계승상태 ) (V ′ 사이의 이행관 계이며 Init 는 초기상태들의 모임을 정의하는 V 에 관한 식이다. 정의 ２ 구체적인 상태이행체계 0 RSSQ = ,( , ) 적인 이행들의 모임 R , 구체적인 초기상태들의 모임 에서 구체적인 상태들의 모임 S , 구체 0S 을 다음과 같이 정의한다. S = | = Inv } ① 상태(정의역 이다. 즉 S 는 변수 ss |{ V ivD )를 가질 때 그 매 변수에 값 들의 모임이다.  ( 이다. 즉 S ′ 는 s 의 계승상태이다.  vIn ss ∧ 0S 은 초기의 식이 참인 S 의 부분모임이다.  s /\ ∧ 즉 값들의 조 (cid:34) , =′ ② |) R ,{( = ③ ss Init |{0 } = ④ 구체적인 경로는 vi ∈ 가 불변식 Inv 를 만족시키는 모든 가능한 를 할당하는 다부류해석이다. Tran ∧ 이다. 즉 (cid:34) s s , , 1 , , dd 1 2 ′ ss ,(|) 이 성립하며 유 ) nd Inv ∈=) i Dd Init 1 Tran Inv Inv ( vs |) = ni ≤≤ ′ } | = ∧ ∧ ii , /\ S iv ( + n 2 1 1 , i i 한이고 순환이 없는 구체적인 상태들의 렬 s , 1 하나의 구체적인 상태 s 는 어떤 n 에 대하여 =σ ( 하면 도달가능하다. , , ) s ns 2 s = 인 경로 (cid:34) ns ni 1 ≤≤ 이다.  =σ ( s 1 , s 2 , (cid:34) , ns ) 이 존재 V 에 관한 1계술어론리식으로 정의되는 안전성속성 ϕ에 대하여 론의하자. =σ 을 반례라고 한다. (cid:34) s ( ) , , , s 1 2 ns 경로 nS ϕ≠| 인 n 술어추상화에서는 1계술어론리식의 모임에 대한 평가에 기초하여 구체적인 상태이행 렬보간법에 기초한 추상화세련화에 의한 검증모형구축 － 69 － 체계를 추상적인 상태이행체계로 넘긴다.  정의 ３ 구체적인 상태이행체계 0 RSSQ = ,( RSS Label , , )) 0 Tran , , ) 는 추상적인 상태이행체계 Q = ① 기호이행체계 T = V ( , |2 P 개의 추상상태들의 모임을 S 로 표시한다. 추상상태 | 는 다음과 같다. , Init ( Inv s ) ( , 와 V 우에서의 1계술어들의 모임 P가 주어졌 s ∈ 를 S 로 즉 s 를 술어 혹은 그것의 부정의 론리적으로 표시한다. 구체적인 상 에 대하여 술어추상화에 의하여 결정되 을 때 있을수 있는 Label s sp∈∧=)( s = | 태 s를 Label s )( p 가 성립하도록 추상상태 s 에로 넘긴다. ② 추상이행관계 ×∈′ ) )( s 다. 즉 s 는 s 로, s′ 는 s ′ 에로 넘기는 구체적인 계승상태의 이행관계 Lavel SS ,{( =′ |) , ss , ss Inv vIn ss ∧′ ′ .( R ∧ ∃ = | s ∧′′ ) 이 ( Lavel ∧ ′ 가 존재한다.  ss ) ,( Tran ③ 추상적인 초기상태들의 모임 { s ∈= S | ∃ ss . | = Inv ∧ Init ∧ Lavel s )}( 이다. 즉 s 에로 S 0 1( i <≤ n ) 인 유한이며 비순환인 추상상태들의 넘어가는 구체적인 초기상태 s가 존재한다.  R s s ( , ) ∈+ 1 i i , , ) s (cid:34) 렬 ④ 추상경로는 ns s ( 1 (cid:34) , ( s =σ 2 1 추상경로 s ( 1 인 상태들의 렬 정의 ４ =σ =σ s 2 , , s ∈ 이고 S 1 0 이다.  (cid:34) s , , , 2 s n , |) = , (cid:34) ( s s , , 1 2 (cid:34) 은 nψ , 1 ) /\ 에 대하여  ∧ ns Init 1 1 이 존재할 때 구체화할수 있다.  ns /\ ψψ 2 Label Inv (cid:34) ≤≤ ≤≤ ni ni ∧ ∧ /\ /\ s ) ( ) 1 i i i ≤≤ ni Tran ii , + 1 /\ 할 때 다음의 성질이 성립하는 식들의 렬 , ψψ 1 2 /\ 1 , nψ I 이 충족불가능한 1계론리식들의 렬이라고 (cid:34) 에 대한 보간렬 0 (cid:34) 은 I , , 1 , ψψ 1 2 nψ nI , , , 이다.  ① ┻ ┳ /\ = nI I , = 0 jI ψ 은 +j jI 는 1 nj <<0 ② ③ 함한다.(론리연산기호들을 제외한다.) nj <≤0 에 대하여 에 대하여 , ψψ 1 2 1+jI 을 암시한다.  (cid:34) 와 ,1 (cid:34)+ , jψ ψ n , , ψ n 에서 공통인 기호들만을 포 ２．렬보간법에 기초한 추상화세련화 이행체계의 모형검사를 위한 CEGAR알고리듬에서 초기추상화, 모형검사, 반례의 구 체화와 추상화세련화를 다음과 같이 구성한다. ① 초기추상화 초기추상화단계에서는 값추상화에서의 값할당으로 하여 성립하는 등식들을 술어로 보고 술어추상화에서의 술어모임에 포함시켜 추상화를 진행한다. V ( T = Inv , Tran , , 의 1계술어들의 모임, 은 m 까지의 첨수( ≤0 ) = V vv ,{ 1 는 변수 을 가지는 기호이행체계, P는 V우에서 VE ⊆ 를 명백한 값변수들의 모임이라고 하자. 그리고 이 변수들 V 이라고 가정 )들에 의하여 표시된다. 즉 nm ≤ (cid:34) (cid:34) nv V } } = v v 2 , , , , Init v ,{ 1 2 E m 추상상태 ·매 s ∈ 는 술어들의 모임으로서 다음과 같이 정의한다.  P ip¬ 를 포함한다. pi ∈ 에 대하여 s 는 ip  혹은 S 한다. － 70 － 종합대학학보 정보과학 주체108(2019)년 제65권 제2호 ·매 v ∈ 에 대하여 s 는 i V E v = i ) 형태의 술어를 포함한다. 따라서 S 는 vs ( i p | | ⋅ | | S 2| = D v 1 | ⋅ D v 2 | ⋅ (cid:34) ⋅ | D | mv 개의 추상상태를 가질수 있다.  추상관계 R 와 초기상태 0S 도 술어추상화와 류사하게 계산한다. ② 모형검사 추상상태 s )( Label s ∈ 는 S 가 충족가능할 때 안전성속성 ϕ를 위반한다. 즉 s 에 넘어가면서 ϕ를 위반하는 구체적인 상태가 존재하면 안전성속성을 위반한다. 추 상이행체계에 대한 모형검사는 ϕ를 위반하는 추상상태가 도달가능한가 즉 sn = 인 추상 가 존재하는가를 검사한다.  경로 ϕ¬∧ ∧ Inv =σ (cid:34) s s , , , 2 ) ( s 1 ns ③ 반례의 구체화 안전성속성 ϕ에 대한 추상경로 s |) = (cid:34) ∧ /\ s ( , , , Init 1 1 ≤≤ ni s 1 n 2 =σ ( Label , s 1 s ( i s ) i , 2 ∧ (cid:34) , ns ) /\ 1 ≤≤ ni 는  Inv i ∧ /\ 1 ≤≤ ni Tran ii , + 1 ϕ¬∧ n 이 성립하는 상태들의 렬 =σ ( s 1 , s 2 , (cid:34) , ns ) 이 존재하면 구체화할수 있다. 구체화가 가능 한 반례는 구체적인 모형도 요구를 위반한다는 증거로 되며 구체화가 불가능한 반례를 가짜반례라고 한다. 모형검사에서 가짜반례가 다시 출력되는것을 막기 위하여 추상화를 세련화한다.  주어진 반례의 가장 긴 접두사는 세련화에 대하여 필요한 정보를 제공하므로 추상화 반례 를 다음의 ns 1+n 개의 식으로 반복적으로 구체화한다. =ϕ s 1 (cid:34) s ) ( 2 , , , Init 1 /\ Inv 1 Lavel /\ Lavel ( s i ) i /\ ( s ,) 11 Tran F i = Inv i /\ ⎧ ⎪ ⎨ ⎪ ¬ ⎩ ϕ n , i = 때일  1 1, ≤< ni 때일 i − ,1 i ni += 때일  1 FF ∧ 1 (cid:34)2 ∧ ∧ nF 은 σ 로 넘겨진 구체적인 경로를 서술하며 속성을 위반한다는것을 담보한다. FF ∧ 2 1 ∧ (cid:34) nF +∧ 1 1+nF 은 마지막상태가 그 이 충족가능하면 반례는 구체화가 가 f ( f ≤≤1 n )가 FF ∧ 1 (cid:34)2 ∧ ∧ fF 를 충족시키는 가장 큰 첨수라고 하면 상태 fs 를 실패 능하다. 상태라고 한다. ④ 추상화세련화 실패상태 는 상태(막힌 상태), fs 에로 넘겨지는 구체적인 상태들의 모임을 초기상태로부터 도달할수 있 1+fs 에로의 이행을 가지거나 ϕ 를 위반하는 상태(나쁜 상태), 그외 무관계한 상태들로 분할한다. 추상화세련화의 목표는 막힌 상태와 나쁜 상태들을 서로 다른 추상상태로 넘겨 가짜 반례가 다음번 반복에서 발생하지 않도록 하는것이다. 추상화를 세련화하는 새로운 술어 를 추리하는데 렬보간법을 리용한다. 렬보간법에 기초한 추상화세련화에 의한 검증모형구축 － 71 － 렬보간법에서 , ψψ 2 1 , (cid:34) , +nψ 1 을 다음과 같이 정의한다. Init 1 /\ Inv 1 Lavel /\ Lavel ( s i ) i /\ ( s ,) 11 Tran s ψ i = Inv i /\ ⎧ ⎪ ⎨ ⎪ ¬ ⎩ ϕ n , i = 때일  1 1, << ni 때일 i − ,1 i ni += 때일  1 여기서 식 1ψ 은 응하는 도달가능한 상태들, 1s 에 대응하는 초기상태를 서술하며 ψ , ,2 (cid:34) 은 각각 nψ s ,2 (cid:34) 에 대 ns , 1+nψ 은 안전성속성을 위반하는 상태들을 서술한다. /\ ψψ 2 1 /\ (cid:34) /\ +nψ 1 은 충족불가능하며 σ 는 가짜반례이므로 안전성속성을 위반한다. 이로부터 다음과 같은 성질을 가지는 보간렬 I , I , (cid:34) , +nI 이 존재한다. 1 이다. 즉 반례에서 어떤 상태에 해당하지 않는 보간식은 정보를 포함 0 1 · I Т , = 0 nI +1 ⊥= 하지 않는다.  nj ≤≤0 · 들을 함께 일반화한다. , · jI 는 , ψψ 1 2 , 참조한다. 인 j 에 대하여 I ψ /\ j I + → j 1 j + 1 이다. 즉 보간식은 막힌 상태와 나쁜 상태 (cid:34) 와 jψ ψ (cid:34) , 1 + j , ψ n + 1 의 공통기호들 즉 첨수 j를 가지는 변수들만을 추상화는 매 si 1( i ≤≤ n ) 를 체하는 방법으로 세련화한다. 즉 is 의 술어에 s I }{ ∪= i i s i 1 iI 와 이고 iI¬ 를 보충하여 얻어진 I s ¬∪= 이다. { } s 1is 와 n 2is 를 교 인 어떤 i i ≤≤1 i 2 i i 혹은 ┻=iI 가 발생할수 있다. 이 경우에 대응하는 추상상태 is 는 분 에 대하여 ┳=iI 할되지 않는다. 크레이그보간법은 세련화의 매 걸음에서 하나의 추상상태를 분할하지만 렬보간법은 매 걸음에서 여러 상태를 분할하므로 적은 회수의 세련화반복으로 보다 많은 가짜동작 들을 소거할수 있다. 렬보간법은 크레이그보간법에 비하여 보다 단순한 보간식들을 생 성한다. 초기의 추상화단계에서 술어추상화와 값추상화를 조합하며 렬보간법을 리용하여 추 상화세련화를 진행하는 CEGAR프레임워크의 구성을 제안하였다. 맺 는 말 참 고 문 헌 [1] D. Beyer, S. Lowe; 10th International Conference on Formal Aspects of Software Engineering, [2] Tuva Yavuz; 14th International Conference on Software Engineering and Formal Method SEFM FASE, 146, 2013. 104, 2016. 주체108(2019)년 2월 5일 원고접수 － 72 － 종합대학학보 정보과학 주체108(2019)년 제65권 제2호 Construction of Verification Model by Sequence  Interpolation-based Abstraction Refinement Sin Chun Ok, Han Un Ju This paper proposed a research on a configuration of CEGAR framework, to which we extended predicate abstraction in first stage of the algorithm and applied sequence interpolation in abstraction refinement stage. Key words: model checking, abstraction refinement, predicate abstraction