김일성종합대학학보 정보과학 주체108(2019)년 제65권  제3호 ARM극소형처리기를 리용한 한기판콤퓨터에 의한 병렬계산체계의 구성과 성능평가 김수일, 김재현 최근 ARM Cortex-A계렬 극소형처리기들은 처리속도가 빠른것으로 하여 PC의 기능들 을 대신하고있다. 또한 ARM처리기는 가격이 눅고 전력소모가 매우 적은것으로 하여 저 전력고성능병렬계산체계를 구성하기 위한 현실적인 방안의 하나로 주목되고있으며 그것 을 리용한 여러가지 시제품들이 제안되고있다.[2] 그러나 ARM처리기를 리용한 한기판콤퓨터들은 보통 Android조작체계를 설치한것으 로 하여 Linux기반의 병렬계산체계를 구성하기 어려운 부족점이 있다. 우리는 ARM Cortex-A7계렬의 극소형처리기를 리용하는 한기판콤퓨터들로 Linux기반 의 병렬계산체계를 구축하는 방법을 제안하고 그 성능을 평가하였다. １．병렬계산체계의 구성 １）하드웨어구성 선행연구들[2, 3]에서는 ARM극소형처리기를 리용한 개발기판들을 결합하여 병렬계산 체계를 실현하였다. 우리는 개발기판대신 가격이 눅고 장치의 동작안정성이 담보되는 한기판콤퓨터들로 병렬계산체계를 구성하여 불필요한 주변장치들을 없애고 높은 가격대성능비와 제품으로 서의 안정성을 실현하였다. 병렬계산체계를 구성하는 매 계산마디들은 100Mbps의 Ethernet망하브로 련결하였다. 병렬계산에 리용한 한기판콤퓨터의 극소형처리기는 다음의 특징을 가지고있다. 기본처리기: 4개의 ARM Cortex-A7핵심부(동작속도 1.17GHz) 협동처리기: 신호처리용 ARM Neon Advanced SIMD처리기와 류동소수점처리기, 영상처 리기(동작속도 720MHz) 기억장치: 주기억기로는 DDR3을, 외부기억장치로 NAND기억기와 SD카드를 리용하였다. 망조종기: 1Gbps의 Ethernet조종기 병렬계산체계의 장치구성은 그림과 같다. 그림. 병렬계산체계의 장치구성 ARM극소형처리기를 리용한 한기판콤퓨터에 의한 병렬계산체계의 구성과 … － 75 － ２）쏘프트웨어구성 이미 제품으로 생산된 한기판콤퓨터는 장치의 안정성이 높고 같은 처리기를 리용하 는 개발기판보다 가격이 눅으며 불필요한 주변장치들이 없는 우점이 있다. 그러나 Android조작체계를 리용하고있는것으로 하여 그것을 직접 Linux기반의 병렬계 산체계에 리용할수 없는 부족점이 있다. 우리는 이러한 한기판콤퓨터에 Linux조작체계를 이식하여 병렬계산체계를 구성하였다. ① Linux핵심부의 구성 Android원천코드의 Linux핵심부에서 arch/arm/rk3128과 해당한 서고화일들을 Linux원천 화일의 해당 경로에 이식하고 교차번역기 arm-nonelinux-gnueabihf를 리용하여 핵심부를 구 축하였다. 또한 기판의 구성정보를 보여주는 dts화일을 함께 편집하여 주변장치대면부를 구성하였다. ② 화일체계의 구성 한기판콤퓨터의 NAND기억기를 u-boot, kernel, ramfs, system구역으로 구획을 가르고 system구획에 Linux용화일체계를 구축하였다. 또한 ARM용debian계렬 Linux배포판의 개별적프로그람묶음들을 쉽게 설치할수 있도 록 하기 위하여 dpkg와 apt-get프로그람을 함께 이식하였다. ③ 병렬계산체계의 설치 병렬계산쏘프트웨어로는 MPI서고를 리용하였으며 성능평가를 위하여 병렬콤퓨터의 성능평가에 많이 리용되는 HPL프로그람을 설치하였다. ２．병렬계산체계의 시험 ① π 계산시험 론문에서는 몽떼까를로법에 의한 π 계산프로그람을 실행시키면서 계산마디의 개수에 따르는 계산시간을 평가하였다. 이때 π 는 소수점아래 25자리까지 계산하였다. 계산마디에 따르는 π 계산시간은 표 1과 같다. 표 １．계산마디에 따르는 π 값의 계산시간(반복회수 =n 109 ) 마디수/개 프로쎄스수/개 계산시간/s 1 1 1 2 2 3 3 4 4 1 2 4 6 8 10 12 14 16 77.656 38.853 19.455 15.451 11.578 10.225 8.542 8.154 7.136 － 76 － 종합대학학보 정보과학 주체108(2019)년 제65권 제3호 표 1로부터 계산마디수가 1, 2, 4개로 증가함에 따라 연산시간은 이전의 절반정도로 줄어들며 마디수가 그 이상으로 증가하면 비교적 완만하게 감소한다는것을 알수 있다. 이 경향성은 다른 선행연구[1]들에 제시된것과 같은 특성을 가진다. ② HPL성능평가프로그람에 의한 병렬계산체계의 최대성능평가 HPL은 분산기억기를 가진 계산마디들에서 행렬계산에 의한 선형대수련립방정식의 풀이를 계산하는 프로그람으로서 계산의 대부분을 BLAS(Basic Linear Algebra Subprograms) 서고를 리용하여 선형방정식을 푼다. HPL의 설정파라메터에서 계산성능에 특히 영향을 미치는 변수들은 N, NB, P, Q값들로 서 N은 문제의 크기 즉 행렬의 차수, NB는 계산에서 사용하는 풀이행렬블로크의 크기, 11 행의 P와 12행의 Q는 계산이 실행되는 그리드의 프로쎄스행 및 렬의 개수이다. 계산마디개수와 처리기수에 따르는 병렬계산체계의 최대연산속도는 표 2와 같다. 표 ２．계산마디수와 처리기수에 따르는 병렬계산체계의 최대연산속도 마디수/개 처리기수/개 N NB P Q R(GFLOPS) 소비전력/W 소비전력당 연산 속도/(GFLOPS/W) 1 1 2 4 4 4 4 4 8 16 16 16 2 048 2 048 2 048 2 048 6 912 10 240 40 44 40 44 88 80 2 2 2 2 4 4 2 2 4 8 4 4 0.518 0.514 0.739 0.681 1.643 1.813 5 5 10 20 20 20 0.104 0.103 0.074 0.034 0.082 0.091 표 2로부터 계산마디가 늘어남에 따라 연산성능은 높아지며 4대의 한기판콤퓨터로 구성된 병렬계산체계의 최대연산속도는 1.813GFLOPS라는것을 알수 있다. 우와 동일한 장치성능을 가지는 계산마디수를 4로부터 16대로 늘이는 경우 동일한 N 에서의 최대성능은 연산속도가 선형으로 증가한다고 가정하면 1.813Gflops×4 = 7.252Gflops 이상으로 추정할수 있다. 또한 비교를 위하여 x86계렬 CPU를 탑재한 PC들로 병렬계산체계를 구성하고 HPL에 의한 계산성능을 평가하였다.(표 3) 표 ３．x86계렬 PC로 구성한 병렬계산체계에서 최대연산속도 CPU 동작속도/MHz 마디수/개 N NB P Q R/GFLOPS 소비전력/W 소비전력당 연산 속도(GFLOPS/W) Pentium3 Pentium3 Pentium3 Pentium3 Core i5 Core i5 933 933 933 933 2 500 2 500 1 2 2 2 1 2 6 144 128 6 656 160 6 912 160 7 168 160 1 000 2 048 80 44 2 1 1 1 1 1 1 2 2 2 2 2 0.916 1.177 1.179 1.144 5.438 6.553 200 400 400 400 190 380 0.004 6 0.005 9 0.005 9 0.005 7 0.029 0.017 표 2와 3으로부터 4개의 ARM Cortex-A처리기로 구성한 병렬계산체계는 최대연산속도 가 1.813GFLOPS로서 2대의 Pentium III처리기로 구성한 경우(1.179GFLOPS)보다는 높고 2 ARM극소형처리기를 리용한 한기판콤퓨터에 의한 병렬계산체계의 구성과 … － 77 － 대의 Core i3처리기로 구성한 경우(6.553GFLOPS)보다는 낮은 성능을 가진다는것을 알수 있다. 다음으로 소비전력당 연산속도는 ARM처리기에서 최대 0.104GFLOPS/W로서 Pentium III 의 경우(0.002 9GFLOPS/W)보다는 약 35배, Core i5의 경우(0.017GFLOPS/W)보다는 약 5.3배로 높았다. 이로부터 ARM Cortex-A처리기를 리용하여 x86계렬의 PC와 비슷한 성능을 가진 병렬계산체계를 구성할수 있으며 소비전력대성능과 가격대성능이 훨씬 우월하다는것을 알수 있다. 참 고 문 헌 [1] 종합대학학보(자연과학), 58 , 6, 49, 주체101(2012). [2] J. D. Weiss et al.; International Conference of Grid, Cloud and Cluster Computing, 59, 2017. [3] Reza Azimi et al.; IEEE International Conference on Cluster Computing, 333, 2017. 주체108(2019)년 5월 5일 원고접수 Configuration and Performance Estimation of the Parallel Computing System Using ARM Microprocessors Kim Su Il, Kim Jae Hyon We proposed the High Performance Parallel Computing System using ARM Cortex-A7 microprocessors and evaluated its performance. Key words: HPC, ARM Cortex-A7, cluster computing