김일성종합대학학보 정보과학 주체108(2019)년 제65권  제3호 온습도신호의 원거리전송정확도제고를 위한 한가지 방법 백영준, 백리성 최근 실내환경감시용계기들은 측정신호들을 여러 형태의 신호로 전송하는 기능을 가 지고있는데 실례로 어느 한 실내용온습도계는 온도(0～50℃)와 습도(0～100%)를 각각 0～ 10V의 전압신호로 전송하는데 그 거리가 50m이상에서는 전송정확도가 보장되지 않고있 다.[1－3] 우리는 어느 한 대상건물의 온습도감시체계의 현존상태를 그대로 두고 실내 여러곳 에 설치된 온습도신호들의 원거리전송정확도를 개선하기 위한 연구를 진행하였다. １．온습도전압신호전송선로에 대한 잡음의 영향해석 건물안에 설치된 매 온습도계들은 온습도 각각에 해당한 직류전압신호들을 그림 1과 같이 독립적인 신호선을 통하여 공조기실에 전송하고있다. 그림 1. 종전의 신호전송체계 그림 2는 최근 2개월간 어느 한 온습도계의 습도현시값에 대한 전송값변화를 보여주 었는데 변화특성이 불규칙적이며 전송값의 절대오차는 습도에서 최대 9%, 온도에서는 4℃로서 측정전구간에서 보면 각각 9, 8%의 오차를 가진다. 그림 2. 습도전송값의 변화 1－측정값, 2－기준값 건물안의 매 온습도신호전송선로들은 최종적으로 동력배전반에 집결되므로 신호는 전송과정에 그림 3에서 보는바와 같이 기본적으로 선로저항과 동력선에 의한 전자기마당 의 영향을 받게 된다. － 84 － 종합대학학보 정보과학 주체108(2019)년 제65권 제3호 그림 3. 신호전송선로에 대한 잡음의 영향 1R , 1C , 1C′ , 2R 들은 신호전송선로 A, B의 선로저항, 그림 3에서 사이의 선간분포용량, 2C 는 동력선과 전송선로 2C′ 는 전송선로와 대지사이의 선간분포용량이며 신호선과 동력 선이 가까이 있는 경우 공기랭각용압축기 등 여러 전동설비들의 시동, 정지에 의한 순간 적인 전류변화나 전압파동은 고주파성분을 포함하므로 선간분포용량을 통하여 쉽게 신호 전송선로들에 간섭하여 잡음을 유기시킨다. 이때 동력잡음원 U동에 의하여 신호전송선로 각각에 발생하는 잡음전압 UA, UB는 다음과 같다. RCj ω 1 ′+ ( CCRj ω 1 1 RCj ω ( CRj ω (1) (2) 동U 동U U A U B + = = + 1 1 ) ) 2 ′+ C 2 2 식 (1)에서 일반적으로 ′+ CCRjω 1 1 ( ) << 1 의 관계가 만족되므로 식 (1)은 근사적으로 다음과 같다. U A ω≈ 1RCj (3) 식 (2)도 마찬가지로 다음과 같이 근사화된다. 그림 3을 잡음 U동에 관하여 완전저항으로 등가화하면 그림 4와 같다. U B ω≈ 2RCj (4) 그림 4. 잡음원천 U동에 대한 등가회로 2Z 는 신호선 및 접지선과 U동사이의 완전저항, 3Z , 4Z 는 신호선 및 그림 4에서 1Z , 접지선과 지면사이의 완전저항이다. 따라서 정U 은 다음과 같이 표시된다. 온습도신호의 원거리전송정확도제고를 위한 한가지 방법 － 85 － U 정 = U A − U B = ⎡ ⎢ ⎣ Z 3 Z + 3 Z 1 − Z 4 + Z 2 Z 4 ⎤ U ⎥ ⎦ = 동 ⎡ ⎢ ⎣ ZZ 32 Z + 3 − )( ZZ 41 Z Z + 2 ) 4 ⎤ U ⎥ ⎦ ( Z 1 (5) 동 여기서 Z >> 3 Z 1 , Z >> 4 Z 2 , Z ≈ 이므로 식 (5)는 다음과 같이 된다. Z 3 4 ⎛ ⎜⎜ ZZ 3 ⎝ − Z 1 2 ZZ 43 Z Z 4 3 ⎞ ⎟⎟ ⎠ U 정 ≈ U 동 ≈ Z 1 ) ( Z − 2 Z 4 U 동 ≈ 0 (6) 식 (6)은 동력선의 교번전기마당이 결국 신호전송선들에 동상잡음전압 UA, UB를 발생 시키고 이것들은 다시 정상전압으로 전환되여 전송값 U출에 작용하는데 전송정확도를 보 장하기 위하여서는 U정=0 즉 Z = 의 조건을 만족시켜야 한다는것을 보여준다.  1 Z 2 그런데 주위환경조건의 변화 실례로 온습도나 잡음주파수, 선로의 기하학적형태 등이 변하면 선로사이의 완전저항이 변하며 또한 이 등가조건을 회로적으로 만족시키는것은 현실적으로 불가능하므로 정상잡음의 발생은 불가피하며 이것이 진폭전송값의 정확도를 낮추는 다른 하나의 원인으로 된다. 결론적으로 건물내에 이미 설치된 신호전송선로의 현재상태에서 온습도출구직류전압 신호를 그대로 전송하여서는 그 정확성을 담보할수 없으며 따라서 전압진폭신호를 다른 방식으로 전송하는 문제가 제기된다. ２．신호형식 및 전송방식선택 전송신호를 진폭이 아닌 다른 형식으로 바꾸는데서 전송과정에 받게 되는 선로저항 과 고주파잡음에 의한 영향뿐아니라 고장과 원가측면도 다같이 고려해야 한다. 전송신호형식을 직류가 아닌 불련속신호 즉 주파수형식으로 하면 선로저항의 영향은 피할수 있으나 고주파간섭에 의하여 그 계수값에서 오차가 발생하며 485통신방식을 리용 하면 원가가 많이 들고 고장발생률이 높아진다. 그림 5. 온습도신호에 중첩되는 고주파잡음 선로저항은 뒤단의 입구저항에 비하여 훨씬 작고 또한 일정한 온습도환경에서는 그 변화도 무시할수 있으므로 우리는 전송선로에 작용하는 고주파잡음의 영향에 대해서만 조사하였다. 그림 5에서 보는바와 같이 전동설비의 시동, 정지와 운행이 출력신호에 주는 － 86 － 종합대학학보 정보과학 주체108(2019)년 제65권 제3호 영향은 서로 다르지만 현재 선로상태에서 잡음진폭의 첨두값은 2V를 넘지 않았으며 따라 서 이것은 신호입구단에서 진폭을 일정하게 제한하면 고주파잡음을 제거할수 있다는것을 보여준다. 이로부터 선로저항에 의한 진폭변화의 영향과 고주파간섭에 의한 계수값의 영향을 다같이 받지 않도록 온습도계의 출구직류전압신호들을 임풀스폭으로 변환하고 회로를 간 단히 하기 위하여 1개의 신호선으로 전송하는 순차전송방식을 리용하였다. ３．전송회로의 구성과 동작알고리듬 임풀스신호전송회로구성과 전송방식을 그림 6과 7에 보여주었다. 그림 6. 임풀스신호의 전송회로 그림 6의 회로동작을 보면 먼저 회로 1에서 MCU(PIC12F675)를 리용하여 온습도계의 상사출구전압신호들을 A－D변환하고 그 값을 ms단위의 임풀스폭으로 변환한 다음 임풀 스신호가 고주파간섭에 의한 진폭변화의 영향을 받지 않도록 하기 위하여 24V로 높여 전 송한다. 회로  2에서는 전송되여온 임풀스신호를 TTL준위로 진폭제한하여 잡음을 없애고 송 신측과 같은 ms단위로 그 폭을 측정한 다음 그것을 D－A변환하여 다시 본래의 상사신호 로 재생한다. 그림 7. 임풀스신호의 전송방식 전송방법을 보면 그림 7과 같이 먼저 L준위 온도식별신호에 이어 온도전압측정값에 해당한 폭의 H준위 임풀스를 내보내고 뒤이어 습도신호도 같은 방법으로 보내는데 이 H 준위 폭들은 A－D값(8bit)에 따르므로 255ms를 넘지 않는다. 임풀스너비전송의 정확도에 영향을 주는 파형이지러짐은 그 주파수와도 관련되므로 온습도신호의 원거리전송정확도제고를 위한 한가지 방법 － 87 － 전송임풀스의 최대주파수가 100Hz가 넘지 않도록 식별신호의 너비를 결정하였다. 이에 따라 전송임풀스신호의 최대주파수는 최저온도(0℃)인 때 10ms(식별신호)+0ms(온도 이며 최소주파수는  최대습도(100℃)인 때 20ms(식별신호)+255ms(습도 100Hz 신호)로서 신호)로서 100Hz 로 된다. ≈최대f ≈최소f 실험결과 전송신호의 파형이지러짐이 발생하지 않았고 또한 TTL준위로의 진폭제한 에 의해 진폭잡음성분이 제거되므로 전송되는 임풀스폭의 정확성을 보장할수 있었다. 또한  신호전송오차를 측정전구간에서 15%로부터 2%이하로 낮추었다. 참 고 문 헌 [1] 백은철; PIC소자의 원리와 응용, 30～67, 공업출판사, 주체101(2012). [2] 陆柏林; PLC 编程100例(第二版), 中国电力出版社, 55～89, 2016. [3] 张相; 电子技术, 9, 15, 2015. 주체108(2019)년 5월 5일 원고접수 A Research for Improving Accuracy of Long-Distance Transmission of Temperature and Humidity Signal Paek Yong Jun, Paek Ri Song We improved the accuracy of transmission of 12 temperature and humidity signals with a method of pulse width transmission at distances over 100m. Key words: pulse width, transmission, accuracy