김일성종합대학학보 정보과학 주체108(2019)년 제65권  제3호 SIP호출조종봉사기와의 협동조종에 의한 SIP매체봉사기의 과부하조종방법 서준호, 김영진 경애하는 최고령도자 동지께서는 다음과 같이 말씀하시였다. 《정보통신부문에서는 그 우월성이 확증된 IP망으로 통신기반을 전반적으로 갱신하고 전국적범위로 확대하며 고정통신과 이동통신을 통합하여 그 응용능력과 편리성, 효과성을 최대로 높이도록 하여야 합니다.》 SIP봉사기들의 과부하조종[1]은 SIP봉사기의 봉사처리능력을 높이는데서 매우 중요한 역할을 한다. SIP매체봉사기는 SIP대리봉사기나 등록봉사기와 같은 신호조종봉사기들과는 달리 신호조종뿐아니라 매체처리까지도 담당하므로 그것의 부하특성은 신호조종부하와 함께 매체처리부하까지도 고려하여 연구되여야 한다.[2－4] OCC나 BBC와 같은 과부하조종방법들[5]은 SIP신호조종봉사기들의 과부하를 위한 방 법론들로서 매체봉사기에 적용하는데는 불합리하다. 론문에서는 SIP매체봉사기의 동시통화수와 CPU리용률을 결합한 과부하지표를 설정 하고 SIP신호조종봉사기와 SIP매체봉사기의 협동조종을 리용한 SIP매체봉사기의 과부하 조종방법론을 제기하였으며 매체봉사기의 과부하조종을 위하여 매체봉사기의 기본부하를 반영하는 동시통화수와 배경프로쎄스의 부하를 반영하는 CPU점유률을 감시지표로 선정 하고 이를 고려한 과부하조종알고리듬을 제안하였다. １．허용확률의 계산과 통지 ① 허용확률의 계산 매체봉사기의 과부하지표로 선정된 동시통화수와 CPU리용률은 척도가 서로 다르므 로 하나의 알고리듬에서 함께 리용되지 않는다. 그러므로 동시통화수를 턱값으로 하는 RED방법과 CPU리용률에 기초한 방법을 적용하여 2개의 허용확률을 각각 계산한 다음 무게평균을 진행하여 최종적인 허용확률을 얻는다. 이를 위해 먼저 동시통화수에 기초한 거절확률 Qf 를 다음과 같이 계산한다. 여기서 f Q ( n )1 =+ n 1)( > (1) fΦ Qn n )( < f min , f min ,1 ⎧ ⎪⎪ ⎨ ⎪ fΦ ⎪ ⎩ ( n ), Qn fΦ Qn 기타 Φ n = ⎛ max min ⎜ ⎝ f , LQ − n LH − ⎞ ⎟ ⎠ (2) SIP호출조종봉사기와의 협동조종에 의한 SIP매체봉사기의 과부하조종방법 － 79 － 이며 nQ 은 대기렬길이로서 다음과 같이 계산된다. + ) Qw Q 1( −=+ 1 n n 그리고 min f = 이다. 0 식 (3)에서 다음 CPU리용률에 기초한 허용확률 Uf 를 다음과 같이 계산한다. 7.0=w 이다. wq n (3) f U ( n )1 =+ n 1)( > (4) n )( < f min , f min ,1 ⎧ ⎪ ⎨ ⎪ fΦ ⎩ Un fΦ Un fΦ Un 기타), ( n f min = 0 , Φ max = 3 Φ n = min Φ max (5) ⎛ ⎜ ⎜ ⎝ ρ arg , t ˆ ρ n ⎞ ⎟ ⎟ ⎠ 식 (5)에서 argtρ 는 가능한 CPU최대리용률, nρˆ 은 CPU리용률이다. 식 (1), (4)로부터 매체봉사기의 과부하조종을 위한 허용확률 f 는 다음과 같이 계산 식 (6)에서 무게곁수 α 는 매체봉사기에서 호출조종처리부하와 배경프로쎄스부하의 f −⋅= α 1( f Q ) 1( −+ ) α ⋅ f U (6) 비률을 의미한다. ② 허용확률의 통지 매체봉사기의 감시기는 일정한 시간주기마다 식 (1)－(6)에 의하여 허용확률 f 를 계 산하고 감시기에 통지한다. 감시기로부터 허용확률 매체봉사기에서 SIP신호조종기로 가는 성공응답에 f 를 통지받은 조종기는 f 가 턱값 thf 보다 작아지는 경우에 f 와 과부하조종기간 t 를 포함시킨다. ２．SIP신호조종기에서 과부하조종알고리듬 SIP신호조종기에서 매체봉사기를 위한 과부하조종모듈은 SIP신호조종기자체의 과부 하조종모듈과 별도로 구현한다. 그림 1에 SIP신호조종기에 구현된 매체봉사기의 과부하조종모형을 보여주었다. 그림 1. SIP신호조종기에 구현된 매체봉사기의 과부하조종모형 여기서 이고 이다. 된다. － 80 － 종합대학학보 정보과학 주체108(2019)년 제65권 제3호 SIP신호조종기의 SIP분석기가 매체봉사기의 과부하조종을 지원할수 있게 SIP통보문 의 기능을 확장시킨다. 즉 SIP통보문에 새로운 머리부를 추가한다. 매체봉사기의 과부하조종을 위한 SIP신호조종기의 동작알고리듬은 다음과 같다. ① 호출처리기는 매체봉사기에서 들어오는 응답들을 처리하고 그것을 매체봉사기감 시기로 보낸다. ② 매체봉사기감시기는 허용확률 f 와 조종시간 t 가 포함되여있는가를 조사한다. f 와 t 가 있으면 과부하매체봉사기목록에 해당 매체봉사기정보를 추가한다. 이미 매체봉사 기가 과부하매체봉사기목록에 추가되여있다면 시간완료값을 t 만큼 증가시킨다. ③ SIP분석기로부터 INVITE요청이 매체봉사기조종기에 들어오면 매체봉사기조종기는 그 요청이 가리키는 매체봉사기가 과부하매체봉사기목록에 있는가를 조사한다. ④ 매체봉사기목록에 존재한다면 그 매체봉사기가 시간초과되였는가를 검사하고 시 간초과되였다면 그 매체봉사기를 목록에서 삭제하고 알고리듬을 끝낸다. 시간초과되지 않 았다면 ⑤로 간다. ⑤ INVITE요청이 새로운 문맥이 아니라면 알고리듬을 끝낸다. ⑥ 새로운 문맥이라면 턱값에 기초하여 거절 혹은 허용한다. 그림 2에 매체봉사기과부하조종알고리듬을 보여주었다. 그림 2. 매체봉사기과부하조종알고리듬 SIP호출조종봉사기와의 협동조종에 의한 SIP매체봉사기의 과부하조종방법 － 81 － ３．실험 및 결과분석 론문에서는 SIP모의 및 성능평가도구인 SIPP를 리용하여 성능평가를 진행하였다. 착신자와 발신자의 규모를 각각 20 000으로 설정하였으며 신호조종기의 호출요청흐름 량은 발신자와 착신자의 동작흐름에 의하여 조종된다. 성능평가를 위하여 우리는 OCC방법, RED방법, 제안된 방법과 조종이 진행되지 않을 때의 매체봉사기의 호출처리량을 각이한 입력세기에 따라 측정하였다. 이때 일부 턱값들은 다음과 같이 설정하였다. , 1.0 85 , f tρ arg = min = Φ max = 3 평균입력세기에 따르는 매체봉사기의 처리결과는 그림 3과 같다. 그림 3. 평균입력세기에 따르는 매체봉사기의 처리량 1－조종이 없을 때의 방법, 2－RED법, 3－OCC법, 4－제안한 방법 그림 3에서 보는바와 같이 과부하조종이 없을 때 봉사기의 동시통화수는 입력세기가 커지는데 따라 급격히 떨어지며 과부하조종을 적용하였을 때 동시통화수는 비교적 안정 하게 유지된다는것을 알수 있다. 참 고 문 헌 [1] J. Rosenberg et al.; RFC3261, 25, 2002. [2] J. Rosenberg; RFC5390, 18, 2008. [3] V. Hilt et al.; RFC6357, 11, 2011. － 82 － 종합대학학보 정보과학 주체108(2019)년 제65권 제3호 [4] V. Gurbani et al.; RFC7339, 21, 2014. [5] M. H. Ysghmaee et al.; Telecomunication Systems, 58, 1, 3 2017. 주체108(2019)년 5월 5일 원고접수 A Method on Overload Control of SIP Media Server Based on Collaboration Model with SIP Call Control Server So Jun Ho, Kim Yong Jin We proposed a method to overload control of media server based on collaboration model with SIP call control server and media server and evaluated performance. The result of performance evaluation and analysis show effectiveness of overload control method based on collaboration model between SIP call control server and media server. Key words: SIP Media Server, overload control, collaboration control