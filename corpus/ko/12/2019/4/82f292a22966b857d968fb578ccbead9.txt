김일성종합대학학보 정보과학 주체108(2019)년 제65권  제4호 자료기지상태에 기초한 웨브봉사흐름공정의 형식화 조영희, 한일남 오늘날 프로그람개발이 웨브봉사에 기초한 체계들로 조립되고 배치되며 관리되는 조 건에서 업무처리실행언어(BPEL : Business Process Execution Language)로 업무처리[1, 2]를 서 술하고있다. 론문에서는 기업봉사모선(ESB : Enterprise Service Bus)체계를 분석한데 기초하여 자료 기지에 접근하는 웨브봉사들에 대하여 외부체계의 요청에 응답하는 견지에서 웨브봉사흐 름공정을 형식화하였다. １．자료기지에 접근하는 웨브봉사흐름공정의 정의 자료기지상태는 웨브봉사가 접근하는 자료기지의 표들에 보관된 기록과 마당들의 값 모임이다. 정의 １ 자료기지상태 DBS DBS = (DBType, T, F, R) DBType: 자료기지형식 T: 표모임(t∈T: 표)  F: 표들의 마당모임(ft∈F: t의 마당) R: 마당에서 관계들의 모임(Rt는 ft에서 관계) t는 ft에 자료형과 속성들을 대응시키는 규칙 t→ft를 가진다. 자료기지에 접근하는 웨브봉사에 대한 요청 및 응답과정을 자료기지접근과 결부하여 론의하자. 정의 ２ 자료기지에 접근하는 웨브봉사 WS WS = (id, WSReq, WSRes, WSLogic) id: 식별자 WSReq: 요청통보문규약 WSRes: 응답통보문규약 WSLogic: 업무론리 WSInput: 입력파라메터 WSOutput: 출력파라메터 WSDBLogic: 자료접근론리 WSInnerLogic: 내부론리 이 함수는 WSDBLogic를 가진다. WSLogic = (WSInput, WSOutput, WSInnerLogic) 자료기지상태에 기초한 웨브봉사흐름공정의 형식화 － 37 － WSDBLogic는 속성, 입력, 출력으로 이루어져있다. 속성: URL을 비롯한 자료기지접근파라메터들 입력: SQL문모임(QS) 출력: 결과모임(RS) WSReq는 SOAP통보문을 WSInput로 변환하는 Req2Param함수를 가진다. WSRes는 WSOutput를 SOAP통보문으로 변환하는 Param2Res함수를 가진다. Req2Param(WSReq_SOAPMessage) = WSInput Param2Res(WSOutput) = WSRes_SOAPMessage 1개의 웨브봉사는 1개의 자료기지상태를 리용하여 자료접근을 진행한다. 웨브봉사흐 름공정에서는 여러개의 웨브봉사를 호출하므로 여러개의 서로 다른 자료기지상태들을 리 용한다. 정의 ３ 자료기지상태모임 DBS_Set DBS_Set: DBS1 × DBS2 ×…× DBSn의 부분모임 WS1, …, WSn: 웨브봉사흐름공정이 접근하는 자료기지접근웨브봉사 DBS1, …, DBSn: WSi가 접근하는 자료기지상태 BPEL의 매 웨브봉사호출마디와 조종론리를 실현하는 IF, WHILE 등의 마디들을 그라 프의 마디점들로 대응시킨 BPEL작업흐름공정(BPEL Oriented WorkFlow: BOWF)으로 모형화 하자. 활동들은 웨브봉사에 의하여 실현되고 BPEL은 조합웨브봉사에 의하여 실현된다. 정의 ４ BPEL작업흐름공정 BOWF BOWF = (id, name, E) id: 흐름공정식별자 name: 흐름공정이름 E = {e1, e2, …, en}: 흐름공정에서 활동마디모임 ei = (id, type, ng, pa, tolink, prelink, condition) id: 마디식별자 type: 마디형식 ng: 마디목적 pa: 활동마디 tolink: 현재마디의 다음마디 prelink: 현재마디의 이전마디 condition: 순환, 분할－합 마디인 경우 조건식, 기타 경우 NULL로 설정 BOWF에는 6개의 기본마디들로서 순차, 순환, 분할－적, 분할－합, 합침－적, 합침－ BOWF는 마디들과 련결선들로 구성되는데 마디들은 활동마디들과 7개 론리마디들로 이루어지며 련결선은 마디들사이의 흐름방향을 표시한다. 활동마디들은 흐름공정에서 기 본단위로서 매 마디는 실현되여야 할 기능들을 표현하고 론리마디들은 활동마디들사이의 론리적인 관계를 나타낸다.(그림 1) 합이 있다. － 38 － 종합대학학보 정보과학 주체108(2019)년 제65권 제4호 끝 OR 분할－합 OR 합침－합 시작 AND 분할－적 AND 합침－적 활동 순차 while 순환 그림 1. BOWF구성요소의 마디 ２．웨브봉사흐름공정에 의한 업무의 실현 흐름공정에서 매 활동마디들은 하나의 웨브봉사로, 전체 공정은 하나의 기능을 수행 하는 조합웨브봉사로 보인다. 여주었다. 그림 2에 웨브봉사흐름공정과 인터네트에 있는 웨브봉사들의 대응관계를 실례로 보 찾 기 상품찾기 AND AND 상품예약 가격 구입경로 대리웨브봉사 인터네트 그림 2. 웨브봉사흐름공정과 인터네트에 있는 웨브봉사들의 대응관계 그림 2에서 왼쪽은 BOWF로 표현된 상품을 찾아서 미리 주문하기 위한 업무이고 오 른쪽은 그 업무들을 실현하기 위하여 호출되는 인터네트의 웨브봉사들과의 관계를 보여 준다. 상품찾기웨브봉사는 우선 상품을 구입하려면 어떻게 해야 하는가를 찾는 웨브봉사 자료기지상태에 기초한 웨브봉사흐름공정의 형식화 － 39 － 이다. 상품찾기웨브봉사는 구입하려는 상품을 찾는 웨브봉사이며 상품을 찾으면 가격웨브 봉사를 호출하고 동시에 구입경로를 찾는 웨브봉사를 호출한다. 이와 같이 상품구입에 필 요한 모든 정보들을 얻으면 그 정보에 기초하여 상품에 대한 예약을 할수 있으므로 상품 예약웨브봉사를 호출하여 제안을 예약한다. 그림 2의 오른쪽 부분은 웨브봉사들과 인터네트사이의 련관을 보여주는데 상품찾기 나 구입경로와 같은 웨브봉사들의 호출은 대리웨브봉사기들을 걸쳐 인터네트에서 필요한 웨브봉사를 찾아 리용한다. 이와 같이 업무는 매 활동마디들을 실현하는 웨브봉사와 웨브봉사흐름공정모형의 구 조에 기초한 조합웨브봉사로부터 최종적으로 변환된 BPEL에 의하여 완성된다. 자료기지상태 DBS, 자료기지에 접근하는 웨브봉사 WS, 자료기지상태모임 DBS_Set, BPEL작업흐름공정 BOWF를 정의하여 자료기지에 접근하는 웨브봉사흐름공정을 형식화 하였다. 맺 는 말 참 고 문 헌 [1] Qianhui Liang; Software Practice and Experience, 44, 47, 2014. [2] Katarina Grolinger; Information and Software Technology, 53, 159, 2011. Formalization of Web Service Workflow Based on Database States 주체108(2019)년 8월 5일 원고접수 Jo Yong Hui, Han Il Nam In this paper we proposed Web Service Workflow to response the requests of web services accessing database based on Enterprise Service Bus. Key words: BPEL(Business Process Execution Language), ESB(Enterprise Service Bus)