김일성종합대학학보 정보과학  주체110(2021)년 제67권  제1호 로바스트적응려파기에 의한 3축회전체비행 조종실험기구의 자세추정 김성진, 박은순 확장칼만려파기에 의한 자세추정방법은 관성측정장치(IMU)의 수감자료들을 그대로 리용하거나 혹은 상보려파를 리용하는 방법에 비하여 자세추정정확도가 높다. 그러나 확 장칼만려파기에 의한 자세추정은 체계의 모형정확도에만 관계되는것이 아니라 잡음의 상 태에도 관계된다.[1] 한편 전통적인 확장칼만려파기는 잡음의 교정능력을 가지고있지 못하고 확장칼만려파 기추정실현에 직접적인 영향을 주는 모형파라메터들의 불확정성에는 민감하지 못하다.[2] 론문에서는 려파정확도를 높이기 위하여 로바스트법과 적응려파법을 결합한 로바스 트적응려파기를 구성하고 이것을 리용한 3축회전체비행조종실험기구의 자세추정방법을 제안하였다. １．3축회전체비행조종실험기구 제안한 3축회전체비행조종실험기구의 구조를 그림 1에 보여주었다. 그림 1. 3축회전체비행조종실험기구의 구조 3축회전체비행조종실험기구는 활등모양의 로라안내대와 그우에 놓인 회전대, 회전팔, 3개의 직류전동기, 3개의 전위차계, 관성수감장치(MPU9150), 지지틀로 되여있다. 활등모 양의 로라안내대는 종요축주위로 범위에서 회전하며 로라안내대우에 설치된 회전대 범위에서 회전한다. 또한 종요, 횡요축주위로 회전하는 회전대우에 는 횡요축주위로 범위에서 회전한다. 설치된 회전팔은 3축회전체비행조종실험기구에는 3개의 회전부분들이 있다. 로라안내대와 회전대, 회전팔, 관성수감장치, 종요전동기를 포함하는 종요부분, 회전 대와 회전팔, 관성수감장치, 횡요전동기를 포함하는 횡요부분, 회전팔과 관성수감장치를 포함하는 편요부분들로 이루어진다. － 112 － 종합대학학보 정보과학 주체110(2021)년 제67권 제1호 ２．로바스트적응려파기에 의한 3축회전체의 자세추정 3축회전체비행조종실험기구의 전동기에 가해지는 조종력을 고려하지 않은 경우 체계 의 상태방정식은 다음과 같다. (cid:5) x = wxf )( z = )( xh + v + (1) 여기서 x(cid:5) 는 체계의 상태, z 는 체계의 출력, w , v 는 잡음이다. 상태방정식을 띠염화하면 다음과 같다. ) ( x + w k Φx = k k 1 − xH ( k k ) k kz 는 m 차원관측벡토르, 1 − v + = 1 − z k k (2) 여기서 측행렬, kx 는 n 차원상태벡토르, kw , kv 는 평균이 령이고 분산이 1−kΦ 은 상태옮김행렬, kH 는 관 RQ, 인 공정잡음과 관측잡음이다. 려파공정의 상태첫단계예측에서 예측상태벡토르와 예측잔차공분산행렬은 다음과 같다. )(ˆ x k =− 1 ˆ xΦ k k 1 − − T ΦPΦ k 1 1 k − − 1 − k P k )( =− (3) + Q k 1 − (4) 이때 예측상태잔차벡토르와 출력잔차벡토르는 다음과 같이 얻어진다. )(ˆ x k )(ˆ ˆ xΦ 1 k − )(ˆ x k )(ˆ x k =− −+ −+ −+ )(ˆ x − k = = 1 − v z k ˆ v k xH kk k (5) 측정값과 추정값사이의 오차벡토르를 최소화하고 예측오차공분산행렬을 적응적으로 변화시키며 측정잡음의 잔차를 줄이기 위하여 다음과 같은 로바스트인 극값함수를 정의 한다. Ω = 1 T − ˆ vRv k k k + α T v )(ˆ xk − k 1 − vP k − T 2 λ k ( xH kk )(ˆ −+ z k )(ˆ x − kz 의 등가공분산행렬로서 측정된 공분산행렬에 대한 적응추정량이다. 그리 )1 에 관하여 식 (6)을 각각 편미분하고 령으로 놓으면 다음의 식들이 얻어 kλ 는 라그랑쥬승수이다. 는 적응인자, k k − v ) (6) kR 는 여기서 고 0( k αα < k ≤ ,ˆ )(ˆ v x +k k 진다. k k Ω ∂ ˆ v ∂ k Ω ∂ ˆ x ∂ k = T 1 − Rv 2 k k + T 2 λ k = 0 (7) = T 1 − ˆ2 HRv k k k + 2 α T v )(ˆ xk − k 1 − P k 2)( −− T λ k H k = 0 2 1 − ˆ vRH k k T k + α k T − P k )( − v )(ˆ kx − = 0 (8) 2 1 − xHRH k T k ( k )(ˆ k −+ z k ) + α k 1 − P k ( − )(ˆ)( x k −+ (ˆ x k )) =− 0 (9) 식 (7)로부터 이 얻어진다. 다음 식 (5)를 식 (8)에 넣으면 로바스트적응려파기에 의한 3축회전체비행조종실험기구의 자세추정 － 113 － α k 2 ⎛ ⎜⎜ ⎝ 1 α k 이 얻어진다. 식 (9)로부터 를 얻을수 있다. 이제 로 놓고 식 (10)을 다시 쓰면 )(ˆ x k =+ ( 1 − HRH k T k k + 1 − P k ( − )) 1 − × ( 1 − zRH k T k k + 1 − P k (ˆ)( x − k − )) (10) α k 2 α k 2 K k = ( 1 − HRH k T k k + 1 − P k ( − )) 1 − × 1 T − RH k k (11) )(ˆ x k =+ ( zK k k + ( K 1 − k − xH k (ˆ) k − )) (12) K k = P k )( − H T k PH kk )( − H T k + R k (13) 1 α k 1 − ⎞ ⎟⎟ ⎠ 로 된다. 이로부터 선형띠염체계에 대한 로바스트적응려파알고리듬은 다음과 같다. )(ˆ x k =− k 1 − ˆ xΦ 1 k − 1 α k P k )( =− ( PΦ 1 k k − 1 − )( + T Φ 1 k − + Q k ) 1 − R k ) )( − H + T k (ˆ) k xH k K = P k )( − ( PHH k T k k + =+ k 1 − )(ˆ [ x zK k k k ) )( P PHKI − − k k k kz 의 등가공분산행렬 )( =+ K − ( ( k k )] =− )(ˆ x k +− ( zK k k − xH k (ˆ k − )) (14) ① 관측벡토르 등가공분산행렬은 쌍인자분산확장모형으로부터 얻을수 있다. kR 계산 여기서 ijkσ 는 이전의 공분산과 kR 에 의해서 얻어지는 대응요소이며 iλ , jλ 는 분산팽창 σ = k ij σλλ k j i ij (15) 인자이다. ⎧ ⎪ ,1 ⎪ ⎨ ⎪ ⎪ ⎩ |~| v = i ≤ c v i σ v i ~ v i > c λ i = |~| v i , c iv~ 은 정규화된 잔차이다. (16) 여기서 i = ,2,1 (cid:34) , k , 정규화된 잔차가 최대로 1의 값을 가지므로 c 의 값도 최대로 1의 값을 가지며 이 값에 따라 분산팽창의 범위가 결정되는데 보통 c 는 0.8부터 1의 값이 될수 있다. 관측공분산행렬은 관측된 오유가 일정한 범위에서 초과되면 팽창되며 분산은 변하지 xHz − k 이며 이때 그것에 대한 리론적인 공분산행렬은 v inn = k k , )(ˆ − k (17) 않는다. kα 의 선택 ② 적응인자 려파공정에서 갱신순서는 1 α k 1 α k － 114 － 종합대학학보 정보과학 주체110(2021)년 제67권 제1호 P inn , k = PH k k )( − H T k + R k (18) 식 (14)로부터 적응려파에서 갱신공분산은 P inn , k = PH k k )( − H T k + R k (19) 이다. 로 된다. ˆ innP , k 가 실제적인 갱신공분산행렬을 표시한다고 하면 갱신공분산에 기초한 적응인 자 kα 는 ˆ P inn , = P inn , k k 를 만족시킨다. ˆ P inn , = k PH k k )( − H T k + R k (20) 식 (20)으로부터 다음의 식을 얻을수 있다. α k 다음 식 (21)에 식 (18)을 대입하면 ˆ(α P inn k 로 되며 이로부터 다음의 결과를 얻게 된다. Ptr ( ˆ( Ptr =α k inn , k inn , k − − R k R k ) ) ˆ( P inn , − R k ) = PH k k k )( − H T k (21) − R k ) = P inn , k − R k , k (22) (23) 적응인자 kα 의 값범위가 (0, 1]이므로 다음과 같이 쓸수 있다. ) ˆ( Ptr Ptr ( ≥ ) inn , k inn , k α k = inn , k ⎧ ,1 ⎪ Ptr ( ⎨ ⎪ ˆ( Ptr ⎩ − − R k R k ) ) 여기서 , inn tr 은 행렬의 대각선합이다. )(⋅ k , Ptr ( inn , k ) < ˆ( Ptr ) inn , k (24) 식 (24)에서 같은 항들을 생략하면 가장 적합한 적응인자는 다음과 같다. α k = ⎧ ,1 ⎪ Ptr ( ⎨ ⎪ ˆ( Ptr ⎩ ) ) , inn , k inn , k Ptr ( inn , k ) ≥ ˆ( Ptr inn , k Ptr ( inn , k ) < ˆ( Ptr inn , k ) ) (25) 현재표본화시간의 갱신벡토르를 리용하여 공분산을 표시하면 ˆ P , inn ˆ( Ptr = v inn , k T v inn , k k (26) ) = T v inn , v inn , k k inn , k (27) 이다. 이로부터 근사최량적응인자는 다음과 같이 설정될수 있다. ⎧ ,1 ⎪ ⎨ ⎪ ⎩ α k = ) Ptr ( T v inn , k k , inn v inn , k Ptr ( inn , k ) ≥ ˆ( Ptr inn , k , Ptr ( inn , k ) < ˆ( Ptr inn , k ) ) (28) 분산팽창인자가 1일 때 측정잡음이 초기의 정특성과 같고 로바스트적응려파기는 적응려파기로 된다. 그리고 적응인자가 1일 때 로바스트적응려파기는 로바스트려파기로 로바스트적응려파기에 의한 3축회전체비행조종실험기구의 자세추정 － 115 － 1=iλ , 되며 1=kα 일 때 전통적인 칼만려파기로 된다. 그러므로 로바스트적응려파기는 파라메터들을 조절하여 불확정성인자들의 영향을 적응시킬수 있는 실질적인 칼만려파기 이며 불확정성인자들이 있는 조건에서 상태추정을 진행할수 있다. ３．모의실험 및 결과분석 3축회전체비행조종실험기구의 자세결정 및 조종모의를 MATLAB를 리용하여 진행하 고 선행한 방법들과 비교분석하였다. 모의에서 초기파라메터는 다음과 같이 설정하였다. 8) =Q 001 =R diag([10^ ( 8) − diag([0.00 .01 10^ ( 8)]); − .0 000001 ]); 10^ 001 − .0 ( ( ( − − [0 10) 10) 10^ diag([10^ =P 0 0 =q 모의에서는 분산팽창인자를 결정하기 위하여 c 의 값을 0.9로 설정하였다. 그림 2에 확장칼만려파기를 리용한 경우의 자세추정오차곡선을 보여주었다. 10)]); 00 T ;1] 10^ 10^ 10) − − ( ( 그림 2. 확장칼만려파기를 리용한 경우의 자세추정오차곡선(ㄱ) 횡요각, ㄴ) 종요각, ㄷ) 편요각) 그림 2에서 보는바와 같이 횡요각오차는 °5 로 서 매우 큰데 이것은 측정잡음으로 인하여 생긴것이다. 수감부측정잡음으로 인한 오차를 제거하기 위하여 RAEKF를 리용하여 자세를 추정하였는데 추정된 자세추종오차곡선은 그림 3과 같다. °1 , 종요각오차는 , 편요각오차는 °2.0 그림 3. 추정된 자세추정오차곡선(ㄱ) 횡요각, ㄴ) 종요각, ㄷ) 편요각) 그림 3에서 보는바와 같이 자세추정오차가 모두 °2.0 안에 들어갔다는것을 알수 있다. － 116 － 종합대학학보 정보과학 주체110(2021)년 제67권 제1호 맺 는 말 참 고 문 헌 실시간적인 잡음들의 정특성들을 직접 측정하고 려파정확도를 높이기 위하여 로바스 트법과 적응려파법을 결합한 로바스트적응려파기를 설계하고 MATLAB를 리용하여 자세 결정 및 조종모의를 진행하여 제안한 방법의 효과성을 검증하였다. [1] 박은순; 전자자동화, 4, 25, 주체107(2018). [2] Der-Ming Ma et al.; Department of Aerospace Engineering, 12, 1, 2018. 주체109(2020)년 11월 5일 원고접수 The Attitude Estimation of Three-Axis Spinning Flight Control Experiment Mechanism by Robust Adaptive Filter Kim Song Jin, Pak Un Sun We directly measured the static characteristic of the real time noise in order to raise the filter accuracy designed the robust adaptive filter by combining robust method and adaptive filter one and verified the effectiveness of the proposed method by conducting the attitude determination and control simulation, using MATLAB. Keywords: robust adaptive filter, attitude determination