김일성종합대학학보 정보과학 주체110(2021)년 제67권  제2호 삼각형구름신경망을 리용한 용기 세척온도예측조종기설계 박은순, 문경호 선행연구[1]에서는 타빈조속계통에 신경망예측조종방법을 리용하였으나 이 방법은 불확정성극복능력이 부족한 결함이 있다. 한편 선행연구[2, 3]에서는 구름신경망이 불확정성표시 및 처리능력이 높다는것을 밝 혔다. 론문에서는 불확정성처리능력이 높은 구름신경망을 리용하여 지연을 가진 용기세척 온도조종기를 설계하고 현장실험을 통하여 효과성을 검증하였다. １．용기세척온도조종체계의 조종공학적특성 용기세척은 세척준비(세척액채움 및 가열), 1차물세척, 알카리세척, 질산세척, 2차물세 척의 5단계를 거쳐 진행된다.(그림 1) 그림 1. 용기세척공정의 흐름도 ① 세척준비 세척준비는 절임이 끝나기 2시간전에 진행한다. 세척에 리용되는 탕크들에는 가열장치와 준위스위치들, 온도수감부들이 설치되여있 으며 세척과 회수를 위한 공기구동식발브 14개, 6개의 뽐프(공급뽐프 3개, 회수뽐프 3개) 가 있다. 세척준비를 위하여 우선 탕크들에 세척용물을 받은 다음 2개의 보조탕크(원액탕크) 로부터 질산과 알카리탕크에 질산과 알카리를 필요한만큼 공급한다. 세척액들을 탕크에 채우는 공정이 끝나면 탕크들을 가열한다. 물탕크는 온도가 90℃, 알카리탕크와 질산탕크는 80℃를 유지하도록 한다. ② 1차물세척 이 단계에서는 용기에 붙어있는 이물들을 제거한다. 1차물세척이 진행되는 동안 온도 의 측정과 조종을 계속 진행하며 1차세척에 리용하였던 물은 회수하지 않으므로 물저장 탕크의 물은 계속 보충해주어야 한다. 1차물체척은 1min정도 진행한다. ③ 알카리세척 알카리세척은 기름, 단백질을 해리시키기 위해서 진행한다. 용기세척에 쓰이는 알카리용액은 세척공정상의 요구로부터 1.5%를 보장하여야 한다. 이 단계에서도 물저장탕크와 마찬가지로 온도를 실시간조종한다. 알카리세척은 2min정도 진행한다. － 116 － 종합대학학보 정보과학 주체110(2021)년 제67권 제2호 ④ 질산세척 알카리세척이 끝나면 질산세척을 진행한다. 세척에 리용되는 질산세척액의 농도는 2%이다. 질산세척시간은 1min정도이다. ⑤ 2차물세척 질산세척이 끝나면 2차물세척을 진행한다. 2차물세척에서는 1차세척에서 제거되지 않은 화학물질들을 제거한다. 2차물세척방법은 1차물세척과 같은데 다른 점은 2차물세척에서는 물을 다시 회수하 여 리용한다는것이다. 용기세척공정에 대한 고찰로부터 다음과 같은 조종공학적요구를 설정할수 있다. ① 세척공정에 리용되는 질산용액, 알카리용액의 온도를 일정하게 유지하여야 한다. 만일 온도가 설정온도를 초과하면 화학용액의 증발로 인하여 용액의 농도가 낮아지 고 생산현장이 오염될수 있다. 또한 온도가 낮으면 요구되는 세척성능을 발휘할수 없다. ② 세척액과 탕크온도의 관성으로 인한 지연을 고려하여야 한다. 공정에서 본것과 같이 질산과 알카리를 비롯한 세척액의 온도는 관로의 길이로 인한 지연, 세척액탕크온도의 관성으로 인한 지연이 존재하게 된다. 이 지연시간은 대상의 조종체계설계문제를 어렵게 하는 한가지 요인으로 된다. 한편 용기세척온도는 알카리, 질산 등 화학용액의 농도에 의해서도 변하므로 가열기 에 의한 온도조종에는 불확정성이 존재한다. 그러므로 세척공정의 온도조종에서는 반드시 불확정성과 지연을 고려하여야 한다. 그림 2에 삼각형구름신경망에 의한 용기세척예측조종기구조를 보여주었다. 그림 2. 삼각형구름신경망에 의한 용기세척온도예측조종체계구조 그림 2에서 CNNM은 삼각형구름신경망에 의하여 용기세척공정의 모형화를 진행하는 모형예측부이고 CNNC는 삼각형구름신경망에 의한 용기세척온도예측조종력을 계산하는 반결합조종부이다. 삼각형구름신경망에 의한 용기세척예측조종기의 동작과정은 다음과 같다. 우선 삼각형구름신경망으로 용기세척공정의 모형을 작성한다. 삼각형구름신경망을 리용한 용기세척온도예측조종기설계 － 117 － 그리고 이 모형에 기초하여 기준모형결정부에서 앞으로의 기준모형의 출력을 예측한 다. 그다음 예측된 기준모형과 예측된 용기세척공정의 온도예측값이 일치하도록 반결합 조종부에서 조종력렬을 계산하여 현재조종력값만을 대상에 가하는 방법으로 예측조종을 실현한다. 삼각형구름신경망에 의한 용기세척공정을 모형화하는 과정은 다음과 같다. 먼저 삼각형성원구름에 대하여 보자. 삼각형성원구름모형은 다음의 세가지 특성 값을 가진다.(그림 3) ① 기대값 Ex 중심에 대응한 론의역값으로서 =cxμ 1) ② 이다. 1En 2En , ( : 삼각형성원구름모형의 무게 일 때 = Ex x x c = : 삼각형성원구름곡선의 폭으로 서 가우스분포에서 분산에 해당된 특성량이다. Ex 3개의 파라메터 값에 의하여 En , En 1, 2 삼각형성원구름곡선의 방정식이 결정된다. 그림 3. 삼각형성원구름 (, x − Ex ) ≥ 이고 En  1 x < Ex 때일 xμ )( = (, x − Ex ) ≤ En 이고 2 x ≥ Ex 때일 경우 그밖의 x x Ex − En 1 Ex − En 2 − + ⎧ 1 ⎪ ⎪ ⎪ 1 ⎨ ⎪ ⎪ ,0 ⎪ ⎩ ③ 초분산 He : 삼각형성원구름곡선의 점 M ( x = Ex + 2 En ,/3 μ = )3/1 에 대응되는 성 원구름의 분산으로서 성원구름의 리산정도를 반영한다. 여기로부터 정방향삼각형구름생성알고리듬은 다음과 같다. ① 를 중심값으로, Ex 2 ② 을 중심값으로, 를 분산으로 하는 정규분포우연수 1En ③ 를 중심값으로, 를 분산으로 하는 정규분포우연수 2En ④ 다음 1 En En + 2/) He He ( x′ 1nE ′ 를 생성한다. 2nE ′ 를 생성한다. 를 분산으로 하는 정규분포우연수 를 생성한다. (, x − Ex ) ≥ ′ 이고 nE 1 x < Ex xAμ ( =′ ) + (, x − Ex ) ≤ nE ′ 이고 2 x ≥ Ex 그밖의 경우 x − Ex − ′ nE 1 Ex − ′ nE 2 x 1 ⎧ 1 ⎪ ⎪ ⎪ ⎨ ⎪ ⎪ ,0 ⎪ ⎩ 를 계산하고 ( x ′ μ , A ( x ′ )) 를 1개의 구름방울로 정한다. k 개의 구름방울을 생성할 때까지 걸음 ①－④를 반복한다. 삼각형성원구름을 그라프로 표현하면 그림 3과 같다. 다음으로 삼각형구름신경망에 대하여 보기로 한다. 삼각형구름신경망의 구성도는 그림 4와 같다. － 118 － 종합대학학보 정보과학 주체110(2021)년 제67권 제2호 그림 4. 삼각형구름신경망의 구성도 그림에서 제1층은 입력층이며 이 층의 매개 세포들은 직접 입력벡토르 의 원소와 련결된다. 그림 4에서 =n )1 은 다음시각의 세척온도이다. 용기세척공정은 일반적으로 2차체계[1]로 표시되므로 x , ku )( )( ky ky ( )1 , , − = x x = 3 x = 1 2 = ku ( − )1 4 [ x x , L= 1 4 이고 ym , nx ( +k T ] 로 볼수 있다. = 이 층의 기능은 입력 제1층의 세포수는 [ x 1 이다. 제2층의 매개 세포들은 하나의 구름모형을 표시하며 이것의 기능은 매개 입력변수들의 성원구름함수를 계산하는것이다. 이 구름성원함수들은 앞에서 설명한 정방향구름생성알고리듬으로 생성한다. ] 을 다음의 층에로 전달하는데 있다. x 1 =N L nx 4 x 2 , , , 층의 세포수는 4개의 입력변수에 대하여 3개로 분할한 경우에 이다. 여 기서 4는 입력벡토르의 차수이고 3은 의 분할된 구름모형개수이다. 이 층에서는 매 성 원구름함수의 파라메터들인 를 결정하여야 한다. =×=N ix He 34 En Ex 12 2 , , x x x 제3층의 매개 세포는 하나의 x 조건구름모형규칙을 대표하며 그것의 작용은 차원 x 조건구름모형을 계산하는것이다. n 규칙 w l j = 1 − ⎧ ⎛ ⎜ ⎪⎪ ⎜ ⎨ ⎝ ⎪ ⎪ ,0 ⎩ x − Ex x 1 En x 1 1 − ⎛ ⎞ ⎜ ⎟ ⎜ ⎟ ⎝ ⎠ x − Ex En 2 x ⎞ ⎟ ⎟ ⎠ 기타 , x 2 L − 1 ⎛ ⎜ ⎜ ⎝ j = x − Ex x n En x n ,2,1 , L | x 1 x 1 x − | | ≤ Ex En ⎞ ⎟ |, ⎟ ⎠ lN , 3 1xnE ′ 는 기대값이 ,2,1 L = g , 웃식에서 g 는 전건부입력변수들의 구름방울개수이며 xHe 산이 구름방울개수는 확률적특성을 반영하므로 인 가우스분포의 우연수를 의미한다. 이 층의 총 세포수는 1=g 000 으로 한다. 이고 분 xEn 3333 ×××=N 3 이며 제4층의 신경세포수는 제3층의 신경세포수와 같다. 여기서는 정규 x 조건 구름모형을 생성한다. l w j N w = l j w l j 3 ∑ j 1 = 삼각형구름신경망을 리용한 용기세척온도예측조종기설계 － 119 － 제5층은 출력층으로서 출력성원구름함수를 단점성원구름함수로 하는 경우 출력성원 ) 이고 구름모형사영기, 구름함수의 파라메터는 출력성원구름함수의 기대값 Ex Ex y = ( l j y j y j 역방향구름생성기를 거치면 1개의 출력 가 계산된다. y w l j g ∑ l == 1 g y l j g ∑ l == 1 g , w j , y j (1) y N 3 ∑ j 1 == N ∑ 3 j 1 = yw j j w j 다음으로 구름신경망의 파라메터들을 결정하기 위한 학습알고리듬에 대하여 보기로 하자.[3] 여기서 구름신경망의 학습과정은 구름신경망의 파라메터들인 성원구름함수의 기대값, 분산, 초 분산과 동시에 망구조를 조종대상의 출력이 희망하는 출력과 일치하도록 조정하는것이다. 구름신경망에서 학습해야 할 파라메터개수 ς 는 제2층에서의 전건부성원구름함수의 파라메터들인 기대값, 분산, 초분산, 제4층에서 제5층으로 넘어갈 때의 결합무게곁수 즉 후건부성원구름함수의 기대값을 고려하면 다음과 같다. ×=ς 3 12 + 81 = 117 평가함수는 대상의 출력을 목표출력값에 일치시키기 위한 조종의 정확도요구와 신경 망구조의 간단성의 두 측면을 고려하여 설정한다. + min( E = J 1 λ                           (2) C ′ ) E = tr )(( − ty ( 2)) 1 2 T ∑ t 1 = 으로서 는 체계오차를 반영하는 파라메터, E 제출력이다. 그리고 )(tr 는 체계의 목표출력, )(ty 는 체계의 실 C =′ N 3 W ( ∑ (1 = + 1 j W ) / ψ ) / ψ j , , ψ≤jW =j ,2,1 L , 25 j 로서 는 제4층으로부터 제5층에로의 무게곁수이고 상수 jW λψ, 는 각각 1.0 > ψ > 5.0,0 λ >> 0 이다. 웃식에서 ( ψjW ) / 는 의 값이 jW ψ값에 따라 달라진다는것을 의미한다. 즉 제4층에 서부터 제5층에 이르는 무게곁수값 와 제3층, 제4층에서의 규칙개수가 1대 1대응되는 jW 데 그것의 개수에 따라 망의 구조가 결정되므로 의 값을 작은 정수 ψ 와 비교하여 jW 그 결과가 | jW , ψ≤| =j ,2,1 L , 25 이면 이 무게값을 0으로 하고 이 규칙을 반영하는 신 경세포와 대응한 입출력련결을 제거한다. 또한 평가함수식에 들어있는 λ는 무게곁수로서 체계의 오차정확도에 70%의 무게를 주고 망구조에 30%까지의 무게를 부여한다는것을 의미한다. 117 체계의 요구되는 학습파라메터개수는 ×=ς 12 81 = + 3 이므로 117개의 파라메터들 을 카오스탐색방법으로 결정한다.[3] － 120 － 종합대학학보 정보과학 주체110(2021)년 제67권 제2호 카오스최량화방법을 리용하기 위한 로지스틱넘기기는 다음식과 같다 1(4 αα − s )1,0( =+ 1 ,2,1 α 0 h , ∈ ), = s , L (3) 여기서 ααα ,2 ,1 = ( , s s , s L ) 이고 는 카오스학습차수이다. h α s , ςα , s (0, 1)구간안에서 ς개의 서로 다른 매우 작은 우연수값을 초기값으로 취하고 웃식에 대입하여 ς 개의 변수를 카오스상태에 진입시켜 카오스체계에서 ς 개의 서로 다른 카오 스변수 를 만든다. 매 카오스변수를 모두 대응한 변수구간에 놓이도록 하기 위하여 식 (4)를 리용한다. 는 0부터 1사이의 값을 취하고 구름신경망의 무게 와 전건부성 { sα } jW ixEx 는 1 <− W j Ex , ix < 1 의 값을, 성원구름함수의 분산과 초분산은 < 1 의 값을 취하므로 구하려는 구름신경망파라메터들을 결정하려면 다음식 sα 원구름함수의 기대값 0 < En x He , x i i 으로 변환해야 한다. P , ρ P , ς ⎧ ⎪ ⎨ ⎪⎩ 2 α −= s , ρ , ςα s , ρ = s s + ,1 ρ = ,2,1 93, L = ,94 , 117 L (4) 삼각형구름조종기의 파라메터들을 최량화하기 위한 카오스최량화과정은 다음과 같다. 로 하고 (0, 1)구간에서 ① 구름신경망조종기에서 확정하려는 파라메터개수를 117 =ς ς개의 서로 다른 초기값을 우연적으로 취한다. ② 앞에서 얻은 초기값들을 식 (3)에 대입하여 ζ 개의 카오스궤도변수들을 얻는다. ③ 식 (4)를 리용하여 변환한 ζ 개의 변수들을 구름조종기출력식 (1)에 대입하여 조 종력을 계산한 다음 식 (2)에 기초한 성능지표 을 계산한다. 1J ④ 만일 완료조건이 만족되면 탐색을 완료하고 ⑤에로 이동하며 그렇지 않으면 ②에 로 되돌아간다. ⑤ 체계성능지표 의 최소값을 찾고 그때의 최량풀이들을 출력한다. 다음으로 구름신경망을 리용하여 용기세척온도를 예측하여 조종하는 조종력을 계산 1J 하는 방법에 대하여 보기로 하자(그림 5) 앞에서 작성한 세척공정의 구름신경망모형으로부터 한걸음 앞선 구름신경망의 예측 모형을 작성한다. 그림 5. 구름신경망을 리용한 용기세척온도예측조종기구성도 삼각형구름신경망을 리용한 용기세척온도예측조종기설계 － 121 － 그림 5에서 구름신경망모형 CNNM으로부터 예측한 온도값을 최량화프로그람에 보 u′ 라는 조건하에서 최소값에 도 J 내면 성능목표함수 는 적당히 결정한 조종력신호가 달한다. J = M 2 Mj − M 1 ∑ [ ty ( r + j ) − y t ( + m 2 )] j + −+′−−+′ [ tu ( λ i tu ( )1 j j 2 )]2 1 j 2M j 1 1 = = 는 각각 출력오차와 조종을 고려한 증폭도이고 λ는 조종무게값 M 2 ∑ 여기서 상수량 이다. 1M , 작성할수 있다. 그림 5의 구조에서 보는바와 같이 앞으로 얻어질 망을 훈련시켜 최량화알고리듬을 NNC는 학습을 통하여 각이한 조종출력을 산생시킨다. 또한 주어진 대상의 출력에 대하여 최량화프로그람은 u′ 로 된다. 이런 과정을 반복하여 훈련이 완료되면 정상동작을 하는 대상모형과 최량화구조(점선부분)가 없어도 된다. ２．모의실험 및 결과분석 구름신경망에 의한 용기세척온도예측조종을 모의하기 위하여 대상의 입출력자료로부 터 구름신경망모형을 작성하고 그림 2와 같이 구름신경망예측조종기를 구성하였다. 구름신경망모형의 구성도는 그림 3의 구성도에 따라 4－12－81－81－1, 구름신경망 조종기도 4－12－81－81－1로 설정하였다. 첫번째 수자 4는 입력층신경세포의 개수로서 현시각과 이전시각들의 세척온도와 가 열기를 조종하기 위한 교류전압을 변화시키는 TRIAC의 열림도값들이며 그 다음수자 12 는 신경망의 입력변수 4개에 대하여 각각 3개로 분할하여 나온 성원구름함수의 개수이고 81은 가능한 입력변수 4개와 성원함수분할개수 3에 대한 가능한 규칙개수, 1은 구름신경 망의 출력으로서 모형을 구성하는 신경망의 출력은 세척온도, 조종기를 구성하는 구름신 경망의 출력은 열림도이다. 세척온도범위는 60～100℃이고 TRIAC의 열림도는 20～90% 이다. 구름신경망의 파라메터를 결정하는 카오스최량화방법의 파라메터를 40=s 으로 놓고 모의를 진행한 결과는 그림 6과 같다. 그림 6. 모의실험결과 － 122 － 종합대학학보 정보과학 주체110(2021)년 제67권 제2호 그림 6으로부터 알수 있는것처럼 카오스최량화방법에 의한 구름신경망을 학습하여 예측조종을 진행한 결과 BP학습에 의한 신경망예측조종보다 과대조절량이 적고 추종성 이 좋다는것을 알수 있다. 삼각형구름신경망에 의한 예측조종방법을 제안하고 용기세척온도예측조종에 적용하 여 그 효과성을 검증하였다. 맺 는 말 참 고 문 헌 [1] 종합대학학보 정보과학, 65, 1, 99, 주체108(2019). [2] 리창혁; 전력, 2, 8, 주체96(2007). [3] Yan BAO; Journal of Natural Gas Science and Engineering, 30, 421, 2019. 주체110(2021)년 2월 5일 원고접수 Design of Temperature Feedforward Controller for Barrel Washing Using Triangle Cloud Neural Network Pak Un Sun, Mun Kyong Ho This paper proposed the design method of feedforward controller using triangle cloud neural network and adopted that in predicting the temperature of the box washing process. Then it made the decision of the learning parameter of triangle cloud network by chaos optimization method and verified the effectiveness by the computer simulation experiments. Keywords: neural prediction control, cloud model, lavage progress