김일성종합대학학보 정보과학 주체110(2021)년 제67권  제2호 령역조종모형에 기초한 무인운반체계조종의 한가지 방법 차룡근, 지철 무인운반체계는 유연생산체계에서 작업세포들사이 부분품들이나 원료에 대한 처리를 효률적으로 진행하도록 하는 체계로서 그것은 가공세포, 공정중심, 로보트, 계량장치, 완 충저장기, 원료나 부분품의 운반을 수행하는 운반차 등으로 구성된다.[1, 2] 무인운반체계에서 운반차는 원료운반의 유연성을 높이는데서 중요한 역할을 하고있 다. 그러나 이때 운반차들의 충돌, 막힘과 같은 여러가지 문제들이 제기되며 이것은 유연 생산체계에서 해결해야 할 중요한 문제들로서 이를 위한 연구가 많이 진행되고있다. 무인운반체계의 유연성을 높이기 위하여 흐름식경로설계모형과 령역조종모형이 연구 되였는데 흐름식경로설계모형[3]은 무인운반체계의 경로유연성을 개선하지만 조종의 복 잡성과 충돌가능성을 높여준다. 령역조종모형은[4, 5] 주행일정계획작성문제의 복잡성을 최소화하기 위하여 개발되였 는데 이 모형에서는 운반공간을 겹치지 않는 령역들로 나누고 매 령역에서 오직 하나의 운반차만을 조종한다. 이때 매 운반차는 고정된 령역에서만 움직이며 령역들은 교차점을 통하여 생산물을 교환한다. 그러나 이 모형에서도 교차점에서 생산물을 교환하는것으로 하여 많은 시간이 소비된다. 론문에서는 새로운 령역조종모형에 기초하여 무인운반체계에서 운반차들의 조종을 최량화하기 위한 목적함수를 제안하고 분산조종에 의하여 운반차들의 충돌을 방지하기 위한 방법을 제안하였다. １．새로운 령역조종모형에 기초한 무인운반체계의 주행일정계획작성 새로운 령역조종모형에 기초한 무인운반체계구성도는 그림 1과 같다. 그림 1. 새로운 령역조종모형에 기초한 무인운반체계구성도 일반적으로 무인운반체계의 주행일정계획화는 과제수행에 적합한 무인운반차를 선택 하여 새로운 과제를 최대한 빨리 완성하도록 하기 위한 문제이다. － 110 － 종합대학학보 정보과학 주체110(2021)년 제67권 제2호 무인운반체계의 유연성을 개선하기 위하여서는 운반차들의 놀고있는 시간과 충돌기 다림시간을 최소화하여 무인운반체계의 전체 조종시간을 최소화하여야 한다. １）무인운반체계의 목적함수 무인운반체계의 목적함수를 모형화하기 위하여 다음과 같이 가정한다. ① 운반차경로는 한방향이다. ② 운반차의 속도는 일정하다. ③ 운반차는 하나의 과제수행에 필요한 부분품만을 적재한다. ④ 운반차는 과제를 끝내면 가장 가까운 곳에 정지해있다. ⑤ 매 완충기에는 오직 하나의 운반차가 들어갈수 있다. 우와 같은 가정에 기초하여 목적함수를 다음과 같이 정의한다. ⎞ ⎟⎟ ⎠ ( , ηη 2 1 B 222 1 η 1 T λ O 3 ηλ min T O λ 1 B 1 ⎛ ⎜⎜ ⎝ = + + ) f , (1) 목적함수의 제한조건은 다음과 같다. + + 여기서 는 무인운반체계의 전체 조종시간, 은 무인운반체계의 효률, 는 무인운반 OT 체계의 막힘률로서 λλλ 3 2 1η C= 2η 1 T O = T ei + T fi + T ci , i = ,3,2,1 , N (2) 1η = N ∑∑∑ T ei T + + fi T ci i 1 = T ei N ∑ 1 i = N i 1 = N ∑ i 1 = N T ci N i 1 = N 2η = N ∑∑∑ T T + + ei fi T ci i 1 = i 1 = i 1 = L N ∑ T ei 1 i = TN ⋅ O N ∑ T ci = i 1 = TN ⋅ O = (3) (4) 1λ 은 체계효률의 무게, 이다. 그리고 게, 1B 은 체계효률곁수, 서 N 은 무인운반차들의 수, 2λ 는 체계막힘률의 무게, 3λ 은 전체 조종시간의 무 2B 는 체계막힘률곁수, C 는 부아닌 상수이다. 또한 식 (2)－(4)에 fiT 는 번째 무인 eiT 는 i 번째 무인운반차의 유효운반시간, i 운반차의 무효기다림시간, 는 번째 무인운반차의 충돌기다림시간이다. i ciT ２）무인운반체계의 주행일정계획 무인운반체계의 주행일정계획은 방향그라프 V :) 은 마디점모임, {( E = = } v v v , , , 2 L nv v ,{ 1 i j 서 EVG = ( , ) v i , v j ∈ V } 를 리용하여 작성한다. 여기 는 릉모임이다. 이 방향그라프에서 마디점 와 마디점 사이의 릉길이를 라고 할 때 마디점 jv ijv iv iv 와 마디점 사이의 경로길이는 다음과 같이 정의할수 있다. jv d ij = ,0 ⎧ ⎪ , v i ≠ ⎨ ij ⎪ , i ≠∞ ⎩ i j = 와 사이  , vj v i j 사이 와 , vj v j i 릉이 에  릉이 에 때 있을 때 없을 령역조종모형에 기초한 무인운반체계조종의 한가지 방법 － 111 － 이때 nn × 행렬 { ijdD = } 를 경로길이들의 모임이라고 하면 그림 1에서 매 릉의 길이 는 알려져있으므로 여기로부터 초기경로길이행렬 을 가장 짧은 경로길이행렬이라고 하면 얻을수 있으며 마찬가지방법으로 1D 은 nD 도 얻을수 있다. 0D 을 얻을수 있다. 그리고 2D 는 0D 으로부터 얻을수 있고 n D = { n d ij } 1D 로부터 주행일정계획작성을 위한 알고리듬은 다음과 같다. ① 비직결경로자료기지를 생성하고 임의의 마디점들사이의 가장 짧은 경로길이행렬 { n d ij 을 얻는다. } n D = ② 위치마디점들을 식별하고 모든 무인운반차들을 부하가 없는 무효상태로 설정하여 무인운반체계를 초기화한다. ③ 새로운 과제가 발생하면 새로운 과제수행을 위한 마디점에 가장 빨리 도착하는 무인운반차를 탐색한다. 이때 무인운반차는 무효 혹은 작업상태에 있을수도 있다. 무인운반차의 소비시간은 다음과 같다. t =′ k d kl V ⎧ t ⎪ ⎨ ⎪ ⎩ + f d ′ kl , , 운반차가 동작중 때있을에 운반차가  무효상태에 때있을 여기서 는 마디점 에 도착하기 위하여 운반차 가 소비하는 시간이며 는 현재과 k l ft kt′ 제를 완성하기 위하여 필요한 시간, 는 무인운반차의 속도, 은 현재과제의 끝마디 kld kld ′ 는 운반차 의 현재위치와 마디점 사이의 점과 마디점 사이 가장 짧은 경로길이, 가장 짧은 경로길이이다. V k l l ④ 모든 운반차들의 소비시간들중에서 최소시간 t ′ min = ′ min{ t 1 , t ′ 2 , , L ′ Nt } 를 얻고 대 응하는 운반차에 과제를 할당한다. ⑤ 모든 운반차들의 현재위치와 상태를 갱신하고 새로운 과제를 대기한다. ⑥ 모든 과제들이 완성될 때까지 ③－⑤를 반복한다. ２．무인운반체계의 분산조종알고리듬 １）무인운반체계에서 충돌회피를 위한 알고리듬 제안된 새로운 령역조종모형은 분산조종모형으로서 매 령역은 류사한 구조와 협동조 종방식을 가진다. 번째 령역조종구역을 그림 2에 보여주었다. i 그림 2. i 번째 령역조종구역 － 112 － 종합대학학보 정보과학 주체110(2021)년 제67권 제2호 이 령역조종구역에서 무인운반차는 다음과 같은 경로로 움직일수 있다. 령역조종구역의 입력마디점 로부터 마디점 까지 움직이는 경로는 c iv 이고 입력마디점 로부터 다음번 령역조종구역까지 움직이는 경로는 iv v i e →→→→ a f v 혹은 j v i e →→→→ a f v (6) n vi →→→ b a c (5) 또한 마디점 로부터 다음번 령역조종구역까지 움직이는 경로는 nv f e →→→→ e →→→→ 혹은 jv d d c c c f (7) 이다. 이다. ① 경로 (5)에서 령역조종구역의 마디점 가 점유되여있다면 무인운반차는 마디점 c c 가 해방될 때까지 마디점 b (무인운반차완충기)에 들어가야 한다. e 점 가 해방될 때까지 마디점 에 들어가야 한다. 그리고 경로 (6)에서 령역조종구역의 마디점 가 점유되여있으면 무인운반차는 마디 e 또한 경로 (7)에서 령역조종구역의 마디점 가 점유되여있으면 무인운반차는 마디점 e (무인운반차완충기)에 들어가야 한다. 가 해방될 때까지 마디점 a d e ② 마디점 에 있는 운반차와 마디점 에 있는 운반차가 동시에 마디점 를 통과 a d e 할 때 마디점 에 있는 운반차는 마디점 에 먼저 들어간다. e 혹은 이 점유되여있을 때 무인운반차는 충돌을 회피하기 위하여 필 nv d ③ 마디점 jv 요한 경로가 해방될 때까지 마디점 에서 과제수행을 중단하며 충돌이 없는 경우 무인 운반차는 미리 결정된 경로를 따라 움직인다. e ２）무인운반체계에서 막힘회피를 위한 알고리듬 막힘은 무인운반차들이 오동작하거나 운반차들이 막힘이 발생한 경로를 따라 움직이 는 경우 발생할수 있다. 운반차가 고장나면 령역조종기는 경로로부터 고장난 운반차를 제거하고 현장조종기 에 정보를 보낸다. 현장조종기는 고장난 운반차를 대신하기 위하여 새로운 운반차를 배 치한다. 그러므로 운반차고장에 의하여 생긴 막힘에서 다른 운반차들은 해방될수 있으며 체 계는 정상적인 상태로 점차적으로 되돌아간다. 경로가 막히면 령역조종기들은 자기의 린 접령역조종기들에 다른 경로조건을 식별하기 위하여 정보를 보낸다. 그러면 린접령역조 종기들은 가장 장애가 되지 않는 경로를 선택하며 막힘상태에 있는 령역조종기들은 가장 가까운 운반차를 선택된 경로에 배치한다. 그러면 운반차들은 새로운 목표마디점에 도착 할수 있다. 그러므로 막힘경로에서 다른 무인운반차들은 해방될수 있으며 체계의 상태는 정상상태로 되돌아간다. ３．모의실험 및 결과분석 제안된 방법의 효과성을 분석하기 위하여 기대를 6대 배치하고 일감을 6개 처리하도 록 하였는데 이때 매 일감은 6개 처리흐름을 가진다. 매 일감들의 처리절차는 표 1과 같다. 령역조종모형에 기초한 무인운반체계조종의 한가지 방법 － 113 － 표 １．매 일감의 처리절차 기대 1 기대 2 기대 3 기대 4 기대 5 기대 6 일감 1 일감 2 일감 3 일감 4 일감 5 일감 6 2 5 4 2 5 4 3 1 5 1 2 1 1 2 1 3 1 6 4 6 2 4 6 2 5 3 6 5 3 5 6 4 3 6 4 3 5 4 4 3 매 기대들사이 가장 짧은 경로길이행렬은 다음과 같다. 20 3 ⎡ ⎢ 4 2 λ ⎢ ⎢ 5 4 λλ ⎢ 5 6 4 λλλ ⎢ ⎢ 5 3 4 λλλλ ⎢ 2 4 λλλλλ ⎢ ⎢ 3 4 λλλλλλ ⎢ ⎢ 2 5 λλλλλλλ ⎣ 3 4 λλλλλλλ ⎤ ⎥ 20 3 λλλλλλ ⎥ ⎥ 20 2 λλλλλ ⎥ 20 3 4 λλλλ ⎥ ⎥ 20 2 3 λλλ ⎥ 20 3 λλ ⎥ ⎥ 20 λ ⎥ 0 4 ⎥ ⎦ ( ijdD 2 3 3 4 5 6 5 4 2 3 4 5 = 3 3 4 3 3 4 ) 시간행렬은 다음과 같다. ( ijtT ) = 23454320 ⎤ ⎡ ⎥ ⎢ 32343204 ⎥ ⎢ ⎥ ⎢ 43232045 ⎥ ⎢ 54320456 ⎥ ⎢ ⎥ ⎢ 43202345 ⎥ ⎢ 32043234 ⎥ ⎢ ⎥ ⎢ 20454323 ⎥ ⎢ ⎥ ⎢ 04565432 ⎦ ⎣ 운반차들의 수는 3, 4, 5, 6으로 정하고 실험을 진행하였다. 매 실험들의 조종상태를 표 2－5에서 보여준다. 표 ２．운반차가 3대일 때의 조종상태 표 ３． 운반차가 4대일 때의 조종상태 시간파라메터 운반차 1 운반차 2 운반차 3 OT 140 140 140 eiT 97 70 89 fiT 41 70 51 ciT 2 0 0 시간파라메터 OT eiT fiT ciT 운반차 1 운반차 2 운반차 3 운반차 4 132 132 132 132 58 52 50 50 71 77 80 81 2 3 2 1 표들에서 보는바와 같이 운반차가 3대인 경우 전체 조종시간이 제일 최대이고 운반 차가 4대인 경우 전체 조종시간이 최소이며 효과성은 5개, 6개인 경우보다 더 높다. － 114 － 종합대학학보 정보과학 주체110(2021)년 제67권 제2호 표 ４. 운반차가 5대일 때의 조종상태 ciT OT 시간파라메터 fiT eiT 표 ５. 운반차가 6대일 때의 조종상태 ciT 시간파라메터 OT fiT eiT 운반차 1 운반차 2 운반차 3 운반차 4 운반차 5 130 130 130 130 130 32 28 35 40 42 96 100 92 90 85 2 2 3 0 3 운반차 1 운반차 2 운반차 3 운반차 4 운반차 5 운반차 6 130 130 130 130 130 130 23 23 27 26 22 26 104 102 100 103 106 101 3 5 3 1 2 3 새로운 령역조종모형에 기초하여 무인운반체계에서 운반차들의 조종을 최량화하기 위한 목적함수와 분산조종에 의하여 운반차들의 충돌을 방지하기 위한 방법을 제안하고 모의실험을 통하여 그 효과성을 검증하였다. 맺 는 말 참 고 문 헌 [1] Moranbin Jr et al.; IEEE International Conference on Systems, Man and Cybernetics, 56, 2006. [2] Shuhei Eda et al.; Journal of Advanced Mechanical Design, Systems, and Manufacturing, [3] Hui Liu et al.; IEEE 6th International Conference on Underwater System Technology: Theory [4] T. Petrovic et al.; IEEE TransactionS on Automation Science and Engineering, 7, 1, 151, 2010. [5] Kun Zheng et al.; Distributed Control of Multi-AGV System Based on Regional Control Model, 6, 5, 672, 2012. & Applications, 110, 2016. Springer, 433, 2013. 주체110(2021)년 2월 5일 원고접수 A Method of Automated Guided Vehicle System Control Based on Regional Control Model Cha Ryong Gun, Ji Chol We made scheduling of AGVS(automated Guided Vehicle System) based on new regional control model and proposed algorithms for collision avoidance and deadlock avoidance of AGVs and verified efficiency through simulation. Keywords: distributed control, shortest waiting time, automated guided vehicle