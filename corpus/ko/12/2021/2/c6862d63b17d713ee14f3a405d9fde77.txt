김일성종합대학학보 정보과학 주체110(2021)년 제67권  제2호 동화상에서 린접흐레임사이의 통계적특성에 기초한 섬광화상검출방법 서효선, 최진혁 동화상에서 흐레임(frame)사이 화상의 밝기가 크게 차이나는 현상은 동화상에서 번쩍 이는 섬광효과로서 이것은 전반적인 동화상의 질을 떨군다. 특히 각이한 조명조건밑에서 대상을 촬영할 때 이러한 현상은 심하게 나타난다. 동화상에서 섬광은 일부 흐레임들의 밝기가 전체적으로 혹은 부분적으로 크게 변하 는것에 의하여 생기며 이것은 동화상에서 번쩍이는 형태로 그 질을 손상시키는 결과를 초래한다. 동화상에서 이것을 제거하자면 먼저 동화상렬에서 섬광이 있는 흐레임을 정확히 검 출하여야 한다. 동화상렬에서 섬광은 화면전체에 있을수도 있고 부분적으로 있을수도 있으며 섬광의 세기가 클수도 있고 작을수도 있다. 그리고 섬광이 있는 흐레임이 1개 일수도 있고 련속 적으로 여러개 일수도 있다. 린접흐레임들에서 섬광화상을 검출하는 방법에는 농담기둥도표에 기초한 방법[1]과 분산모형과 색특징류사성에 기초한 방법[3], 학습모형에 기초한 방법[2]들이 있다. 그러나 이러한 방법들은 린접흐레임사이의 섬광세기가 뚜렷한 경우 정확성이 높지만 그렇지 못 한 경우에는 정확성이 높지 못한 결함을 가지고있다. 론문에서는 린접흐레임사이의 밝기차와 상관특성을 결합하여 동화상에서 섬광화상검 출의 정확성을 높이는 방법을 제안하였다. １．린접흐레임사이의 밝기차와 상관특성을 결합한 섬광화상검출 동화상렬에서 비정상화면 즉 섬광이 있는 흐레임(섬광화상)과 섬광이 없는 흐레임(정 상화상)사이에는 다음과 같은 특성이 있다. 첫째로, 섬광화상의 밝기값은 정상화상의 밝기값보다 크다.  둘째로, 린접한 정상화상사이에는 상관이 대단히 크지만 섬광화상과 정상화상사이 상관은 크지 않다. 놓이며 련속적으로 1－5개이다. 셋째로, 동화상렬에서 첫 흐레임은 반드시 정상화상이고 섬광화상은 정상화상사이에 각이한 형태의 섬광화상을 그림 1에 보여주었다. 그림 1에서 보여주는것처럼 동화상 에서 섬광화상의 형태와 세기는 각이하다. 촬영시에 각이한 조명세기에 의하여 산생되는 섬광화상에서 매개 화소값들의 변화는 각이하다. 따라서 색도나 밝기값을 리용하여 섬광 화상을 검출하면 정확성이 높지 못하다. 동화상렬에서 린접흐레임들사이에는 강한 상관성이 있다는 성질로부터 출발하여 다 음의 식들을 리용하여 린접흐레임들사이의 평균밝기차와 상관특성을 론의한다. － 66 － 종합대학학보 정보과학 주체110(2021)년 제67권 제2호 ㄱ) 원화상 ㄴ) 섬광화상 1 ㄷ) 섬광화상 2 ㄹ) 섬광화상 3 그림 1. 각이한 형태의 섬광화상 현재 흐레임을 이라고 할 때 린접흐레임사이평균밝기값차 은 nL nf L n = f n ),( j i − f n 1 − ),( j i (1) 1 N ∑ , ji ∑ i , j 와 같이 표시된다. 여기서 N은 화소의 개수, i ),( j 화소밝기값이다. 그리고 린접흐레임사이 상관관계는  )( f ),( j i fn − ( f f n ),( ji − f ) n 1 − n 1 − 는 n번째 흐레임의 i ,( j ) 위치에서의 ( fR , f n n 1 − ) = ∑ ji , n ⎛ ⎜ ⎜ ⎝ ∑ ji , ( f n ),( i j − 2 ) f n ( f n 1 − ),( j i − f n 1 − 2 ) ⎛ ⎞ ⎜ ⎟ ⎜ ⎟ ⎝ ⎠ ∑ ji , (2) ⎞ ⎟ ⎟ ⎠ 와 같이 표시된다. 여기서 nf 는 n번째 흐레임의 평균밝기값이다.  식 (1)과 (2)를 리용하여 비정상화상과 정상화상에 대하여 린접흐레임사이 평균밝기 값차와 상관특성을 론의한다. 린접흐레임사이 밝기차와 상관특성곡선을 그림 2에 보여주었다. 그림 2에서 보여주 는것처럼 정상화상인 경우 상관특성은 대부분 0.7～1.0사이의 값을 가지며 비정상인 경우 는 0.7보다 작은 값을 가지는것이 대부분이다. 린접흐레임사이 밝기값차는 정상화상인 경우 대부분 0～1사이의 값을 가지며 비정상 화상인 경우에는 10이상의 값을 가진다. 결국 섬광화상을 식별하는 규칙은 다음과 같다. ⎧ ⎨ ⎩ L n L n > ,0.5 R 5,.0 섬광화상 > ,0.20 > ,0 섬광화상 > R 일부 비정상화상들은 린접흐레임사이 상관특성이 크지만 밝기값차는 크게 차이나며 밝기값차가 작지만 장면변화와 같이 상관특성이 크다. 그러므로 린접흐레임사이 밝기값 차와 상관특성을 결합하면 동화상렬에서 비정상화상을 보다 정확히 검출할수 있다. 동화상에서 린접흐레임사이의 통계적특성에 기초한 섬광화상검출방법 － 67 － 1 9 17 25 33 41 49 57 65 73 81 89 97 1 13 25 37 49 61 73 85 97 109121 133 145 번호 ㄱ) 비정상화상인 경우 상관특성 척도 ㄴ) 정상화상인 경우 상관특성 번호 척도 1.5 1 0.5 0 －0.5 －1 －1.5 척도 6 5 4 3 2 1 0 1 13 25 37 49 61 73 85 97 109121 133 145 번호 ㄷ) 비정상화상인 경우 밝기값차 1 9 17 25 33 41 49 57 65 73 81 89 97 번호 ㄹ) 정상화상인 경우 밝기값차 그림 2. 린접흐레임사이 밝기차와 상관특성곡선 ２．실험 및 결과분석 실험은 100개의 정상화상과 150개의 비정상화상을 가지고 진행하였다. 그림 2의 ㄱ) 에서 0.7보다 큰 값을 가지는것은 섬광세기가 약한 경우이다. 이 경우 상관특성은 정상화 상과 류사하지만 밝기값차는 크다. 그림 2의 ㄴ)에서 부의 상관을 가지는것은 정상화상 이지만 린접흐레임이 다른 장면인 경우이다. 이 경우 상관특성이 부의 상관을 가지거나 밝기값차가 상대적으로 크다. 그림 2의 ㄷ)에서 밝기값차가 5.0보다 작은것은 섬광의 세 기가 약한 경우이다. 린접흐레임사이 밝기값차의 턱값은 5.0으로, 상관특성턱값은 0.7로 설정한다. 동화상 렬에서 섬광화상검출의 정확성은 적중률과 완전률을 리용하여 평가하였다. 완전률 = 정확히 검출된 섬광화상개수 검출된 섬광화상개수 적중률 = 정확히   총 검출된 섬광화상개수 섬광화상 개수 × 100 (3) × 100 (4) 섬광화상검출의 정확성을 비교하였다.(표) 방법 선행방법[1] 선행방법[3] 제안한 방법 표．섬광화상검출의 정확성비교 적중률/% 완전률/% 86.1 89.5 95.8 75.3 72.7 100 척도 1.2 1 0.8 0.6 0.4 0.2 0 90 80 70 60 50 40 30 20 10 0 － 68 － 종합대학학보 정보과학 주체110(2021)년 제67권 제2호 표에서 보여준것처럼 선행방법으로 섬광화상을 검출하는 경우 정확성이 75%정도, 밝기와 분산을 리용하여 검출한 경우 정확성은 80%정도이다. 그러나 론문에서 제안한 방법으로 섬광화상을 검출하는 경우 완전률은 100%이고 적중률은 95%정도이다. 선행방법에 비하여 제안한 방법으로 섬광화상을 검출하는 경우 그 정확성이 높다는 것을 실험을 통하여 확증하였다. 린접흐레임사이 밝기값차와 상관특성을 결합하여 동화상렬에서 섬광화상검출의 정확 성을 훨씬 높였다. 맺 는 말 참 고 문 헌 [1] B. Li, W. Xiong et al.; IEEE Transactions on Image Processing, 23, 3, 1194, 2014.  [2] H. R. V. Joze et al.; IEEE Transactions on Pattern Analysis and Machine Intelligence, 36, 5, 860, 2014. [3] Aaron Netz; IEEE Transactions on Pattern Analysis and Machine Intelligence, 35, 3, 639, 2013. 주체110(2021)년 2월 5일 원고접수 Flash Image Detection Based on Statistical Characteristics between Adjacent Frames in Video So Hyo Son, Choe Jin Hyok In this paper, we proposed a method to improve accuracy of detecting of flash image by combining the brightness difference and the correlation characteristics between adjacent frames, on the basis of discussion upon flash image characteristics in video, and proved the accuracy through experiment. Keywords: flash image, correlation characteristics, brightness difference