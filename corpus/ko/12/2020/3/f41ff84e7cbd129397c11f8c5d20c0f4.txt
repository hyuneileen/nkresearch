김일성종합대학학보 정보과학 주체109(2020)년 제66권  제3호 무선수감부망에서 파케트반복회송을 리용한 거리측정의 한가지 방법 김 광 거리측정은 무선수감부망(WSN: Wireless Sensor Networks)에서 중요한 문제중의 하나이 다. 거리측정의 기본원리는 레이다체계원리를 계승한것이지만 자원이 제한된 WSN에서는 필요한 정확도와 장치복잡도를 조화롭게 설계하여야 하는 특수성이 있다. 즉 자원요구와 측정정확도는 절충으로 해결하여야 한다.[1] 일반적으로 거리측정기술에서는 무선주파수, 음향신호, 적외선, GPS 등을 리용한 다.[2] 거리측정에 리용되는 물리적인 량으로는 신호의 왕복시간과 신호전력세기가 속한 다. 측정기술은 이 량들의 각이한 측정원리에 따라 분류할수 있는데 여기에는 도착시간 (TOA), 도착시간차(TDOA), 왕복경과시간(RTOF), 무선신호세기(RSS)가 있다.[2] 신호의 전파속도는 측정환경에 따라 거의 변하지 않기때문에 거리측정문제는 전파시 간측정문제로 된다. WSN에서 신호의 송신시간과 도착시간은 보통 MAC층의 시간도장 (time stamp)을 리용하여 결정한다. 그러나 MAC층의 시간도장을 리용하면 파케트길이가 길어지기때문에 정확도가 낮아지는 결함이 있다. 론문에서는 장치의 복잡도가 낮으면서 정확도가 높은 파케트반복회송을 리용하는 거 리측정방법을 제안하였다. １．파케트반복회송을 리용한 거리측정 파케트반복회송을 리용한 파케트송수신물림 새를 그림 1에 보여주었다. 그림 1에서 두 마디는 동등한 자격을 가지고 있으며 마디 A와 B는 꼭같은 파케트를 엇바꾸어 송수신한다. 일반적으로 WSN에서 리용되는  시간동기화알 고리듬의 정확도는 sμ 정확도를 가져야 한다. 보낸 신호가 되돌아오는데 걸린 시간에는 왕 복전파시간과 상대말단에서의 처리시간이 속하며 다음과 같이 쓸수 있다. 그림 1. 파케트송수신물림새 T = 대기 전파 여기서 전파T 는 신호의 전파시간, 응답AT , 응답BT 는 보낸 신호가 되돌아오는데 걸린 시간이다. T B T A 대기 = T 전파 + T B 응답 + (1) T 전파 T 전파 A + 응답 T + 은 매 마디에서의 처리시간, 대기AT (2) , 대기BT 이 시간측정량들중에서 응답AT , 응답BT 과 대기AT , 대기BT 는 자체국부발진기로 측정할수 있지만 측정량은 발진기의 편차 ( ATδ , ) (BTδ 만큼 편기된다. ) － 78 － 종합대학학보 정보과학 주체109(2020)년 제66권 제3호 론문에서는 이 편차를 제거하기 위하여 두 마디가 동등한 자격으로 송신하고 회송을 기다리는 방법을 제기한다. 즉 식 (1)과 (2)를 합하고 전파시간을 구하면 다음과 같다. T 전파 = T ( A 대기 + T B 대기 − T A 응답 − T B 응답 ) (3) 1 4 식 (3)은 차동처리로 두 마디의 측정오차를 제거하고 반복회수를 늘여 우연오차를 평활시키면 효과를 얻을수 있다는것을 보여준다. 식 (3)에서 전파T 는 매개 마디가 한번의 송수신과정에 경과한 시간이며 매 마디가 N 번의 측정과 차동처리 및 평활을 거친 후 거리측정값은 다음과 같다. 여기서 C 는 전자기파의 전파속도로서 ⋅=C 103 m/s 이고 N 은 파케트회송회수이다. Cd = 전파                          (4) T i 1 N N ∑ i 1 = 8 ２．측정실험과 결과분석 실험은 무선마디들사이의 거리를 3～30m사이에서 반복변화시키면서 시간을 측정하 는 방법으로 진행하였다. 그림 2에 측정거리와 시간사이의 관계(ㄱ))와 전송이 실패된 파 케트수(ㄴ))를 보여주었다. 그림 2. 측정거리와 측정시간사이 관계(ㄱ))와 전송이 실패된 파케트수(ㄴ)) 그림 2에서 보는바와 같이 여러가지 요인으로 하여 파케트를 회송받지 못하는 실패 현상이 나타났다. 그림 3에 측정회수와 측정거리사이 관계를 보여주었다. 그림 3. 측정회수와 측정거리사이 관계 무선수감부망에서 파케트반복회송을 리용한 거리측정의 한가지 방법 － 79 － 그림 3에서 시간은 규준화한 값이며 5m이하 근방에서 비선형특성이 나타났다. 이것 은 우연오차값이 크기때문에 평활시간을 늘여야 하는 요구를 무시하였기때문이다. 측정 회수를 늘이지 못하는것은 마디들이 동적인 상태에 있고 일정한 이동시간내에 측정을 끝 내야 하는 조건과 관련된다. CC2530마디외에 외부장치를 요구하지 않는 간단한 측정체계를 구성하고 파케트반복 회송방법으로 이동속도가 1m/s인 무선마디들사이의 3～30m거리를 1m± 오차로 측정하는 방법을 제안하였다. 5m이상의 거리차만 측정하는 체계인것으로 하여 1～5m에서 나타난 비선형성은 거리측정에 영향을 미치지 않는다. 맺 는 말 참 고 문 헌 [1] Yinfei Diao; Proceedings of the 8th World Congress on Intelligent Control and Automation, 6, 2010. [2] F. L. Lewis; Wireless Sensor Networks, Jhon Wiley & Sons, 26～40, 2004. 주체109(2020)년 5월 5일 원고접수 A Method of Range Detection Using Packet Round Trip for Wireless Sensor Network Kim Kwang We devised a high accuracy method of range detection using packet round trip for Wireless Sensor Network without any attendant device and proved its efficiency through the experiments. Keywords: WSN, Zigbee, range detection