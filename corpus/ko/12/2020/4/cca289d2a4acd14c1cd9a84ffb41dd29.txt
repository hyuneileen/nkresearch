김일성종합대학학보 정보과학 주체109(2020)년 제66권  제4호 LVDS화상자료수집체계에서 SDRAM자료저장기의 합리적인 기억기조종파라메터설정에 대한 연구 김 운 봉 지난 시기 동적기억기는 고속자료수집체계나 화상처리체계 그리고 콤퓨터체계 등 많 은 분야에서 리용되였다. 이때 어느 경우를 막론하고 SDRAM을 리용하는 경우에는 반드 시 SDRAM과의 자료전송을 위하여 조종기가 필요된다. 이러한 조종기가 요구되는 체계 의 특성을 원만히 보장하자면 특성파라메터들을 잘 선정해야 한다. 선행연구[1, 2]들에서 는 2개의 FSM을 리용하여 순차조종방식으로 SDRAM조종기를 설계하였다. 론문에서는 화상자료저장기에 대한 해석적고찰을 통하여 합리적인 화상자료저장기의 조종파라메터결정에 대한 문제를 설정하고 해결하였다. LVDS대면부를 가진 카메라로부터 화상자료를 수신하여 저장하려면 기억기를 구성하 여야 한다. 이때 기억기구성은 정적기억기를 리용할수 있지만 기억용량이 작은것으로 하 여 합당하지 못하다. 이로부터 론문에서는 화상자료저장기로서 동기식동적기억기를 리용 하였다. 동기식동적기억기를 리용하는 경우 SDRAM의 박자주파수선택문제, SDRAM의 기억 재생문제, SDRAM에 대한 한번의 읽기쓰기박자개수선정문제(읽기/쓰기주기설정문제)들이 해결되여야 한다. 우선 박자주파수를 합리적으로 결정하여야 한다. 그래야 고속자료의 쓰기와 읽기문 제를 원만히 해결할수 있다. 이를 위하여 SDRAM에 쓰기되는 입구자료전송속도와 SDRAM박자주파수사이 관계를 분석한다. LVDS대면부를 가진 카메라로부터의 자료전송속도는 80MB/s=640Mbps이며 1개 흐레 임의 크기는 1 024×1 024pixel이다. 매 화소는 8bit의 R, G, B로 구성된다. 카메라자료전송시간선도는 그림과 같다. 그림. 카메라자료전송시간선도 LVDS대면부를 가진 카메라에서의 자료전송은 RXCLK박자에 동기되여 진행된다. 즉 － 84 － 종합대학학보 정보과학 주체109(2020)년 제66권 제4호 RXCLK박자에 동기되여 수평동기신호 HSYNC, 수직동기신호 VSYNC, 자료유효신호 DVAL이 출력되여 화상자료 DATA가 출력된다. 이때 DAA의 모선폭은 24bit이다. 이로부터 1개의 흐레임자료를 전송하는데 걸리는 시간은 1 024개 화소로 구성된 1개 행주사시간구간, 행귀선소거구간, 1 024개의 행주사시간, 렬귀선소거시간으로 구성된다.                          (1) T T T + T fr frT 는 1개의 흐레임자료를 전송하는데 걸리는 시간, rbT 는 행귀선소거구간, T ( × + = co cb rb ro ) coT 는 1 024개의 행주사시간, roT 는 1 024개 화소로 구성된 cbT 는 렬귀선 여기서 1개의 행주사시간구간, 소거시간이다. LVDS대면부의 카메라자료속도는 기준박자주파수 RXCLK에 관계되는데 RXCLK박자 주파수 RCKf 는 27MHz이다. 이로부터 1개 박자주기는 0.037 5μs이다. 행귀선소거주기 rbT 는 8μs(125kHz)이므로 1개 행주사시간은 다음과 같이 결정된다. T = ro 한편 SDRAM의 박자주파수를 024 CKf 라고 할 때 행귀선소거기간에 1개 행의 1 024개 화소자료를 SDRAM에 저장하기 위해서는 SDRAM의 박자주기가 다음의 조건을 만족시 켜야 한다. =37.925μs                         (2) RCK 1 / f 024 이로부터 SDRAM의 동작주파수는 다음의 조건을 만족하도록 선택하여야 한다. (3) CK T T < 1 rb ⋅ f CK > 128MHz (4) 따라서 식 (4)를 만족하는 SDRAM의 동작주파수를 133MHz로 선택하였다. 그리고 동 작급수가 75이면서 133MHz의 동작속도를 보장할수 있는 32M단어크기의 기억용량을 가 지는 MT계렬 SDRAM을 선택하였다. 다음으로 SDRAM은 SRAM과 달리 일정한 주기로 기억재생을 진행하여야 한다. 그 러므로 요구되는 자료읽기 및 쓰기속도를 보장하면서 기억재생을 진행할수 있는 합리적 인 기억재생회수를 결정하여야 한다. SDRAM의 기억세포들에 대한 읽기 및 쓰기는 기억재생특성을 만족하면서 한주기의 읽기/쓰기주기를 단위로 하여 진행된다. 따라서 한주기의 읽기/쓰기주기를 단위로 하는 기억재생회수 기재n 를 결정하는 문제 가 해결되여야 한다. 그래야 SDRAM의 읽기 및 쓰기를 진행하면서 기재n 때마다 기억재생 을 진행하여 주어진 SDRAM의 기억재생특성을 만족하게 된다. SDRAM은 기재T 내에 행n 개의 기억세포행을 한번 기억재생해야 하므로 1개 행기억재 생시간 한기재T 는 다음과 같다. T 기재 n 행 한편 SDRAM의 한번 읽기 및 쓰기는 읽쓰n 개의 박자만에 완료되므로 한번 읽기/쓰기 (5) T 한기재 = 시간 읽쓰T 는 SDRAM의 동작주기가 CKT 일 때 다음과 같이 된다. T = CK 이로부터 기억재생회수를 기재n 라고 하면 SDRAM의 실제기억재생시간 실기재T (6) T 읽쓰 n 읽쓰 ⋅ 는 다 음과 같다. T 실기재 = n 기재 ⋅ T 읽쓰 ⋅ n 행 (7) LVDS화상자료수집체계에서 SDRAM자료저장기의 합리적인 기억기조종… － 85 － 다른 한편 SDRAM에 대한 기억재생특성을 만족하자면 다음의 관계를 만족해야 한다. 이로부터 식 (5), (7), (8)을 고려하면 기억재생회수 기재n 는 SDRAM의 1개 행기억재생 와 한번의 읽기 및 쓰기주기 읽쓰T 가 주어질 때 다음과 같이 결정된다. 주기 한기재T T 실기재 T ≤ 기재 (8) n 기재 = ⎡ ⎢ ⎢ ⎣ T 한기재 T 읽쓰 ⎤ ⎥ ⎥ ⎦ (9) 여기서 [x]는 x의 최소옹근수값이다. 는 64ms이다. MT계렬 SDRAM은 8 192개의 행을 단위로 기억재생을 진행하며 이때 기억재생주기 따라서 1개 행의 기억재생주기 한기재T 는 식 (5)로부터 7.813 sμ 이다. 그리고 SDRAM 의 동작주파수는 133MHz로 결정하였으므로 주기는 7.518ns이다. 그리고 SDRAM의 한번의 읽기쓰기박자개수는 무리읽기쓰기자료의 크기가 각각 128, 256, 512B인 경우 읽쓰n 는 135, 263, 519이므로 읽쓰T 는 식 (6)으로부터 1.014, 1.977, 3.901 sμ 이다. 이로부터 식 (9)에 의하여 기억재생회수 기재n 는 7, 3, 2로 결정된다. 한편 1개 흐레임의 화상자료중에서 1개 행 즉 1 024개의 화상자료쓰기나 읽기가 련 속적으로 진행되여야 하므로 1개 행의 화상자료의 쓰기나 읽기도중에 기억재생으로 하여 끊기지 말아야 한다. 그런데 읽쓰n 는 135, 263인 경우 한번의 자료읽기쓰기개수는 128, 256이므로 기재n 가 7, 3일 때 련속읽기쓰기바이트수는 로서 1개 행의 화소수 1 024가 되지 않는다. 128×7 = 896, 256×3=768 따라서 이 경우 1개 행의 화상자료읽기나 쓰기가 기억재생으로 하여 읽기 및 쓰기가 도중에 중단되여 화상자료손실을 가져오게 된다. 그러나 읽쓰n 가 519인 경우에는 기재n 가 2이므로 련속읽기쓰기바이트수가 로 되여 1개 행의 화소수와 같게 된다. 512 =× 12 024 따라서 기재n 는 7, 3, 2중 2를 선택한다. 이때 SDRAM의 실제기억재생주기는 63.913ms로서 기억재생특성을 만족한다. 이로부 터 한번의 자료읽기쓰기개수는 512B이고 두번의 읽기 또는 쓰기때마다 기억재생을 진행 하도록 기억재생모듈을 설계해야 한다. 맺 는 말 LVDS화상자료수집체계에서 화상저장기로 리용되는 동기식동적기억기의 조종기를 설 계하는데서 제기되는 기억기조종파라메터설정문제를 해석적으로 고찰하고 합리적인 파라 메터를 설정하였다. － 86 － 종합대학학보 정보과학 주체109(2020)년 제66권 제4호 참 고 문 헌 [1] Lu Si; IEEE Transactions on Information Theory, 4, 3284, 2015. [2] Dechun Zheng; IEEE Journal of Solid State Circuites, 3, 4925, 2011. 주체109(2020)년 8월 5일 원고접수 Research on the Setting of the Reasonable Memory Control Parameters of SDRAM Data Storage in LVDS Image Data Collection System Kim Un Bong In this paper has analytically been considered the problem of setting the memory control parameters in order to design SDRAM controller used as the image storage in the LVDS image data collection system and decided reasonable parameters. Keywords: LVDS, SDRAM