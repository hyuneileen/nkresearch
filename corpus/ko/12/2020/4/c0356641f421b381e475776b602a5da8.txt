김일성종합대학학보 정보과학 주체109(2020)년 제66권  제4호 액체원료계량정확도를 높이기 위한 공급뽐프전동기예측차단조종 김유철, 강덕길 액체원료의 계량공급에서는 일반적으로 류량계가 많이 쓰이는데 계량하려는 원료량 이 많을수록 계량오차가 커지고 류속에 의존하는 등 적지 않은 부족점들을 가지고있 다.[1, 2] 이로부터 론문에서는 계량통에 공급된 원료를 직접 계량하고 원료공급차단을 예측조 종하여 계량정확도를 높이는 방법을 제안하였다. １．원료정량공급장치의 구성과 동작원리 우리는 질량수감부와 콤퓨터조종부, 전자변이 달려있는 계량통, 원료공급관과 그에 설치되여있는 3개의 원료공급이송뽐프 등으로 이루어진 화장품배합원료정량공급체계구성 방식을 제안하고 실현하였다. 제안된 액체원료계량 및 공급체계의 구성도는 그림 1과 같다. 계량통 전자변 1 뽐프 2 … n 원료 저장통 1 원료 저장통 2 원료 저장통 3 예비배합가마 그림 1. 액체원료계량 및 공급체계의 구성도 한소편처리부 액체원료는 원료저장용기에서 이송뽐프에 의하여 계량통에로 들어온다.  이송뽐프전동기의 조종은 ON/OFF방식으로 한다. 전자저울의 우에 설치된 계량통에 들어온 액체량은 실시간적으로 측정단에서 계량되여 수값으로 현시된다. 공급량설정값에 도달하면 이송뽐프를 끄고 계량통밑에 설치된 전자변을 열어 액체원료가 배출되게 한다. 이때 이송뽐프전동기를 차단해도 이송뽐프의 관성에 의하여 일정한 시간동안은 액체원료 가 계속 계량통에 들어가게 된다. 이로부터 이 량까지 포함하여 정확한 공급량설정값 에 도달하도록 이송뽐프전동기를 차단조종(OFF)하는 문제가 제기된다. 다시말하여 이 송뽐프에 의한 액체원료이송의 관성을 고려한 전동기조종변의 예측조종이 진행되여야 한다. － 46 － 종합대학학보 정보과학 주체109(2020)년 제66권 제4호 ２．계량정확도를 높이기 위한 액체원료공급예측차단조종 계량통에서 1회계량의 마감부분에서 이송뽐프에 의한 액체원료이송의 차단과정을 다 음과 같은 1차관성분조에서의 차단과정으로 근사시켰다. sG )( = K sT m m                             (1) + 1 이때 전동기조종변이 차단된 시점 ft 까지의 류량속도와 질량의 변화과정을 그라프적으로 보면 다음과 같다.(그림 2) ct 로부터 액체원료흐름이 완전히 멎는 ( > t c 3 ⋅+ T m ) g k / 량 질 400 350 300 250 200 150 100 50 0 1.2 0.8 0.4 0 1 2 3 4 5 6 7 8 1 2 3 5 6 7 4 시간/s 8 그림 2. 이송뽐프전동기조종변이 차단되였을 때 류량속도와 질량의 변화곡선 이 과정을 수학적으로 다음과 같이 볼수 있다. 이송뽐프에 의한 액체원료이송에서 이송관의 단면적을 2 )m( S , 이송속도를 )s/m(V , 액체원료의 밀도를 ρ 3 )m/kg( 액체원료의 질량 다고 볼수 있다. )kg(rQ 라고 하면 ct 이후의 는 1차관성분조의 특성으로부터 다음과 같은 적분식으로 표시된 시간동안 흐르는 차단된 시점 t ( ) t , c f 웃식은 다음과 같이 쓸수 있다. )( tQ r = ρ SV e ⋅ d τ , t c t << t f − ) c t ( τ − T m t ∫ t c )( tQ r = ⎧ ⎪ T ⎪ m ⎨ ⎪ ⎪ ⎩ ⋅ ρ SV ⋅ 1 − e t << t f c ⎛ ⎜ ⎜ ⎜ ⎝ ( t − t c ) − T m ⎞ ⎟  , t ⎟ ⎟ ⎠ T m ⋅ ρ SV , t > t f (2) 여기서 이다. 액체원료계량정확도를 높이기 위한 공급뽐프전동기예측차단조종  t − ( ) t － 47 － c f T m − e ≈ 0 우의 관계식을 그라프로 그리면 그림 3과 같다. g k / 량 질 345 340 335 330 325 320 315 310 305 2.5 3 3.5 4.5 5 5.5 4 시간/s 그림 3. 이송뽐프전동기조종변이 차단된 이후 흐르는 질량변화 식 (2)로부터 계량통에 질량 Q 의 액체원료를 담으려면 질량수감부로부터 QQQQ − r , = c r ρ ⋅= T m ⋅ VS ⋅ (3) 일 때 전동기조종변을 차단하면 된다. 여기서 Q 는 계량통에 담으려는 액체원료의 질량 (설정값 또는 공급량), cQ 는 질량 Q 에 대응하는 차단값이다. rQ 는 보정량, 식 (3)으로부터 알수 있는바와 같이 계량통에 질량 Q 의 액체원료를 정확히 담는 문 rQ 를 정확히 추정하는 문제는 이송뽐프에 의한 액체원료이송에서 이송관 제 다시말하여 의 단면적을 S , 이송속도 V , 액체원료의 밀도 ρ가 알려져있는 조건에서 시정수 mT 을 정확히 추정하는 문제로 된다. 식 (3)의 전달함수에서 밀도 ρ와 함께 시정수 mT 도 액체원료의 종류에 따라 다른 값을 가진다. 서로 다른 시정수들에 대하여 이송뽐프전동기조종변이 차단되였을 때의 류량속도의 변화곡선과 실지측정값곡선과의 관계를 그림 4, 5에 보여주었다. 0.5 0.4 0.3 0.2 0.1 4 시간/s 3.2 3.4 3.6 3.8 4.0 4.2 1 2 3 5 6 7 8 그림 4. 서로 다른 시정수들에 대한 류량속도차단곡선 ) 1 - s · m d ( / 도 속 1.2 1.0 0.8 0.6 0.4 0.2 0 － 48 － 종합대학학보 정보과학 주체109(2020)년 제66권 제4호 g k / 량 질 400 350 300 250 200 150 100 50 0 350 340 330 320 310 300 3 355 345 335 4 325 315 305 1 2 3.5 5 4 6 4.5 7 5 8 5.5 6 3 3.5 4 4.5 5 5.5 6 시간/s 그림 5. 서로 다른 시정수들에 대한 계산값과 측정값들과의 비교 전동기가 차단된 시점에서부터 실지 측정되는 질량곡선을 ( tQ ms ), t c t << t f 라고 할 때 식 (2)의 ( tQ r ), t c t << t f 에 대하여 다음의 2제곱평가기준식 t f ∫ t c t f ∫ t c ⎡ ⎢ T ⎢ m ⎢ ⎣ J = ( tQtQ ( − )( )) ms r 2 ⋅ dt = = ⋅ ρ SV ⋅ 1 − e − )( tQ ms ⋅ dt ⎛ ⎜ ⎜ ⎜ ⎝ ( t − t c ) − T m ⎞ ⎟ ⎟ ⎟ ⎠ 2 ⎤ ⎥ ⎥ ⎥ ⎦ 즉 구체적으로는 N ⎤ ⎥ ⎥ ⎥ ⎦ 가 최소가 되게 하는 시정수 mT 을 탐색법으로 구한다. ⎡ ⎢ T m ⎢ ⎢ ⎣ = ∑ ( tQ ms ⎞ ⎟ ⎟ ⎟ ⎠ ⎛ ⎜ ⎜ ⎜ ⎝ j T m SV ρ − − 1 = 1 J e − ) − ⋅ ⋅ ( ) j t t j c 2 ⋅ , tdt = t c , t N = t f 0 우리는 측정값들로부터 탐색법으로 추정된 시정수 mT 에 기초하여 이송관의 단면적 S , 이송속도 V , 액체원료의 밀도 ρ로부터 원료공급뽐프전동기위측차단조종을 위한 보 정량 Q r ⋅= ρ T m ⋅ VS ⋅ 를 계산하고 식 (3)에 대입하여 구해지는 변의 예측차단조종을 하였다. cQ 를 리용하여 식 (1)에서 언급된 전동기조종 이렇게 액체정량공급에서 측정정확도를 높이기 위하여 두가지 설정 즉 공급량과 우 와 같이 구한 보정량을 설정하고 여기에 기초하여 계량을 진행하였다. 보정량은 충분한 실험을 통하여 추정된 시정수 mT 을 리용하여 결정하였다. 액체원료계량정확도를 높이기 위한 공급뽐프전동기예측차단조종 － 49 － ３．정량공급결과분석 그림 6에 정량공급알고리듬을 보여주었다. 시 작 원료공급차단값 QQQ r = − c 설정, 배출변조종으로 계량통무게를 령으로 초기화 원료공급뽐프시동 무게수감부에 의한 원료의 실시간계량 )(tQms 아니 ≥)( QtQ c ms 예 원료공급뽐프예측차단, 배출변열기 끝 그림 6. 정량공급알고리듬 우리는 화장품배합물 500kg을 생산할 때 리용되는 주요원료(물 175kg, 글리세롤 25kg, 프로필렌글리콜 50kg)에 대하여 10회 반복측정을 진행하고 그것에 대한 오차분석 을 하였다. 정량공급측정결과를 표 1－3에 보여주었다. 번호 설정값/kg 측정값/kg 오차/kg 번호 설정값/kg 측정값/kg 표 １．물의 정량공급결과 175.00 175.00 175.00 175.00 175.00 175.79 175.81 174.18 175 .85 174.24 0.79 0.81 -0.82 0.85 -0.76 상대오차/% 6 7 8 9 10 175.00 175.00 175.00 175.00 175.00 174.17 174.23 175.76 175.81 175.78 오차/kg -0.83 -0.77 0.76 0.81 0.78 0.50 1 2 3 4 5 － 50 － 종합대학학보 정보과학 주체109(2020)년 제66권 제4호 번호 설정값/kg 측정값/kg 번호 설정값/kg 측정값/kg 오차/kg 표 ２．글리세롤의 정량공급결과 25.00 25.00 25.00 25.00 25.00 24.87 25.11 25.11 24.88 25.10 오차/kg -0.13 0.11 0.11 -0.12 0.10 상대오차/% 6 7 8 9 10 25.00 25.00 25.00 25.00 25.00 25.11 25.12 25.12 24.90 24.87 번호 설정값/kg 측정값/kg 오차/kg 번호 설정값/kg 측정값/kg 오차/kg 표 ３．프로필렌글리콜의 정량공급결과 50.23 50.24 49.78 50.22 50.23 0.23 0.24 -0.22 0.22 0.23 상대오차/% 6 7 8 9 10 50.00 50.00 50.00 50.00 50.00 50.21 50.23 49.77 49.78 50.23 0.11 0.12 0.12 -0.10 -0.13 0.48 0.21 0.23 -0.23 -0.22 0.23 0.48 종전의 류량계방식으로 진행한 물에 대한 측정결과는 다음과 같다.(표 4) 번호 설정값/kg 계량값/kg 표 ４．류량계방식에 의한 물의 정량공급결과 172.05 178.53 178.64 175.60 171.47 오차/kg -2.95 3.53 3.64 0.60 -3.53 상대오차/% 번호 설정값/kg 계량값/kg 오차/kg -2.13 -1.18 2.56 -3.88 -3.65 1.58 172.87 173.82 177.56 171.12 171.35 175 175 175 175 175 6 7 8 9 10 표 4에서 보는바와 같이 각이한 원료들에 대하여 오차는 0.5%이하로서 종전의 류량 계방식(상대오차 1.6%정도)에 비하여 측정정확도가 높아졌다. 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 50.00 50.00 50.00 50.00 50.00 175 175 175 175 175 제안된 계량통에 질량수감부를 달아 직접 질량을 수감하면서 공급뽐프전동기를 예측 조종하는 방법으로 계량하면 류량계를 리용할 때보다 계량오차를 훨씬 줄이면서도 설비 현대화에 드는 원가를 대폭 줄일수 있었다. 맺 는 말 참 고 문 헌 [1] Tim Wilmshurst; Designing Embedded System with PIC Micro Controllers, Newnes, 402～650, 2010. [2] David S. Nyce; Position Sensors, Wiley, 177～198, 2016. 주체109(2020)년 8월 5일 원고접수 액체원료계량정확도를 높이기 위한 공급뽐프전동기예측차단조종   Preestimate Cutoff Control of Supply Pump Motor for Advance of Liquid Material Measurement Accuracy － 51 － Kim Yu Chol, Kang Tok Gil In this paper we suggest a method to improve the accuracy in supplying with materials of liquid state and verify it with experiment. Keywords: liquid material measurement, cutoff control