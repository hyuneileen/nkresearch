김일성종합대학학보 정보과학 주체109(2020)년 제66권  제2호 모호상관을 리용한 고속립체정합의 한가지 방법 방금현, 오영근, 김경석 경애하는 최고령도자 동지께서는 다음과 같이 말씀하시였다. 《첨단과학기술분야에서 세계적경쟁력을 가진 기술들을 개발하기 위한 투쟁을 힘있게 벌려야 합니다.》 출에서 효과적으로 쓰인다. 립체정합[1, 2]은 콤퓨터시각에서 광범히 연구되고있는 분야로서 대상의 깊이정보추 립체정합알고리듬[2]은 크게 두가지 즉 국부적방법과 대역적방법으로 나눈다.  창문에 기초한 방법 혹은 령역에 기초한 방법으로 불리우는 국부적방법[3, 4, 7]들은 대응하는 정합에 대하여 4각형창문내에서 화소들의 세기 혹은 색값들만을 고려하며 비용 통합은 일반적으로 불변시차를 가진 창문들에서의 정합비용들을 합하여 실현한다. 그러나 대역적방법[5, 6]들은 비용통합단계를 배제하며 전체 화상을 고려하여 대역적 비용함수의 최소화의 기초우에서 시차를 얻는데 이러한 알고리듬들은 정확하고 정밀한 시차결과를 얻는 대신 매우 높은 계산비용을 요구한다. 즉 극히 많은 시간이 시차계산에 필요되게 된다. 론문에서는 립체정합에서 요구되는 계산시간을 줄이기 위해 모호상관측정을 리용하 는 창문에 기초한 효과적인 립체정합알고리듬을 제안하고 실험을 통하여 그 효과성을 검 증하였다. １．제안한 립체정합체계구조 왼쪽화상 오른쪽화상 그림 1에 제안한 립체정합체계의 흐름도 를 보여주었다. 제안체계는 흐름도에서 알수 있는바와 같 이 6개 단계 즉 립체화상쌍의 입력, RGB-흑색 전환, 초기시차도, 왼쪽, 오른쪽일치성검사, 시 차정련, 최종시차도로 구성되여있다. 리용되는 립체화상들은 RGB색화상이며 흑색화상에 비해볼 때 3배의 계산시간 및 기 억공간을 요구하므로 먼저 색화상들을 흑색 화상으로 변환하여 처리시간을 단축한다. ２．제안한 립체정합알고리듬 RGB-흑색전환 RGB-흑색전환 왼쪽시차도 오른쪽시차도 왼쪽, 오른쪽일치성검사 시차정련 최종시차도 끝 ① 창문비용계산 우리는 먼저 창문주위의 화소들이 거의 동일한 시차를 가지고있다고 가정한다. 또한 그림 1. 제안한 립체정합체계의 흐름도 － 4 － 종합대학학보 정보과학 주체109(2020)년 제66권 제2호 창문안의 대각화소들이 창문안에서 다른 이웃화소들과 매우 류사한 세기를 가지고있다고 가정한다. 그러므로 알고리듬에서는 창문안에서 대각적으로 이웃한 화소들만이 창문비용계산에 포함되도록 함으로써 계산시간의 감소를 가져오게 한다. 그림 2에서 자리표 yx 에 위치한 ,( ) 1 0 1 0 0 1 yx ,( ) 1 0 1 33× (pixel)크기를 가진 창문을 보여주고있는데 여기서 1로 표시된 대각선으로 이웃한 화소들은 대응한 정 합에 참가하게 된다. 창문비용을 추정하기 위해 우리는 다음의 식으로 표시 되는 표준NCC통계측정을 변경하여 새로운 모호상관측정을 도입하였다. ,( dyxW , ) = c IyxF ,( ) ,( yx ) × I ( ydx + , ) R L ∑ , Wyx ∈ ∑ , Wyx ∈ ,( IyxF ) ,( yx ) × ,( IyxF ) ( ydx + , ) 2 L 2 L ∑ , Wyx ∈ (1) 그림 2. 33 × 크기를 가진 창문 는 각각 왼쪽, 오른쪽 yx ,( yx 에서 화소들의 세기값, d는 왼쪽 ,( yx 의 시차, W는 4각형창문이다. ,( 식 (1)에서 I L 화상들에서 자리표 와 ) yx ,( I R ) ) yx 에서의 화소에 대응하는 모호측정함수로서 모호성원함수에 ,( 비례하는 가우스분포이다. ) 화상에서 자리표 yxF ,( ) 는 자리표 ) ,( yxF ) = ⎛ ⎜ exp ⎜ ⎝ I L ,( yx ) − ydx + , ) 2 I ( R 2 2 σ ⎞ ⎟ ⎟ ⎠ (2) 여기서 σ는 창문안의 모든 화소들의 표준편차이다. ② 초기시차도 제안한 모호상관측정을 리용하여 2개의 왼쪽, 오른쪽초기시차도 LD 을 추정하기 위해 왼쪽화상을 참조화상으로 고려하고 한다. 오른쪽화상을 참조화상으로 고려한다. LD 과 RD 를 계산 RD 를 추정하는 동안에는 시차도 D는 참조화상에서의 매 화소에 대하여 근사시차 d ′ 를 선택하여 계산된다. max (3) ,( dyxW ,( yxD arg ′ ) = ) , c RD 는 페색으로 인하여 모두 오유들을 포함하고있다. ③ 왼쪽, 오른쪽일치성검사 왼쪽, 오른쪽시차도 LD 과 따라서 왼쪽, 오른쪽 일치성검사를 실현하여 이러한 오유들을 제거한다. 가장 좋은 시차도는 다음규칙을 리용하여 선택된다. 경우인 D R L 기타 경우 L , ,) D D D = = , ( DDMIN R L ⎧ ⎨ ⎩ (4) ④ 정련 상관측정에 기초한 시차추정은 상관창문안에서 모든 화소들에 대해 깊이가 동일하다 고 가정하는데 이것은 무늬부족령역들에서의 깊이불련속점들에 대해서는 성립될수 없다. 결과 대상경계는 희미해지며 일부 부분들만이 제거된다. 모호상관을 리용한 고속립체정합의 한가지 방법 － 5 － 시차화상을 정련하고 페색 및 무늬부족으로 인한 불안전령역에로의 일치성시차증식 을 위해 모호중위려과[7]를 적용한다. ３．실험결과 및 분석 실험에서는 Middlebury자료모임의 립체화상쌍들인 Tsukuba, Cones, Teddy들을 리용하 였다. 계산효과성을 높이기 위해 RGB색화상들을 흑색으로 변환하였다. 표준립체방법(NCC기반)에 대한 시차추정정확도와 제안방법을 각이한 크기를 가진 창문들에 적용하였을 때의 정확도를 비교하였다.(표 1) 표 １．시차추정정확도의 비교(%) Tsukuba Cones Teddy 창문크기/pixel NCC를  리용한 립체 NCC를  리용한 립체 제안방법 제안방법 제안방법 NCC를  리용한 립체 33 ×  77 × 11× 11 78.4 85.6 89.7 91.9 93.8 95.4 77.6 84.3 88.4 91.6 92.9 93.8 73.9 88.7 90.8 89.8 91.9 93.5 그림 3에 NCC에 기초한 립체를 리용하여 추정된 시차도(ㄱ))와 제안방법을 적용한 시차도(ㄴ))를 보여주었다. ㄱ)                   ㄴ) 그림 3. NCC에 기초한 립체를 리용하여 추정된 시차도(ㄱ))와 제안방법을 적용한 시차도(ㄴ)) 실험결과를 통하여 제안방법이 표준창문에 기초한 립체정합방법과 비교하여볼 때 － 6 － 종합대학학보 정보과학 주체109(2020)년 제66권 제2호 가장 효률적인 정확도를 보장한다는것을 알수 있다. 제안방법에서의 적은 처리시간은 계 산효과성의 견지에서 높은 성능을 얻을수 있다는것을 담보하여준다. 그림 4에 각이한 크기를 가진 창문들에 대한 계산시간을 보여주었다. s / 간 시 산 계 1.4 1.2 1.0 0.8 0.6 0.4 0.2 0 33× 55 × 77 × 11× 11 13× 13 15 × 15 99 × 창문크기 그림 4. 각이한 크기를 가진 창문들에 대한 계산시간 그림 4에서 55× 창문이 계산속도나 정합정확도에 있어서 가장 좋은 선택임을 알수 있다. 제안방법을 다른 방법들과 실행시간의 견지에서 비교하여보면(표 2) 제안방법이 정 확성을 보존하면서 계산시간을 훨씬 단축하였다는것을 알수 있다. 표 ２．각이한 정합방법에 대한 계산시간의 비교 방 법 선형립체정합[4] 신경망[7] NCC를 리용한 립체 제안방법 계산시간/s 15 100 0.84 0.57 맺 는 말 참 고 문 헌 모호상관측정을 리용한 효과적인 고속립체정합알고리듬을 제안하여 높은 정확성을 보장하면서 립체정합에 걸리는 계산시간을 훨씬 감소시켰다. [1] 최춘화, 현수철; 콤퓨터시각기하, 종합대학출판사, 142～192, 주체99(2010). [2] D. Schastein, R. Szeliski; Int. J. Computer Vision, 47, 7, 2002. [3] Di Stefano et al.; Image and Vision Computing, 22, 12, 983, 2004.  [4] Stefano Mattoccia et al.; IEEE International Conference on Computer Vision, 1708, 2011.  [5] Q. Yang; IEEE Transactions on Pattern Analysis and Machine Intelligence, 37, 4, 834, 2015.  [6] J. Lu et al.; Computer Vision and Pattern Recognition, 1854, 2013.  [7] J. Zbontar, Y. LeCun; Computer Vision and Pattern Recognition, 1592, 2015. 주체109(2020)년 2월 5일 원고접수 모호상관을 리용한 고속립체정합의 한가지 방법 － 7 － A Method of Fast Stereo Matching Using Fuzzy Correlation Pang Kum Hyon, O Yong Gun and Kim Kyong Sok In this paper, we suggested a fast and efficient stereo matching algorithm based on fuzzy correlation measure and proved its computational efficiency and accuracy via several tests with experimental materials. Keywords: stereo matching, disparity, fuzzy correlation