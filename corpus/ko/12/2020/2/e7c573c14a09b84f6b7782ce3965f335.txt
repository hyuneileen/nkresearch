김일성종합대학학보 정보과학 주체109(2020)년 제66권  제2호 흑백색화상의 밝기변환을 리용한 색화체계의 화질개선방법 최옥주, 최춘화 경애하는 최고령도자 동지께서는 다음과 같이 말씀하시였다.  《첨단돌파전은 현대과학기술의 명맥을 확고히 틀어쥐고 과학기술의 모든 분야에서 세계를 앞서나가기 위한 사상전, 두뇌전입니다.》 일반적으로 색화는 오랜 흑백색사진이나 흑백색영화들에 색을 추가하는 콤퓨터지원 처리이다. 선행연구[1]에서는 자동색화방법을 제안하였지만 색화된 화상이 미술가의 의도에 맞 지 않는 경우에 수정하지 못하는 결함이 있다. 선행연구[2]에서는 반자동색화방법을 제안하였지만 미술가의 의도에 따라 색을 유연 하게 변경시킬수 있으나 적합한 색을 선택하기가 매우 어렵고 많은 시간이 소비되는 결 함이 있다. 론문에서는 선행연구[1, 2]의 제한성을 극복하고 흑백색화상의 밝기를 변환시켜 색화 된 화상의 질을 높이기 위한 방법을 제안하였다. １．밝기특징공간에서 화소들사이의 거리계산 화소 s 의 밝기값을 )(sY , 색도를 )(sC 라고 할 때 2개의 린접화소 s 와 t 의 거리를 다음과 같이 정의한다. 임의의 2개 화소 s 와 t 의 내부거리에 대하여 론의하자. 2개 화소 s 와 t 사이에 8린 tsd ),( = sY )( − tY )( (1) 접관계를 만족시키는 화소렬 이 존재한다고 할 때 여기서 p 1 = , ps C = m = , 2 p (cid:34) p mp ,{ , 1 이다. 이때 m 1 − t } C의 내부거리는 Cd ( ) = i ppd , ( i 1) + (2) ∑ i 1 = 과 같이 정의된다. 합의 최소값으로 정의된다. 임의의 2개 화소 s 와 t 의 내부거리는 s 와 t 를 련결하는 곡선의 내부거리들의 루적 tsd ),( = (min Cd ) (3) 사용자가 N 개의 각이한 색을 지적하였다고 하자. 이때 같은 색을 가진 화소모임을 (cid:34)= ,1 이라고 하면 화소 s 로부터 nn N , Ω nΩ 까지의 내부거리는 , － 58 － 종합대학학보 정보과학 주체109(2020)년 제66권 제2호 sd ,( ) =Ω n ,(min tsd ), , Ω∉∀Ω∈∀ n s t n , n (cid:34)= ,1 , N 과 같이 표시된다. ２．참고색화상을 리용한 흑백색화상의 밝기변환 일반적으로 흑백색화상의 밝기와 참고색화상의 밝기가 다른것으로 하여 색화된 후의 화상의 색이 참고색화상의 색과 달라지게 된다. 따라서 참고색화상에서 선택되는 화소의 색도뿐아니라 밝기도 고려해야만 요구하는 색화결과를 얻을수 있다. 참고색화상에서 선택한 색의 밝기와 색선을 그어주는 화소에 대응하는 흑백색화상의 밝기는 서로 차이난다. 밝기를 일치시키기 위하여 그 밝기차만큼 흑백색화소의 밝기를 조절해야 한다. 그러 나 이러한 조작을 색선으로부터 분할되는 령역단위로 진행한다면 경계가 뚜렷하게 생기 는 결함이 있게 된다. 이러한 문제를 극복하기 위하여 밝기조절에 무게 w 를 도입하기로 한다. 무게 w 는 화소 s 로부터 nΩ 까지의 내부거리 sd Ω 에 의하여 다음과 같이 정의 ,( ) n 된다. dw )( = sd ,( −Ω ) n r (4) 여기서 4=r 를 실험적방법으로 결정하여 리용하였다. 흑백색화상의 매 화소의 밝기는 다음의 식에 의해 갱신된다. 3 ∑ i 1 = 3 ∑ sdw ,(( )) ΔΩ k i Y k i Δ sY )( = sdw ,(( Ω )) k i i 1 = sY )( Δ+ sY )( sY )( T = (5) 여기서 )(sYT 는 변화된 화소밝기이며 ikYΔ 는 Y − 으로서 1 Y 0 색선을 그은 화소들에 대한 흑백색화상의 평균밝기이다. 들까지의 내부거리값에 따라 정렬한 배렬의 첨수값이다. 0Y 은 1Y 은 색선의 밝기이고 ik 는 주목하는 화소로부터 색선 흑백색화상의 밝기를 변화시킨 다음 색도융합에 의한 색화[2]를 진행한다. ３．실험 및 결과분석 실험에서는 흑백색화상들에 대하여 론문에서 제안한 방법과 선행방법에 의한 색화실 험을 Intel(R) Corei5 2.4GHz 4.0GB RAM desktop에서 진행하였다. 실험에서는 제안한 방법 의 유효성을 검증하기 위하여 색화상을 흑백색화상으로 변환하고 흑백색화상의 밝기를 인위적으로 변경시켜 입력화상으로 리용하였다. 흑백색화상의 밝기를 변화시킨 목적화상을 그림 1에 보여주었다. 그림 1에서 ㄱ)는 색화상이고 ㄴ)는 흑백색화상이며 ㄷ)는 목적화상이다. 그림 1에서 흑백색화상은 색화상 을 흑백색화상으로 변환한 화상이며 목적화상은 흑백색화상의 밝기를 인위적으로 변경시 킨 색화하려는 흑백색화상이다. 흑백색화상의 밝기변환을 리용한 색화체계의 화질개선방법 － 59 － ㄱ)               ㄴ)               ㄷ) 그림 1. 흑백색화상의 밝기를 변화시킨 목적화상 제안한 방법에 의한 색화결과와 선행방법[2]에 의한 색화결과화상들을 그림 2에 보여 주었다. ㄱ)          ㄴ)          ㄷ)          ㄹ) 그림 2. 제안한 방법에 의한 색화결과와 선행방법에 의한 색화결과화상 그림 2에서 ㄱ)는 목적화상, ㄴ)는 참고색화상, ㄷ)는 제안한 방법의 결과화상, ㄹ)는 선행방법의 결과화상이다. 선행방법[2]과 제안한 방법에 대한 평균2제곱오차(MSE: Mean Square Error)와 봉우리 신호대잡음비(PSNR: Peak Signal Noise Ratio)분석을 진행하였다.(표) － 60 － 종합대학학보 정보과학 주체109(2020)년 제66권 제2호 표．색화결과비교분석 화상번호 평균2제곱오차 봉우리신호대잡음비/dB 선행방법[2] 제안한 방법 선행방법[2] 제안한 방법 1 2 3 95.21 544.18 166 9.73 18.75 427.26 120 6.89 20.83 20.71 15.90 35.40 21.80 17.31 표에서 보여준것처럼 제안한 방법으로부터 높은 색화질을 보장할수 있다는것을 알수 있다. 참고색화상의 색을 흑백색화상에서 그대로 재현하기 위하여 참고색화상의 밝기를 리 용하여 흑백색화상의 밝기를 변화시켜 색화의 질을 개선하였다. 맺 는 말 참 고 문 헌 [1] T. Welsh et al.; ACM Trans. Graph., 21, 3, 277, 2002. [2] P. Lagodzinski et al.; Multimed. Tool Appl., 69, 1, 111, 2014. 주체109(2020)년 2월 5일 원고접수 A Method for Improving Quality of Colorization Image Using Intensity Variation of Gray Scale Image Choe Ok Ju, Choe Chun Hwa In this paper, we proposed a method for improving quality of colorization image and verified efficiency through experiment. Keywords: colorization, intensity, gray scale image