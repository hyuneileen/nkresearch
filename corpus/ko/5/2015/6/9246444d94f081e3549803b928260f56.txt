김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체104(2015)년 제61권 제6호 Vol. 61 No. 6  JUCHE104(2015). 에네르기최소화에 의한 한가지 화상분해방법 허명송, 리예성 위대한 령도자 동지께서는 다음과 같이 교시하시였다. 《오늘 과학과 기술은 매우 빠른 속도로 발전하고있으며 사회발전에서 과학기술이 노 는 역할은 더욱더 커지고있습니다. 현시대의 요구에 맞게 과학기술을 빨리 발전시켜야 우 리의 자립적민족경제의 위력을 강화하고 사회주의건설을 더욱 다그칠수 있으며 사회주의 의 우월성을 전면적으로 높이 발양시킬수 있습니다.》(《선집》 증보판 제18권 441페지) 론문에서는 정화상복원을 실현하는데서 본질적인 역할을 노는 정화상분해의 한가지 방 법에 대하여 론의하였다. 화상복원은 주어진 화상에서 부분적으로 잃어진 정보를 복원하거나 주어진 화상에 들 어있는 불필요한 대상을 제거하는데 목적을 두고있으며 화상복원의 결과로 얻어지는 화상 은 인위적인 부분이 없는 화상으로 되여야 한다. 화상복원방법에는 크게 세가지 즉 화상의 구조정보를 리용하는 방법[6], 화상의 문양정 보를 리용하는 방법[2, 4, 5], 화상의 구조정보와 문양정보를 동시에 리용하는 방법[3]이 있다. 론문에서는 선행연구[4]에서 리용한 화상분해모형들과 다른 한가지 화상분해의 수학적 모형을 제기하였다. 다시말하여 잡음제거에 자주 리용되는 수학적모형인 점성풀이에 의한 화 상평활모형[1]을 화상분해에 적합하게 개조하여 리용하도록 하였다. 우리의 이러한 론의의 효과성은 화상분해알고리듬에서 반복적으로 구조화상과 문양화 상을 구하여야 하는 선행연구들의 알고리듬보다 단순하며 화상분해의 수학적모형을 그대 로 구조화상의 복원에도 리용할수 있다는데 있다. 화상평활과 관련한 여러가지 모형들가운데서 대표적인 수학적모형은 ALM모형이다.[1] 우리는 화상농도함수의 그라디엔트대신에 라쁠라시안을 리용하는 한가지 모형을 제기 ut = g (| ×∇ uG |) | k ∇⋅ u | 한다. 유계열린구역 2R⊂Ω 를 주어진 화상 :0u +→Ω R 의 (전체)구역, Ω⊂D 를 복원하여야 할 (부분)구역이라고 하자.  다음과 같은 함수족 ) 를 생각하자. (ΩuB + R |) 4 4 , ( ( ( + R , Ω , Ω CL ( Cu ∈ + σηη = {:) =Ω 4 uNu )( = + Bu 여기서 음을, (ΩuB ) 임으로 볼수 있다. 여기서 잡음에는 화상의 문양정보까지도 포함되여있다. 는 가우스잡 )(⋅u 은 주어진 화상의 구조정보를 반영하고있는 구조화상을 표현한다. 즉 함수족 는 주어진 화상의 구조정보만을 반영한 구조화상에 가능한 잡음이 섞인 화상들의 모 는 유계선형연산자전부의 모임이고 CLNyxG ), yxGσ ,( ))} ,( , Ω , Ω , Ω ,) , ) ∈ C C )) R R R ( ( ( ( ) 4 + 4 + 함수족 (ΩuB ) 에서 목적범함수 )(uE 를 다음과 같이 정의한다. － 11 － 종합대학학보(자연과학)   주체104(2015)년  제61권  제6호 )( uE = g |( ∇ |) du +Ω λ ,( x )( uuy − 2 2 ) 0 d Ω ∫ ∫ Ω Ω 2u∇ 에 관하여 부아닌 증가함수 즉 0)( ≥⋅g , 0)( >⋅′g 이다. 그 여기서 함수 | 리고 2∇ 는 라쁠라스연산자이다. R:g 는 | + → R + )(uE 와 같은 범함수들을 흔히 화상 u 의 에네르기범함수(에네르기)라고 부른다. 화상농도함수의 라쁠라시안의 크기 | | 2u∇ 는 화상의 평활화정도를 나타내며  ,(, yx λ ⎧ ⎨ ,(,0 x ⎩ ) Ω∈ Dy ) ∈ D . \ λ ,( x y ) = )(⋅g 이 증가함수이므로 한편 주어진 화상 yxu ,(0 | | 2u∇ 가 클수록 범함수값 즉 화상의 에네르기는 커지게 된다. 가 근사할것이 필 ) 와 잡음이 제거된 평활화된 화상 yxu ,( ) 요하다. 에네르기가 u 의 라쁠라시안의 크기에만 관계된다면 즉 에네르기범함수의 첫째 항에 일 때 에네르기가 최소로 되며 따라서 목적하는 구조화상과는 거 만 관계된다면 2 ∇ u || 0|| ≡ 리가 먼 화상이 얻어질수 있다. 에네르기범함수의 둘째 항은 주어진 yxu ,(0 ) 는 무게곁수로서 손상되지 않은 구역에서 본질적으로 주 와 잡음이 제거된 평활화된 화상 yxu ,( ) xλ ,( y ) 와 잡음이 제거된 평활화된 화상 yxu ,( ) 가 근사할것을 요구한다. 여기 가 근사할것을 요구한다. 어진 화상 yxu ,(0 ) 서 λ는 무게상수이다. 이로부터 화상분해문제는 (ΩuB ) 에서 목적범함수 )(uE 에 최소를 주는 함수 u 를 찾는 극값문제(변분문제)로 귀착된다. 극값문제의 풀이로서 구조화상 yxu ,( ) 를 얻으면 그로부터 문양화상 yxv ,( ) 는 주어 진 화상과의 차로서 와 같이 얻을수 있다. 보조정리 함수 yxv ,( ) = yxu ,( ) − yxu ,( ), yx ,( ) Ω∈ 0 R →:g R 가 불룩이고 엄격한 증가함수이면 범함수 )(uE 는 불룩이다. 즉 u 1 , u 2 ∈ uB ), ∈ β ( Ω )1,0( 에 대하여 다음의 식이 성립된다. ( ) ) uE β β 1 )(⋅g 이 불룩이므로 1( −+ 1( −+ ( uE 1 ) β β ≤ u ) 2 증명 ( uE 2 ) (1) g ( β | ∇ 2 u 1 | 1( −+ β |) ∇ |) ≤ g β (| ∇ |) 1( −+ ) β g (| ∇ |) .    (2) 2 u 2 2 u 1 2 u 2 한편 민꼽스끼부등식으로부터 u ( β 1 )(⋅g 이 증가함수이므로 ∇ | 2 이고 1( −+ ) β u |) ≤ β | ∇ 2 2 u 1 | 1( −+ β |) ∇ | (3) 2 u 2 2 g (| ∇ ( u β 1 2 1( −+ ) β u |)) ≤ g ( β | ∇ 2 | 1( −+ β |) ∇ 2 u 2 2 u 1 2 . |) 2 식 (2), (3)으로부터 u ( |) u β 1 1 )(⋅g 이 부아닌 함수이므로 다음의 식이 성립된다. 이 식의 량변을 적분하면 1( −+ 1( −+ ) u β g β ) β |)) ∇ ∇ ∇ ≤ |) (| (| (| u g g 2 2 가 성립된다. 2 g (| ∇ u ( β 1 1( −+ ) β u |)) d ≤Ω 2 g (| ∇ 2 u 1 |) d −+Ω 1( ) β g (| ∇ |) d Ω (4) 2 u 2 ∫ Ω ∫ β Ω － 12 － ∫ Ω 에네르기최소화에 의한 한가지 화상분해방법 한편 [ u β 1 이 성립되며 이 식의 량변을 적분하면 1( −+ ) β − ≤ u u ] 2 0 2 ( u β 1 − u 0 2 ) 1( −+ β u () − u 0 2 2 ) (5) ∫ [ u β 1 Ω 1( −+ ) β u − u 0 2 2 ] d ≤Ω ( u 1 − u 0 2 ) d −+Ω 1( β − u 0 2 2 ) d Ω .    (6) ∫ β Ω ∫ () u Ω 1( −+ 를 얻는다. 따라서 범함수 에 의한 yxu ,( 이 식의 량변에 λ를 곱하고 식 (5)를 더하면 ( ) uE u ) β β 1 )(uE 는 불룩이다.(증명끝) )(uE 의 값이 최소로 되면 다음의 방정식을 만족시킨다.  u ∂ t ∂ )(uE 의 피적분함수를 다음과 같은 로 놓자. uuy )( uuF , 정리 증명 1( −+ uE ( 1 −∇= uE ( λ 0 x ,( ) β ∇⋅ β ∇ ≤ − − |) (| u u c ) ) ) [ ] ) ) ( 2 2 2 2 2 0 xx u , yy uuF ,( , xx u yy ) = f (| ∇ u |) + λ x ,( uuy )( − 2 2 ) 0 여기서 2 u | =∇ | | u + u yy xx | 이고 ) ,                (7) F u xx ∇′= (| f u |) ⋅ 2 ∇′= f (| u |) ⋅ sign ( ∇ u ) ,        (8) 2 2 Fu (2 = β 0uu − 2 | u | ∇∂ u ∂ xx F yyu ∇′= f (| u |) ⋅ sign ( ∇ u ) , sign s )( = 2 2 s = 0 .        (9) − ⎧ ⎪ 0, ⎨ ⎪  1, ⎩ ,1 s < 0 s > 0 u 2 2 u | ∇ | ⎧ ⎪ ⎨ ⎪ ,0 ⎩ ∇ , 2 u ≠∇ 0 2 u  =∇ 0 sign ( ∇ u ) = 2 을 리용하면 식 (8), (9)는 다음과 같이 쓸수 있다. F u xx = F u yy ∇′= (| f u |) ⋅ 2 (10) ∇ u 2 2 | ∇ u | 따라서 식 (7), (10)으로부터 다음의 방정식을 얻는다. 2 ∇ f ∇′ (| u |) ⋅ 2 + ,(2 x λ )( uuy − ) = 0 (11) 0 ∇ | ∇ 2 2 | u u ⎤ ⎥ ⎥ ⎦ ∇′ (| 2 | u ∇ 2 f 2 u |) | ⎡ ⎢ ⎢ ⎣ u ∂ t ∂ xλ ,(2 y ) 를 yxλ ,(0 ) 로, c (| ∇ u |) = 2 로 놓으면 식 (11)은 최속하강법을 적용하면 다음과 같은 오일레르－라그랑쥬방정식을 얻는다. 2 ∇ ( c (| ∇ u |) ∇⋅ u ) + 2 λ 0 )( ,( uuyx − ) = 0 . 0 −∇= [ c (| ∇ u |) ∇⋅ 2 2 2 u ] − λ 0 x ,( uuy )( − ) 0 이 방정식이 바로 화상분해의 수학적모형이다.(증명끝) － 13 － 종합대학학보(자연과학)   주체104(2015)년  제61권  제6호 참 고 문 헌 [1] L. Alvarez et al.; SIAM J. Number. Anal., 29, 845, 1992. [2] A. Criminisi et al.; IEEE Trans. Image Processing, 13, 9, 1200, 2004. [3] M. Bertalmio et al.; IEEE Computer Society Conference on Computer Vision and Pattern Recognition, 2, 18, 2003. [4] J. Wang et al.; Neurocomputing, 123, 150, 2014. [5] T. Shih et al.; IEEE Transactions on Circuits and Systems for Video Technology, 19, 3, 347, 2009. [6] A. Telea; J. Graphics Tools, 9, 1, 23, 2004. 주체104(2015)년 2월 5일 원고접수 An Image Decomposition Method by the Energy Minimization Ho Myong Song, Ri Ye Song A mathematical model for the simultaneous filling-in of texture and structure information in regions of missing image is presented. It is the goal of this paper to propose a new mathematical model that will be required to perform both texture synthesis and structure inpainting in all regions to be filled-in. The original image is decomposed into the sum of two images, one is capturing the basic image structure and the other capturing the texture. Key word: image decomposition － 14 －