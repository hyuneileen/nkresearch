김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체104(2015)년 제61권 제5호 Vol. 61 No. 5  JUCHE104(2015). 이동로보트의 경로계획에서 GNRON문제 해결의 한가지 방법 량경일, 최명성 위대한 령도자 동지께서는 다음과 같이 교시하시였다. 《여러가지 로보트를 개발하고 받아들이는데서 나서는 과학기술적문제도 풀어야 하겠 습니다.》(《선집》 증보판 제11권 138페지) 포텐샬마당법(APF: Artificial Potential Field)은 장애물이나 금지령역으로부터 로보트가 멀 어지도록 작용하는 척력포텐샬마당과 로보트를 그것의 목표에로 구동시키기 위한 인력포 텐샬마당과 같은 두가지 형태의 포텐샬마당을 리용하는 방법이다. 선행연구들[2, 3]에서는 목표위치를 장애물로부터 상대적으로 멀리 떨어진 곳에 설정 하였다. 이러한 경우에 로보트가 목표가까이에 있을 때 장애물에 의한 척력은 무시해도 되 며 이때 로보트는 인력에 의하여 목표위치에로 유인되게 된다. 그러나 실생활에서는 목표 가 장애물에 아주 가까이에 있는 경우들도 존재하며 이러한 경우들에 로보트가 그 목표에 접근할 때 가까운 장애물에도 접근하게 된다. 만일 인력포텐샬과 척력포텐샬을 선행연구[2, 3]에서와 같이 정의한다면 척력이 인력보다 훨씬 커지게 되며 목표위치는 전체 포텐샬함 수에서의 대역적인 최소풀이로 되지 않기때문에 로보트는 목표에 도달할수 없게 된다. 우리는 수학적표현이 간결하고 좋은 실시간성과 높은 효과성으로 하여 로보트의 경로 계획에서 광범히 리용되고있는 포텐샬마당법을 리용할 때 장애물가까이에 있는 목표에 도 달할수 없는 GNRON문제(Goals Nonreachable with Obstacles Nearby)를 론의하고 그것을 해 결하기 위한 새로운 척력포텐샬을 제안하였다. １．GNRON문제해결을 위한 포텐샬함수의 개선 문제를 간단히 하기 위하여 로보트가 질점이며 2차원작업공간에서 이동한다고 가정하 면 작업공간안에서 그것의 위치는 다음과 같이 표시된다. q ,[= Tyx ] 이때 가장 보편적으로 리용되는 인력포텐샬은 다음의 형태로 주어진다. qU )( 인 = 2 ξρ qq ,( 목 l 1 2 ) (1) 여기서 ξ는 정인 척도화인자이며 는 로보트 q 와 목표 q 사이의 거리이다. 목 qqρ ,( ) || = q − q || 목 목 － 29 － 종합대학학보(자연과학)   주체104(2015)년  제61권  제5호 그리고 대응하는 인력은 다음과 같이 주어진다. qqξρ ,( −∇= −= qU )( 인 qF )( 인 목 ) (2) 한편 일반적으로 리용되는 척력포텐샬함수는 다음의 형태로 주어진다. )( qU 척 = 1 ,( qq ρ ) 장 − 1 ρ 0 ⎛ ⎜ η ⎜ ⎝ 1 2 ⎧ ⎪⎪ ⎨ ⎪ , 0 ⎪ ⎩ 2 , ⎞ ⎟ ⎟ ⎠ ρ qq  ,( ) > ρ 0 장 ρ qq  ,( ) ≤ ρ 0 장 (3) ) 은 로보트로부터 장애물까지의 최소거리, 0ρ 은 장 여기서 η는 정의 척도화인자, 장q  qρ ,( 애물의 작용거리를 나타내는 정수이다. 이때 대응하는 척력은 다음과 같이 주어진다. )( qU 척 )( qF 척 −∇= = = 1 qq ,( ⎧ ⎛ ⎜ η ⎪ ⎜ ⎨ ⎝ ⎪ ,0      ⎩ ρ ) 장 1 − ⎞ 1 ⎟   ⎟ 2 ρρ ⎠ 0 ( qq − ) 장 ∇ qq ,( ρ , ) ρ qq ,( 장 ) ≤ ρ 0 장 (4) ρ qq ,( ) > ρ 0 장 그런데 로보트에 작용하는 전체 힘은 인력과 척력의 합 즉 F 전 = F 인 + F 척 (5) 으로 되며 이 힘이 로보트의 운동방향을 결정하게 된다.[1] 목표가 장애물에 매우 가까이에 있는 경우 로보트가 목표에로 접근할 때 역시 장애물 에도 접근하게 되며 결국 인력은 줄어들고 동시에 척력이 증가되게 되는 문제 즉 GNRON 문제가 발생하게 된다. 이로부터 로보트는 목표에 도달하는것이 아니라 오히려 더 멀리 밀 려나게 된다. 이제 로보트가 직선방향으로만 움직이는 1차원인 경우를 보자.(그림 1) 그림 1에서 로보트는 점에서 출발하여 x 축을 따라 목표 T ]0  ,[= x q q 를 향 T ]0,0[=목 T ]0, 해 이동하며 이때 장애물은 장 = q [ 장 x 의 위치 즉 목표의 오른쪽에 있기때문에 로보트와 목표는 모두 장 애물의 작용거리안에 놓이게 된다. 이 경우 인력 및 척력포텐샬함수는 다음과 같이 주어진다. )( qU 인 1 ξ= 2 2 x (6) )( qU 척 = 1 2 ⎛ ⎜ η ⎜ ⎝ 1 − x − x 장 2 1 ρ 0 ⎞ ⎟ ⎟ ⎠ (7) 그림 1. 1차원인 경우 로보트, 장애물, 목표위치 만일 0 =ρ qUqUqU )( 인 0.5=장x )( + )( , = 척 전 의 변화를 보여주고있다. 2 , 1==ηξ 이라고 가정할 때 그림 2는 x 축에서의 전체 포텐샬 그림 2에서 보는바와 같이 우의 포텐샬함수에 대하여 x = 목x 0= 은 최소풀이가 아니라 는것을 명백히 보여주고있다. － 30 － 이동로보트의 경로계획에서 GNRON문제해결의 한가지 방법 5.0−=x 그리고 에서 함정상태에 빠지게 되 며 따라서 로보트는 목표에 도달하지 못하게 된 다. 이 문제를 해결하기 위하여 로보트와 목표 사이의 거리를 고려한 새로운 형태의 척력포텐 샬함수를 제안한다. 로보트가 목표에 접근함에 따라 척력포텐샬 이 령에 다가가며 전체적인 포텐샬은 목표에서 대역적인 최소값을 가지게 된다. 이제 로보트와 목표사이의 상대거리를 고려 하여 새로운 척력포텐샬을 다음과 같이 정의한다. 리이다. 여기서 이다. 그림 2. 1차원에서 포텐샬함수 qU 척 )( = 1 qq ,( ) 장 − 1 ρ 0 ⎞ ⎟ ⎟ ⎠ 2 n ρ 1 2 ⎧ ⎛ ⎪⎪ ⎜ η ⎜ ⎨ ⎝ ⎪ 0      ⎪ ⎩ ρ , ρ qq  ,( ) > ρ 0 장 qq  ,( 목 ,) ρ qq  ,( ) ≤ ρ 0 장 (8) 여기서 장qqρ ,( ) 은 로보트와 장애물사이의 최소거리, 목qqρ ,( ) 은 로보트와 목표사이의 거 식 (3)과 비교하여볼 때 ρ ( )qq, 목 의 도입으로 하여 전체 포텐샬 )(qU전 는 q = 일 때 목q 에만 대역적인 최소값에 도달하게 된다. 이러한 포텐샬함수 )(qU전 는 인력과 척력의 합이 로보트를 장애물로부터는 멀어지게 하 고 목표에는 가까와지는 특성을 가지도록 선택하여야 한다. 식 (8)에서 보여준 포텐샬함수에 의해 로보트가 목표에 있지 않을 때 즉 q ≠ 일 때 척 목q 력은 다음과 같이 주어진다. )( qF 척 −∇= U = 척 + nF 장척 1 ⎧ ⎪ ⎨ 0 ⎪⎩ , nF 목척 2   , ρ ,( qq 장  ,( qq ρ ) ≤ ) > 장 ρ 0 ρ 0 (9) F 척 1 = ⎛ ⎜ η ⎜ ⎝ 1 qq  ,( ρ ) 장 − 1 ρ 0 qq  ,( 목 q  ,( q 장 ) ) (10) F 척 2 = n 2 ⎛ ⎜ η ⎜ ⎝ 1 qq  ,( ρ − ) 장 n− 1 ρ qq  ,( 목 ) (11) ⎞ ⎟  ⎟ ⎠ n ρ 2 ρ 2 1 ρ 0 ⎞ ⎟ ⎟ ⎠ 이제 n 장 ρ∇= q  ,( q 장 ) 와 n 목 ρ−∇= q  ,( q 목 ) 을 각각 장애물로부터 로보트에로, 로보트 로부터 목표에로 향하는 2개의 단위벡토르라고 하자. 그림 3에 척력과 그것의 두 성분들사이의 관계를 보여주었다. 장척 nF 1 이 장애물로부터 로보트를 밀어버릴 때 다른 성분 성분 목척 nF 2 은 목표에서 로 식 (8)로부터 만일 0=n 이면 새로운 척력포텐샬함수는 전통적인 형식인 식 (3)으로 된 보트를 끌어당긴다. 다는것을 알수 있다. － 31 － 종합대학학보(자연과학)   주체104(2015)년  제61권  제5호 그런데 새로운 척력포텐샬을 얻자면 목표정보 를 고려하여 0>n 으로 선택하는것이 필요하다. 이제 n 을 여러가지로 선택했을 때 즉 1>n 일 때 그것의 수학적특성들 1 0 , , 1=n << n 을 조사하자. << n 인 경우 ① 1 이 경우 식 (8)이 목표 0 하지 않다는것을 알수 있다. q = 에서 미분가능 목q 그림 3. 새로운 포텐샬함수에서의 척력 ρ 0 일 때 즉 로보트가 장애물의 작용거리안에 놓일 때 척력은 다음과 같다. 한편 식 (10)과 (11)에서 <장qq  ,( ρ ) ≠목qqρ ,( ) 0 이고 F 척 1 = ⎛ ⎜ η ⎜ ⎝ 1 qq  ,( ρ ) 장 − 1 ρ 0 ⎞ ⎟  ⎟ ⎠ n ρ qq  ,( 2 ρ 2 qq  ,( ) 목 ) 장 F 척 2 = n 2 ⎛ ⎜ η ⎜ ⎝ 1 qq  ,( ρ ) 장 − ⎞ 1 ⎟ ⎟ 1 n− ρρ ⎠ 0 1 qq  ,( ) 목 (12) (13) 그러므로 로보트가 목표에 접근할수록 목qqρ  ,( ) 은 령에로 다가간다. 이와 같이 식 (12)와 (13)으로부터 각각 알수 있는것처럼 척력의 첫번째 구성요소 이 령에로 접근하며 로보트를 목표에로 구동시키는 둘째 구성요소 장척 nF 1 목척 nF 2 은 무한대로 간다. , ② ρ 1=n ρ 0 이 경우 식 (10)과 (11)은 다음과 같이 된다. ≠목qqρ ≤장qq  ,( ,( 인 경우 , 0 ) ) F 척 1 = ⎛ ⎜ η ⎜ ⎝ 1 qq  ,( ρ ) 장 − 1 ρ 0 ⎞ ⎟  ⎟ ⎠ ρ qq  ,( ρ qq  ,( ) 목 ) 장 F 척 2 = 2 1 2 ⎛ ⎜ η ⎜ ⎝ 1 qq  ,( ρ ) 장 − 1 ρ 0 ⎞ ⎟ ⎟ ⎠ (14) (15) 이때 로보트가 목표에 접근함에 따라 첫 구성요소 장척 nF 1 은 령에로 다가가며 로보트를 목표로 몰아가는 둘째 구성요소 목척 nF 2 의 값은 상수 으로 다가간다. 1 2 ⎛ 1 ⎜ η ⎜ 장qq  ,( ⎝ 1>n 인 경우 ρ ) − 2 1 ρ 0 ⎞ ⎟ ⎟ ⎠ ③ 척력포텐샬함수 식 (8)은 목표에서 미분가 능하며 로보트가 목표에 접근함에 따라 전체 작 용력은 끊임없이 0에로 다가간다. 그림 4는 그림 1에서와 같은 경우에 대한 전 체 포텐샬함수를 보여주고있다. 여기서 T ,  q ]0  ,.50[=장 이다. T ]0  ,0[=목 q ,5.0=m ,1==ηξ 3,2,1 , － 32 － 그림 4. 1차원인 경우의 포텐샬함수들 이동로보트의 경로계획에서 GNRON문제해결의 한가지 방법 우리는 제안된 이동로보트의 동적경로계획법의 유효성을 검증하기 위하여 VC++환경 ２．모의실험 및 결과분석 에서 모의실험을 진행하였다. 의 크기는 75mm×75mm×75mm이다. 실험에서 로보트가 이동하는 환경의 크기는 1 300mm×1 500mm, 로보트와 장애물들 위치 (700, 900), (1 200, 900), (1 100, 1200)에 장애물들이 고정되여있고 목표가 (1 200, 1 200)에 존재할 때와 (1 100, 1 150)에 존재할 때 제안한 방법과 선행방법과의 비교를 진 행하였다. 그림 5의 ㄱ)에서 보여주는바와 같이 목표가 장애물로부터 떨어져 존재하는 경우에는 제안한 방법과 선행방법을 리용할 때 모두 목표에 도달하였다. 그러나 그림 ㄴ)에서는 장 애물가까이에 목표가 존재하는 경우 선행한 방법을 리용하여서 는 목표에 도달하지 못하고 목표 점근방에서 진동하게 된다. 모의실험결과는 로보트와 목표사이의 상대거리를 고려하 여 새로운 척력포텐샬함수를 설 정하면 포텐샬마당법에 의한 경 로계획에서 제기되는 GNRON문 제를 해결할수 있다는것을 보여 준다. 그림 5. 목표의 위치에 따르는 경로계획 ㄱ) 목표가 장애물로부터 떨어져있는 경우, ㄴ) 목표가 장애물가까이에 있는 경우 참 고 문 헌 [1] 신영철; 운동조종체계, 종합대학출판사, 54～72, 주체98(2009). [2] H. B. Qiang; Computer Technology and Application, 27, 26, 2006. [3] Qin Ke et al.; Journal of Shenyang University of Technology, 26, 5, 568, 2004. A Solving Method of GNRON in the Path Planning for Mobile Robot Ryang Kyong Il, Choe Myong Song 주체104(2015)년 1월 5일 원고접수 We solved the problem of goals non-reachable with obstacles nearby when using potential field methods for path planning of mobile robot. Simulation results have verified that the proposed method can solve the GNRON problem Key words: mobile robot, path planning, potential field － 33 －