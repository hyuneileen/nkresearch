김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체104(2015)년 제61권 제10호 Vol. 61 No. 10  JUCHE104(2015). 거리행렬계산의 가속화에 의한 MRCPSP/max의 풀이알고리듬의 성능개선 문경호, 김정훈 경애하는 동지께서는 다음과 같이 말씀하시였다. 《과학기술을 확고히 앞세우고 과학기술과 생산을 밀착시키며 경제건설에서 제기되는 모든 문제들을 과학기술적으로 풀어나가는 기풍을 세워 나라의 경제발전을 과학기술적으 로 확고히 담보하여야 합니다.》 쌍을 이루는 활동들사이의 최소 및 최대시간지연이 선정된 방식들에 의하여 변할수 있 는 일반화된 선후관계를 가지는 다중방식 프로젝트일정작성문제(MRCPSP/max)[1, 2]에 대하 여 가상문제에 기초한 풀이방법[1]이 있다. 론문에서는 가상문제의 특성에 기초하여 시간실행가능한 가상일정방안의 존재를 판 단하는데 리용되는 거리행렬계산을 가속화함으로써 MRCPSP/max를 푸는 기본알고리듬의 성능을 개선하는 한가지 방법에 대하여 론의한다. １．가상문제[1]와 시간해석 MRCPSP/max는 망 N 모임, E 는 호들의 모임, = EV ,{ ; } Δ 으로 표현되는데 (Δ δ = ) MmMmmijm ∈ ∈ , i j j i i j 는 호 = ,1,0{ (cid:34) V i 의 무게행렬이다.  ,( nn , }1 + ) j , 은 마디점들의 MRCPSP/max 의 어떤 실체 (P)와 준위 1−l 의 가상일정방안 이 주어지고 또 이 실제방식 lm 로 수행될 때 활동 l 의 실제 시작시간 ls 의 최소화 활동 ( ll = arg )ˆmin i s i 1)ˆ,ˆ( −lSM 문제는 다음과 같은 가상문제 lP)ˆ( 로 정의된다. ˆmin +ns 1 (1) ˆ s i ˆ s i ˆ s i s.t. + δ ˆˆ mmij i j ≤ ,ˆ s j ∀ ,( i j ) ∈ , iE , ∈ Vj + δ ˆ mijm i j ≤ ,ˆ s j ∀ ,( i j ) ∈ ∈ VViE \ , , ∈ Vj (2) ,( i j ) ∈ , iE , ∈ VVj \ + δ mijm i j ≤ ,ˆ s j ρ r lm l k ≤ R ρ k − ∀ ∑ ρ r im i )( tAi ∈ , k ∈∀ Rk ρ , t ≥ s l 1 − , (3) ⎫ ⎪ ⎪ ⎬ ⎪ ⎪ ⎭ ∈∀ Rk , (4) v ˆ s i = , i ∖∖∈∀ VVi l }{ (5) v r lm l k ≤ v R k − v r ˆ kmi i + ∑ Vi ∈ ∑ v r im i ∈ ∖∖ }{ lVVi k ⎞ ⎟ , ⎟ ⎠ ⎛ ⎜ ⎜ ⎝ s － 49 － 종합대학학보(자연과학)   주체104(2015)년  제61권  제10호 여기서 ˆ , smsm i ,ˆ i , i i 은 각각 활동 i의 실제방식, 실제시작시간, 가상방식, 가상시작시간 이며 V l { += ,1 n + }1 는 가상방식으로 수행되는 활동들의 모임이고 tA |{)( = si t <≤ i s i + p im i , }}{∖∖ l 는 가상일정방안 kR 는 재생가능한 자원 VVi ∈∀ 다. 또한 ρ ρ r 는 활동 i가 방식 im 에서 수행될 때 요구하는 재생가능한 자원 k의 량, v r 는 활동 imi imi 들이 소비하는 재생불가능한 자원 k의 전체 량이다. 에 대하여 시간 t에서 수행된 활동들의 모임이 vRk ∈ 의 량이며 kR 는 재생불가능한 자원 1)ˆ ,ˆ( −lSM ρRk ∈ 의 량, v k k 목적은 제한 (1)－(5)가 만족되고 1 ˆ +ns 이 최소화되게 (cid:34) ˆ ,m,m 1 + (cid:34) , , l l ˆ mM = 0 ( ˆ m, n 1 + ) lSM )ˆ,ˆ( ( = ˆ 이고 S s , lP)ˆ( 의 망을 0 , (cid:34) ˆ N = (cid:34) , }Δˆ EV ,{ ; 으로 표기한다. ˆ ′ s,s l l 1 + ˆ s, ′ n 1 + ) 인 새로운 가상일정방안 을 결정하는것이다. 식 (1)－(5)로 표현되는 가상문제 lP)ˆ( 은 잘 알려진 전형적인 MRCPSP/max[3]이며 따 라서 이것에 대한 시간해석의 수법 즉 시간－실행가능한 최속시작일정방안을 계산함으로 써 풀수 있다. 식 (1), (2), (5)를 만족시키는 최속시작시간 (ˆ si ∈∀ Vi ) 는 최속시작시간벡토르 와 시간－실행가능한 가상적인 최속시작일정방안 )ˆˆ ,ˆ( lSEM , ( s = (cid:34) ˆˆ ,ˆˆ, SE se l 을 형성한다. 따라서 SE ˆˆ 의 계산은 ˆˆ, se (cid:34) 1 + s ) n 0 , l 한편 활동 i의 최속시작시간 )ˆˆ ,ˆ( lSEM lP)ˆ( 에 대응하는 망 Nˆ 우의 절점 0으로부터 절점 i까지의 최대경로를 찾아서 계산할수 있다. Nˆ 이 길이가 정인 주기를 가지지 않을 때에만 Nˆ 에 대한 시간－실행가능한 가상적인 일정방안이 존재[6]한다는것은 알려져있다. 그러므 를 계산한다면 절점 i 로부터 자기자체로 돌아오는 로 최대경로길이행렬 의 존재에 대한 검사와 관련된다. iseˆˆ 는 )ˆ( ˆ ijdD = , VjVi ∈ ∈ 정의 경로길이는 길이가 정인 주기의 존재를 나타내며 결과적으로 시간－실행가능한 가 상일정방안의 비존재를 나타낸다. 여기서 ijdˆ 는 Nˆ 의 최대경로길이를 나타냄과 동시에 활 동 i 와 j 의 최대거리를 나타낸다. Dˆ 은 시간복잡성이 3VO )| (| 인 다음과 같은 플로이드－와르샬알고리듬[3]에 의하여 계산할수 있다. )0(ˆ D = ))0(ˆ( ijd VjVi , ∈ ∈ , )0(ˆ d ij = ,0 , ˆˆ immij j ⎧ ⎪⎪ δ ⎨ ⎪ ⎪ ⎩ i j = i ,( ∀ j ) ∈ E ∞− , 때 않을 그렇지 ˆ d , ( ( kj ik k , − + )1 i ∀ )},1 Vkj , ∈ k )1 +− (ˆ ˆ nDD = ˆ =iid ( Dˆ 의 대각선요소들의 값)이고 )ˆˆ ,ˆ( lSEM 0 )(ˆ kd ij = max{ (ˆ kd ij − ),1 ˆ d 다른 한편 만일 ˆ d =0 j s j 에 대하여 Vi ∈∀ 에 대하여 라면 시간－실행가능한 가상일정방안 이 존재한다. i ∈∀ ,0{ l − }1 － 50 － 거리행렬계산의 가속화에 의한 MRCPSP/max의 풀이알고리듬의 성능개선 이때 SE ˆˆ 는 Dˆ 의 첫행에 있는 값들로 주어진다. 즉 ˆ ˆˆ SE d ˆ( d 00 0 이거나 각이한 두 활동 i와 j에 대하여 (cid:34) ˆ d ˆ d ˆ d = 01 s 0 n , , , , ≠0 j j ) . ˆ d + ji n 1 + ˆ d ij 그리고 > 0 이 성립한다면 Nˆ 안에 정의 길이의 주기가 생기며 결국 그 어떤 시간－실행가능한 가상적인 일정방안도 존재하 지 않는다. ２．기본알고리듬 단계 １ 초기화 MM = j ① , ∈∀ Vj j ② ρ )( tR k = R ρ , k ∈∀ Rk ρ , t ≥ ;0 ˆ R v k = r v jmk , ∈∀ Rk v ∑ Vj ∈ min Mm ∈ j 이면 그때 알고리듬의 실행을 중지한다. ③ ④ ⑤ ⑥ v , ≥ (cid:34) ˆ v R k ˆ v R k ˆ nm, Rk ∈∃ )ˆ ˆ ˆ ,ˆ( ,ˆ( ,mmM SM S = = 0 1 )ˆ 에 기초하는 망 Nˆ 의 Dˆ 을 계산한다. ,ˆ( SM ˆ >jjd ; 0=i ,0,0( Vj ∈∃ 0=l );0, UB (cid:34) ; , ;0 ;1 ); = = 1 + 0 s m 0 0 ; 이면 그때 알고리듬의 실행을 중지한다. ∞= )0(ˆ D ˆ D = n )( 으로 하고 단계 7로 간다. J )0( ; =φ a )0( = ;0 VV = }0{∖ ; 단계 ２ 적합한 모임의 계산  이면 1+= l 1+= n ② ① UB ˆ d = l l ③ lJ j |{)( = ˆ[min d Vj ∈ 0 j ,0 n+ 1 l ( − )]}1 단계 ３ 적합한 활동의 선택 ① ② 이면 단계 7로 간다. φ=)(lJ i ∈ 을 선택한다. )(lJ ③ lJ )( = lJ };{∖)( i la )( = VVi ; = }{∖ i ① 단계 ４ 방식의 선택 이면 φ=iM i Mm ∈ 를 선택한다. i ∖= mMM { i i VV = ② ③ } i };{∪ i MMi = i 로 하고 단계 3으로 간다. 단계 ５ 재생불가능한 자원 및 시간실행가능성의 평가 ① 만일 ∈∃ Rk v , R v k − v r imk + v r im i k ≥ R v k min Mm ∈ i 이면 단계 4로 돌아간다. ② Dˆ 를 계산한다. ③ 만일 },{)∖( VV j ∈∃ ∪ i 4로 돌아간다. － 51 － ˆ d 0 j > s j 혹은 ˆ jjdVj , ∈∃ > 0 혹은 LB > 이면 단계 UB 종합대학학보(자연과학)   주체104(2015)년  제61권  제10호 단계 ６ 가장 빠른 시간 및 자원실행가능한 시작시간의 계산과 평가 그리고 자원용량 들의 조정 ① s i = s min{ i | ρ r im i k ≤ ρ tR ( k ), s i t <≤ s i + p im i , s i ˆ d ≥ 0 i , ∈∀ Rk ρ } },{)∖( VV ∪ i ˆ d 0 j > s j 혹은 ˆ, jjdVj ∈∃ > 0 이거나 LB > UB 이면 ② =10δ mi i s i ③ Dˆ 를 갱신한다. ④ 만일 j ∈∃ =10δ mi i rd i 로 하고 단계 4로 돌아간다. ⑤ 자원들의 용량을 조정한다. ⑥  ⑦ 단계 2로 돌아간다. )(ˆ ˆ DlD = 단계 ７ 론의되지 않은 활동들과 방식들에로의 되돌이 1−= l l 0=l 이면 알고리듬의 실행을 중지한다. i = ① ② ③ ④ 활동 i 와 관련되는 자원들의 용량을 회복한다. ⑤ )(la rd =10δ mi i i ⑥ 단계 4로 돌아간다. iM 는 아직 론의되지 않은 활동 i의 방식들의 모임, 임， J(l)은 준위 l 에서 적합한 활동들의 모임, a(l)은 준위 l 에서 선택된 활동, 알고리듬에서 l은 준위를 나타내는 첨수, i는 현재 준위 l 에서 선정된 활동, im 는 현 재 준위 l 에서 선정된 활동 i의 방식, V 는 실제방식에서 일정화되지 않은 활동들의 모 임, iM 는 활동 i의 초기방식들의 모 )(ˆ lD 은 )(ˆ lD 의 요소, 준위 l에서 준위 l의 가상문제 활동 i와 j사이의 거리, Dˆ 은 망 Nˆ 의 림시거리행렬, ijdˆ 은 Dˆ 의 요소, 두 활동 i와 j사이의 거리, lP)ˆ( 에 대응하는 망 Nˆ 의 거리행렬, ρ 는 t에서 재생가능한 자원 k의 량, v kR 는 재생불가능한 자원 k의 소비량이다. )(ˆ ldij 은 )(tRk ３．거리행렬계산의 가속화 기본알고리듬의 단계 5에서 림시거리행렬의 계산은 3Vo )| (| 의 복잡성을 가지는데 이 것은 지나치게 많은 시간을 소비한다. 위 보조정리 기본알고리듬에서, 준위 l에서 론의되는 활동과 관련되는 호들의 무게는 준 1−l 에서의 활동과 관련되는 호들의 무게보다 항상 작지 않다. 증명 활동 i 가 준위 였다고 하자. 가상문제의 정의로부터 활동 i 는 준위 준위 l 에서는 실제방식 im 로 수행된다. 한편 j ∈) 는 호라고 하자. 그러면 가상방식의 정의로부터 호 1−l 에서는 론의되지 않고 준위 l 에서 적합한 활동으로 선택되 1−l 에서는 가상방식 imˆ 로 수행되고 가 활동 i 에 관련되 E 1−l 에서 i i 의 무게는 준위 ,( 와 ∈) j ,( i ,( E ) j ˆˆδ immij j 이고 준위 l 에서는 imijm ˆδ 이다. 류사하게 호 j ,( j 의 무게는 준위 ) i 1−l 에서 jmjim ˆδ 이고 준 i － 52 － 거리행렬계산의 가속화에 의한 MRCPSP/max의 풀이알고리듬의 성능개선 위 l 에서는 jmjimδ i 이다. 이때 δ ˆˆ mmij i j ≤ δ ˆ mijm i j 즉 min min MmMm ∈ ∈ i j i j δ mijm i j ≤ min Mm ∈ j j δ mijm i j 이고 δ ≤ˆ δ mjim i j mjim i j 즉 δ min ∈ Mm i i mjim i j ≤ δ mjim j i 가 성립하는것은 명백하다. 이것은 단계 4에서 새롭 lP)ˆ( 에 대응하는 망 Nˆ 의 호무게들이 준위 1)ˆ( −lP 에 대응하 게 생성된 가상문제인 는 망 Nˆ 의 호무게들보다 항상 작지 않다는것을 의미한다. 호무게의 변화는 단계 6에서 도 일어나는데 rd ≤ 이므로 이것은 더이상 론의할 필요가 없다.(증명끝) 1−l 의 s i i 정리 １ 기본알고리듬의 준위 l 에서 림시거리행렬 Dˆ 의 계산은 0～ o | V 2 | ⎛ ⎜⎜ ⎝ ⎛ ⎜ ⎝ ∑ 1 +∑ ,( i ) Ej ∈ ,( j ) Ei ∈ 1 ⎞ ⎟ ⎠ ⎞ ⎟⎟ ⎠ 의 시간복잡성을 가진다. 증명 준위 1−l 의 망 Nˆ 의 거리행렬 합한 활동으로 선택되였다고 한다. 이때 E i ,( imijm ˆδ 와 러한 호들의 무게 이 미리 주어지고 활동 i 가 준위 l 의 적 을 리용하여 Dˆ 을 계산할수 있다. 만약 가 준위 l 의 활동 i 에 관련되는 호라고 한다면 보조정리로부터 이 jmjimδ 는 항상 감소하지 않으며 이것은 림시거리행렬 Dˆ 의 계 의 값들의 크기관계에 의존한다는것을 (ˆ −lD )1 (ˆ −lD 그리고 산이 와 와 와 ∈) ∈) j ,( )1 E j i i j ( −l (ˆ −ldij )1 imijm ˆδ j ˆ d ji (ˆ −lD )1 jmjimδ 의 요소 즉 준위 i )1 1−l 의 두 활동 i 와 j 사이의 거 암시해준다. 여기서 (ˆ −ldij )1 은 리이다. 먼저 (ˆ ij ld δ=− )1 ˆ imijm j 이라면 이때 Dˆ 을 계산할수 있는데 계산시간은 0과 같다. 만일 이라면 Dˆ 을 계산할 필요가 없는데 이것은 준위 l의 망 Nˆ 의 두 절점 i j )1 ˆ imijm δ>− (ˆ ij ld 와 j 사이의 거리 ijdˆ 이 여전히 은 변화되지 않는다. 그러나 만일 (ˆ −ldij )1 (ˆ ij ld 과 같기때문이며 따라서 Dˆ 의 다른 모든 요소들 라면 그때는 Dˆ 의 모든 요소들이 δ<− )1 ˆ imijm j 의 시간복잡성을 가지는 다음과 같은 재귀관계에 의하여 계산되여야 하는데 이것 2Vo (| )| 은 ijdˆ 이 (ˆ −ldij )1 보다 더 작게 되지 않기때문이다. 한편 준위 l의 활동 i 에 관련되는 호들의 총수가 ⎛ ⎜ ⎝ ∑ 1 +∑ ,( i ) Ej ∈ ,( j ) Ei ∈ ⎞ 1 ⎟ ⎠ 이므로 결국 Dˆ 의 계산시간이 0～ ⎛ Vo | ⎜⎜ ⎝ 2 | ∑ ⎛ ⎜ ⎝ ,( i ) Ej ∈ ,( j ) Ei ∈ 1 +∑ ⎞ ⎟ ⎠ ⎞ ⎟⎟ ⎠ 1 이라는것을 알수 있다.(증명끝) 정리 ２ 기본알고리듬에서 가상일정방안에 기초하는 프로젝트망 Nˆ 에 대하여 길이가 정인 주기의 존재성검사에 의하여 시간실행가능성을 평가하는것은 타당하다. 증명 이것을 증명하는것은 준위 l 의 Nˆ 에 길이가 정인 주기가 존재할 때 준위 1+l 의 Nˆ 에도 여전히 길이가 정인 주기가 존재한다는것을 보여주는것에 귀착된다. uC : , < uv : < (cid:34) u , v , (cid:34) , ,1 − v − vv , v ,1 + > (cid:34) ,1 와 , vu u : > < 경로 를 준위 l 의 Nˆ 에 있는 길이가 정인 주기이고 2개의 vv , 로 이루어지며 일반성을 잃지 않고 ) (,0 (cid:34) ,1 + > u 0 d d > ≤ ) ( , uv l vu l － 53 － 종합대학학보(자연과학)   주체104(2015)년  제61권  제10호 과 이라고 하자. 여기서 다. 그러면 부등식 d ( ( vud ) l ) 0 > l i 를 준위 l 에서는 가상방식 imˆ 로 일정화되였고 준위 uvd ) l ) + d uv vu ( ( l 은 각각 준위 l 의 Nˆ 에 있는 경로 uv 와 vu 의 길이이 이 성립한다. 화되는 활동이라고 하자. 활동 i 가 1+l 에서는 실제방식으로 일정 +lP 의 Nˆ 에 있는 경로 uv 우의 요소라면 이때 보조 1)ˆ( 정리와 정리 1로부터 활동 i 에 관련되는 활동들사이의 호들의 무게와 길이(거리)는 작아 지지 않으며 따라서 이 항상 성립한다. ( 마찬가지로 활동 i 가 경로 vu 우의 요소일 때에도 |)  l | ≤+ 1 즉 1 ≥+ 1 ≥+ (| (| d d d d d d vu uv uv vu vu vu ) ) ( ) ( ) ( ) l l l l l 이 항상 성립한다. ( d ) + ( d ) > 0 이 성립하기때문에 결국 준위 l uv 1 l + 여전히 존재한다고 볼수 있다.(증명끝) 1 + vu 1+l 의 Nˆ 에 길이가 정인 주기가 시험문제로 문제서고[1]에 있는 270개의 MRCPSP/max실체들로 하였는데 매 실체는 ４．계산실험 및 결과분석 100개의 활동들로 이루어져있다. 비교한 결과는 표와 같다. 론문에서 제기한 알고리듬(IES-PT)과 TS DRH98 [4], PR H01 [5], TS NI03 [6]들과의 성능을 표. 론문에서 제기한 알고리듬과 선행한 알고리듬들과의 성능비교 알고리듬 최대시간한계/s 콤퓨터속도 실행가능풀이 평균분산/% TS DRH98 PR H01 TS NI03 TS NI03 IES-PT IES-PT 30 30 10 200 4 100 PC 333 MHz PC 333 MHz PC 1.0 GHz PC 1.0 GHz PC 1.4 GHz PC 1.4 GHz 95/270 270/270 269/270 270/270 270/270 270/270 284.07 180.05 95.88 25.28 37.31 22.05 표에서 실행가능풀이는 알고리듬이 실행가능한 풀이들을 찾은 실체들의 수를 나타내 며 평균분산은 주경로로 주어진 하계에 관하여 알고리듬의 평균분산이다. 4s나 100s 한계안에서 IES-PT는 다른 알고리듬들보다 성능이 좋다. 차이가 고속알고 리듬만큼 크지 않지만 통계학적으로 보다 성능이 좋으며 시간한계와 처리기속도에서 론 문의 알고리듬이 다른 알고리듬들보다 더 적은 시간을 요구한다. 현재 준위에서의 활동과 관련되는 호들의 무게가 앞준위에서의 활동과 관련되는 호 들의 무게보다 항상 작지 않다는 가상문제의 특성에 기초하여 시간실행가능한 가상일정 방안의 존재를 판단하는데 리용되는 거리행렬계산을 가속화함으로써 MRCPSP/max를 푸 는 기본알고리듬의 성능을 개선하였다. 맺 는 말 － 54 － 거리행렬계산의 가속화에 의한 MRCPSP/max의 풀이알고리듬의 성능개선 참 고 문 헌 [1] 종합대학학보(자연과학), 61, 8, 37, 주체104(2015). [2] Agustin Barrios et al.; Computers & Operations Research, 38, 33, 2011. [3] M. Bartuch et al.; Annals of Operations Research, 16, 201, 1998. [4] Bert De Reyck et al.; European Journal of Operational Research, 111, 152, 1998. [5] R. Heilmann; OR Spektrum, 23, 335, 2001. [6] K. Nonobe et al.; In: MIC2003: The 15th Metaheuristics International Conference, 55, 2003. 주체104(2015)년 6월 5일 원고접수 Improvement of the Performance of Solution Algorithm for MRCPSP/max with Acceleration of the Distance Matrix Computation Mun Kyong Ho, Kim Jong Hun We speeded up the solution algorithm by reducing the computation time of the distance matrix based on the property of the virtual subproblem that the weights of arcs on current level in basic algorithm don’t become smaller than those on previous level. Key words: multi-mode project scheduling, minimal time delay － 55 －