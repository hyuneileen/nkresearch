김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체103(2014)년 제60권 제8호 Vol. 60 No. 8  JUCHE103(2014). Viterbi알고리듬을 리용한 사진기문서화상에서의 양식선추출방법 리인성, 리계혁 위대한 령도자 동지께서는 다음과 같이 지적하시였다. 《정보산업을 빨리 발전시키고 인민경제의 모든 부문을 정보화하여야 합니다.》 (《선집》 제20권 증보판 380페지) 수자식사진기로 입력된 표문서화상을 인식하기 위하여서는 스캐너입력화상과는 달리 밝 기변화 및 기하학적이지러짐이 문제로 제기된다. 특히 표문서화상인 경우에는 직선을 이루 어야 할 양식선들이 구부러지게 된다. 직선검출방법에는 호우변환, 최소두제곱법을 리용한 방법이 있다. 호우변환(Hough)[1]은 곧은 직선에 대하여서는 검출의 정확도가 높지만 계산량이 많으 며 더우기 구부러진 직선에 대하여서는 검출의 정확도가 떨어진다. 최소두제곱법[2]을 리용한 방법은 계산량이 적고 주어진 점렬들의 직선성이 강할 때 높은 정확도로 추출할수 있지만 여러개의 직선을 동시에 추출할수 없으며 잡음에 약한 결함을 가 또한 사영변환[3]을 리용하여 수자식사진기로 입력된 문서화상을 복원할수 있지만 계산 량이 많으며 문서자체가 곡면진 경우에는 복원된 화상에서도 직선이 구부러지게 되는 결함 우리는 Viterbi알고리듬을 리용하여 직선이 휘여지거나 잡음이 있는 경우에도 안정하게 직선경로를 추적하기 위한 방법을 제안하고 그것을 이지러진 양식선추출에 적용하기 위한 지고있다. 이 있다. 연구를 하였다. １．Viterbi알고리듬을 리용한 양식선추출방법 Viterbi알고리듬에 의한 직선이 휘여졌거나 잡음이 있는 경우에도 직선의 경로를 비용 최량화의 원리에 기초하여 추적하는 동적계획법의 한가지 방법이다. 그러나 여기서는 직선 경로추적을 HMM으로 모형화하여 실현한다. 이때 HMM모형은 기호관측확률 )(kb j 와 상태이행확률 ija , 초기상태확률 iπ , 최종상 태확률 iγ 로 구성한다. 수직양식선은 다음과 같이 추출한다. 우선 입력화상이 － 22 － nm × 크기의 2값화상일 때 화상의 매 화소들을 하나의 상태로 간주 한다. 이때 Viterbi알고리듬을 리용한 사진기문서화상에서의 양식선추출방법 nm × 개의 매 상태들에 대하여 기호관측확률을 다음과 같이 결정한다. : 흑화소 pixel , jk )( kb j = ⎧ α ⎪ b ⎨ 1 ⎪⎩ − α b , pixel jk : 백화소 jk 여기서 pixel 는 화상의 j 번째 행 k 번째 렬의 화소, bα 는 흑화소출현확률로서 bα 가 0.5 보다 크면 흑화소가 많은 경로를 추적하고 아니면 배경화소가 많은 경로를 추적하게 된다. 그러므로 흑화소로 이루어진 직선경로를 찾을 때에는 0.5보다 큰 값을 설정하여야 한다. 다음 상태들사이의 이행확률을 고찰하자. 이를 위해 Top-down방식에서는 매 상태(화소)  ) ,( ki 가 이전 단계(화상의 매 행을 하나의 단계로 본다.)의 상태들인 ,1 ( i − k , 과만, bottom-up방식에서는 이전 단계의 상태들인 +ki ,( i ( −ki ,( − )1 , i ( + k ,1 + k ,1 − k ,1 )1 , ),1 )1 )1 )1 i ( + + − 과만 련결된다고 본다. 여기서 i 는 화상에서 렬번호에 대응하고 k 는 행번호에 대응된다. 이 때 상태이행확률 ija 를 다음과 같이 설정한다. a ij = ⎧ α a ⎪ 21 − ⎨ ⎪ α ⎩ a , α a , , j i −= 때 일 1 j = 때 일 i j i += 때 일 1 < )1 0( < aα 여기서 aα 까운 값을 준다. 그러므로 수직선경로를 추적할 때에는 수직린접에 대각린접보다 큰 값이 부 여되게 하여야 하며 결국 aα 는 0.3보다 작은 값을 설정하여야 한다. 는 대각상태이행확률로서 수직선추출을 위해 수직상태이행확률에 가 양식선경로추적을 위한 Viterbi알고리듬은 다음과 같다. 초기상태확률 와 최종상태확률 1( ≤≤π ≤≤γ 1( n n ) ) i i i i 는 1로 설정한다. ① 초기단계 ② 반복단계 여기서 )(kjδ 는 j 번째 행 k 번째 렬의 상태값이다. ③ 최종단계 δ m k )( = π kb mk 1,)( k ≤≤ n , ϕ m k 0)( = for mj −= 2to1 for k = to1 n δ j k )( = k k )( ϕ j ( max δ j ki 1 1 +≤≤− arg (max = k ki 1 1 +≤≤− kbai )( ( ik j )) + 1 δ j 1 + ai )( ik ) δ 1 k )( = ϕ 1 k )( = max ( δ 2 k ki 1 1 +≤≤− arg (max δ 2 k ki 1 1 +≤≤− kbai )( )( ik 1 γ k ) ai )( γ k ik ) for i to1 n for j = to1 m − 1 = * j ,1 + I ϕ= j ( I i * j , ) i 이 단계에서 첫번째 행의 매 상태들에 상태값이 가장 최대인 값들이 놓이게 된다. 이 값 들중에 최대점들을 찾으면 그것은 수직선분에 해당되는것들이다. ④ 경로복구 수평양식선은 화상을 90°로 회전하여 수직선추출방법으로 추출하면 된다. － 23 － 종합대학학보(자연과학)   주체103(2014)년  제60권  제8호 ２．실험결과 및 분석 수자식사진기로 입력된 53개의 표문서화상의 경계화상을 2진화하여 실험에 리용하였다. 실험에 리용한 표문서화상과 그에 대한 양식선추출결과는 그림과 같다. 그림. 표문서화상(ㄱ))과 양식선추출결과(ㄴ)) 실험결과 이행확률 aα , bα 를 각각 0.3, 0.6으로 설정하였을 때 양식선추출성능이 제일 높았다. 표. 양식선추출률의 평가( 3.0=aα , 6.0=bα ) 방법 직선개수 최소두제곱법 호우변환 제안방법 1 573 1 573 1 573 추출된 직선개수 1 381 1 466 1 518 추출되지 못한 직선개수 192 107 55 선행한 방법과 제안한 방법과의 비교 결과는 표와 같다. 실험결과는 Viterbi알고리듬을 리용한 방법이 수자식사진기로 입력된 표문서화상 의 양식선추출에서 선행한 방법들보다 더 효과적인 방법이라는것을 보여준다. 참 고 문 헌 [1] J. Song et al.; Pattern Recognition, 38, 539, 2005. [2] B. Yu et al.; IEEE Trans Pattern Analysis Machine Intelligence, 18, 1127, 1996. [3] Richard Hartley; Multiple View Geometry in Computer Vision, Cambridge University Press, 178 ～194, 2003. 주체103(2014)년 4월 5일 원고접수 A Method of Extracting Reference Lines for Camera-Captured Table Document Image using Viterbi Algorithm Ri In Song, Ri Kye Hyok We proposed reference line extraction method using Viterbi algorithm for camera-captured table document image. Experimental results indicate that this method is more efficient for camera-captured table document image than other methods. Key words: Viterbi algorithm, table document image, reference line － 24 －