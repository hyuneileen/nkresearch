김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체103(2014)년 제60권 제7호 Vol. 60 No. 7  JUCHE103(2014). 표식전파기술을 리용한 다무리분류를 위한 한가지 턱값결정방법 김영민, 공혜옥 위대한 령도자 동지께서는 다음과 같이 지적하시였다. 《인민경제의 규모가 커지고 현대적인 과학기술수단들이 경제관리에 널리 리용되고있 는 현실은 사회주의경제를 과학적인 방법론에 기초하여 관리운영할것을 요구하고있습니 다.》(《선집》 제10권 증보판 485페지) 론문에서는 다무리분류를 위해 표식붙은 자료들과 함께 표식붙지 않은 자료들이 주 어지는 경우 그라프기반의 반감독전파학습의 하나인 표식전파기술을 리용하여 턱값을 동 시에 결정하는 한가지 방법을 고찰하였다. １．표식전파기술을 리용한 한가지 턱값결정방법 먼저 분류문제를 형식화하고 그것을 해결하기 위한 방법에 대하여 고찰하기로 한다. 일반 분류문제들과는 달리 C 개의 무리중에서 하나는 정상무리이고 다른 1−C 개의 무리들은 비정상무리라고 하자. 하나의 미지자료가 입력되면 이것은 정상무리에 속하던지 아니면 여러개의 비정상무 리에 동시에 속할수 있다고 가정한다. 매 무리에 대하여 턱값이 존재하며 이 턱값에 따라 비정상무리와 정상무리를 분류한다. 즉 미지의 자료 ix θ> i 이면 i 번째 비정상무리라고 판정하고 그렇지 않으면 정상무리라고 판정한다. 여기서 D 는 자료의 차원수이며 iθ 는 i 번째 비정상무리에 해당한 턱값이다. 에 대하여 L Dx = x x x ( ) , , , 1 2 론문에서는 이러한 분류문제에 대하여 매 비정상무리의 턱값을 동시에 결정하는 한 가지 방법에 대하여 보기로 한다. 턱값결정을 위해 준비된 자료안에는 무리표식이 붙은 자료들과 함께 표식이 붙지 않은 자료들도 있다. 이제 표식붙은 자료들과 표식붙지 않은 자료들이 L = {( x i , y i l )} i , 1 = U = }{ x j ul + l j 1 += 과 같 이 주어졌다고 하자. 여기서 ix 는 D 차원특징벡토르이고 C 는 분류하려는 무리의 개수이다. y i = ( y 1 i , y 2 i , , L y C i ) 는 표식이며 표식붙은 자료들에 대해서는 iy 중의 어느 한 원소만 1이고 나머지는 모두 0이다. l 은 표식붙은 자료의 개수이고 u 는 표식붙지 않은 자료의 개수이다. 이때 론문에서는 그라프기반의 반감독전파학습의 하나인 표식전파기술을 리용하여 그 턱 l << 라고 가정한다. u 값을 결정하는 방법에 대하여 보기로 한다. － 13 － 종합대학학보(자연과학)   주체103(2014)년  제60권  제7호 그라프기반의 반감독전파학습방법은 적당한 표식붙은 자료들과 많은 량의 표식붙지 않은 자료들이 주어졌을 때 그라프적방법을 리용하여 표식붙지 않은 자료들에 표식을 할 당하는 방법이다.[2, 3] 훈련자료들로부터 KNN(K-Nearest Neighborhood)방법을 리용하여 하나의 그라프를 구 축할수 있다. 매 릉들에는 식 w ij = 에 따라 무게를 할당한다. 여 ⎛ ⎜ exp ⎜ ⎝ − d 2 ij 2 σ ⎞ ⎟ ⎟ ⎠ = ⎛ ⎜ exp ⎜⎜ ⎝ − ∑ = D d 1 ( d x i − x 2 ) d j 2 σ ⎞ ⎟ ⎟⎟ ⎠ 기서 σ 는 그라프안의 정점들이 가까울수록 더 큰 값을 할당할수 있도록 하는 하나의 조 절파라메터이다. ul ( + ) ul ( +× ) 형확률이행행렬 T 를 T ij = jP ( i ) =→ 과 같이 계산한다. 여기서 w ij ul ∑ + k 1 = w kj ijT 는 정점 j 로부터 i 로 이행할 확률이다. 또한 Cul ( + ) × 표식행렬 Y 를 정의한다. 이 행렬의 매 행에는 해당 학습자료의 표식 이 대응된다. 여기서 표식붙은 자료에 해당한 행에는 자기의 표식을 그대로 주고 표식붙 지 않은 자료에 해당한 행은 알고리듬에서 중요치 않으므로 0으로 설정한다. 이러한 행렬이 구축되면 다음의 알고리듬에 의하여 표식전파를 진행할수 있다.[2, 3] ① 확률이행행렬 T를 리용하여 표식전파를 진행한다. ② Y 의 매 행에 대하여 표준화를 진행한다. ③ 표식붙은 자료들의 표식들을 덧쓰기하고 Y 가 수렴할 때까지 ①부터 반복한다. 이 알고리듬의 수렴성은 이미 선행연구들에서 증명되였으며 다음과 같은 닫긴형태의 풀이공식이 존재한다. 여기서 T 는 T 의 행정규화된 행렬, 다시말하여 T ij = 이다. Y U = ( TI − 1) − YT Lul uu T ij ∑ T ik k T 를 T = 와 같이 분할한다. T ll ⎡ ⎢ T ⎣ ul T lu T uu ⎤ ⎥ ⎦ LY 은 Y 안에서 웃 l 개 행으로 이루어진 l C× 형행렬이고 UY 는 Y 안에서 나머지 u 개 행으로 이루어진 Cu × 형행렬이다. 이 알고리듬에 의하여 표식붙지 않은 자료들에 표식이 할당된다. 일단 표식이 할당되면 표식벡토르안의 C 개의 원소중 제일 큰 값을 가지는 원소만을 1로 놓고 나머지 원소들은 모두 0으로 놓아 무리를 판별한다. 이제 판별하려는 표식할당된 정상자료와 매 손상자료들로부터 해당 원소의 값들중 최대값과 최소값을 각각 구한다. 만일 최대값이 최소값보다 작다면 그 평균값을 취하고 그렇지 않으면 최대값을 취하여 그것을 턱값으로 설정한다. 이렇게 하면 i 번째 턱값에 대하여 미지자료의 해당 원소의 값이 그 이상이면 해당무 리의 고장으로 판단하고 그렇지 않으면 작업가능한것으로 판정할수 있다. － 14 － 표식전파기술을 리용한 다무리분류를 위한 한가지 턱값결정방법 ２．감속기의 베아링고장진단에서의 응용 먼저 베아링고장진단과 관련한 선행방법을 간단히 보기로 하자. 선행연구[1]에서는 실험실조건에서 베아링의 외환 및 내환, 굴음체손상을 진단하기 위한 연구를 진행하였다. 여기서는 베아링의 상태를 5가지 즉 정상상태와 외환손상상태, 내환손상상태, 굴음체손상상태, 알쌈손상상태로 구분하고 매 상태에서의 특징자료들을 수 집한 다음 세가지 매 고장상태에 대하여 나머지상태들과의 분류를 위해 지지벡토르기계 를 훈련시켰다. 특징추출은 하나의 진동수감부로부터 관측된 자료에 대하여 경험적모드분해(EMD)방 법을 적용하여 얻은 고유모드함수(IMF)들로부터 힐베르트변환을 리용하여 포락선을 구한 다음 거기에 고속푸리에변환(FFT)을 적용하여 스펙트르자료를 얻는 방법으로 진행하였다. 이 방법을 현실문제에 적용하는데서 제기되는 문제점은 순수한 학습자료들을 얻기가 매 우 어렵다는것이다. 생산이 진행되고있는 현실조건에서는 하나의 순수한 손상상태가 아니라 여러가지 손상 상태가 결합되여 나타나므로 이러한 순수한 자료를 얻기가 곤난하다. 따라서 어느것이 객 관적으로 인정되는 정상자료인지를 확정할수 없으며 여러가지 손상이 동시에 존재하는 경 으로 정상인가 아니면 손상인가를 판별하는것이 정확치 않게 된다. 여기서 우 ( 0fA 은 베아링의 외환손상주파수의 진폭값이며 ) ( ifA 는 내환손상주파수의 진폭값이다. ( 0 fA ) ifA ( /) ) 감속기의 베아링고장에는 외환손상, 내환손상, 굴음체손상, 알쌈손상이 있다. 이러한 손상은 동시에 존재할수 있다. 어느 하나의 손상도 없을 때에는 정상으로 판단할수 있다. 생산현장에서 학습에 필요한 자료들을 얻는다는것은 대단히 어려운 일이며 오직 얻 을수 있는 자료는 고장으로 인하여 기계를 분해했을 때 어느 베아링이 고장났으며 어떤 고장인가 하는것이다. 매 시각 진동자료는 망을 통하여 전송되여 로그자료로 보관되므로 고장난 시각의 특 징은 정확히 표식붙일수 있다. 정상자료는 얻기 힘들기때문에 특징벡토르의 모든 원소들 을 0으로 놓은것 즉 령벡토르를 가장 리상적인 훈련자료로 하고 이 자료에 정상자료와 관련한 표식을 붙인다. 고장나기 전의 로그자료로부터 추출한 자료들에 대하여서는 주관 적으로 표식을 할당할수 없으므로 모두 비표식자료로 리용한다. 결국 매우 적은 개수의 표식붙은 자료와 많은 개수의 표식붙지 않은 자료가 주어졌 을 때 반감독전파학습기술을 리용하여 매 표식붙지 않은 자료들에 표식을 할당할수 있다. 다음으로 학습을 위한 특징추출방법에 대하여 보기로 하자. 선행방법에서는 악화지수를 가지고 진동이 가장 심한 통로를 선정하였다. 그러나 현 실자료를 분석한데 의하면 악화지수는 매 주파수에 따르는 진폭의 전체 합에 기초한것으 로서 진동의 심한 정도를 잘 반영하지 못하는 결함이 있다. 실제로는 1단맞물림주파수와 그 배주파수들의 일정한 근방에서 진폭값이 크게 나타 나는 통로를 선정하는것이 좋다. 그것은 베아링에 손상이 있는 경우 1단맞물림주파수와 그 배주파수들의 주위에 그 베아링의 고장주파수에 따르는 축대파들이 나타나며 우리의 고찰대상이 이러한 베아링손상주파수들이기때문이다. － 15 － 종합대학학보(자연과학)   주체103(2014)년  제60권  제7호 이로부터 이전의 악화지수대신 S = |) 와 같은 새로운 지표를 만들고 그것을 ∑ | mfDf ( ∈ fA ( ) 리용하여 진동이 큰 통로를 선정하도록 하였다. 여기서 ( mfD 은 1단맞물림주파수와 그 배주파수들의 일정한 근방들의 합이다. ) mf 은 1단맞물림주파수이고 이때 근방은 1단맞물림주파수들의 주변에 나타나는 축대파들을 고려하여 정한다. 이렇게 함으로써 불필요한 령역의 정보들은 무시하고 오직 주목하는 령역에서의 진 동만을 고려할수 있게 하였다. S 는 주파수공간에서의 진폭들의 절대값에 의하여 계산되 므로 진동폭이 큰 통로일수록 더 큰 값을 가지게 된다. 모든 통로들에 대하여 S 의 값을 계산하고 그 값이 가장 큰 2개의 통로만을 선택하 여 고찰대상으로 한다. 이전방법과는 달리 2개의 통로를 선택하는것은 변동이 큰 2개의 통로안에서 고찰하 면 1개 통로만을 리용하던 이전방법에서 발견할수 없었던 고장주파수들을 고려할수 있다 는 실천적경험으로부터 출발한것이다. 매 통로에 대하여 EMD처리를 진행하여 IMF들을 얻는다. 고장정보를 포함하고있는 진동신호의 고주파대역에서 베아링의 고장특성은 앞의 몇개 의 IMF들로부터 얻을수 있다.[1] 있는 1개의 함수만을 선택한다. 따라서 다음의 지표를 리용하여 앞의 몇개의 IMF들가운데서 가장 정보가 많이 들어 여기서 imf 는 리산값으로 주어진 고유모드함수의 i 번째 요소이다. )(i 이 선택된 함수에 대하여 다음의 힐베르트변환[1]을 리용하여 포락선을 구한다. IMF ∑= imf 2 )( i i tcH [ i )]( = 1 π ∞ ∫ ∞− ′ tc )( i ′− t t td ′ tB )( = 2 tcHtc i )( + [ )]( 2 i 여기서 )(tci 는 선택된 IMF이다. 포락신호는 다음과 같이 얻는다. 다시말하여 주어진 IMF값들을 실수부로 하고 힐베르트변환에 의하여 얻어진 값을 허 수부로 하는 복소수의 절대값을 얻는다. 이 포락신호에 대하여 고속푸리에변환을 실시하여 주파수성분을 얻는다. 이렇게 하면 이 주파수성분들안에 고장주파수들이 반영된다. 이제 두 통로로부터 얻어진 자료로부터 특징벡토르를 다음과 같이 구성한다. fA ( 1 )) ), ), ), c x = ), ( fA ( 1 fA ( i 0 ), i fA ( 1 fA ( i i ), r fA ( 1 fA ( i c r ) ), ), fA ( 2 는 각각 i 번째로 선택된 통로에서 계산된 자료안에 fA ( 2 fA ( 2 fA ( 2 ), ), 0 c r i 여기서 fA ( 0 i 서 베아링의 외환손상, 내환손상, 굴음체손상, 알쌈손상 주파수들의 진폭값이다. 이제 이 특징벡토르의 매 원소가 주어진 턱값이상이면 고장이라고 판단하고 그렇지 않으면 작업 가능하다고 판정할수 있다. 매 고장주파수마다 그 턱값은 서로 다르게 정할수 있다. 이 턱값을 우에서 론한 방법으로 결정할수 있다. － 16 － 표식전파기술을 리용한 다무리분류를 위한 한가지 턱값결정방법 ３．실 험 2013년 3월부터 5월사이의 로그자료를 분석하고 기계가 고장난 날들을 조사하여 우에 9.0 서 제기한 방법에 따라 턱값을 결정하였는데 그 결과는 ,7.0 ,7.0 ,4.0 = = = = t t t t 0 i r c 와 같다. 이 값들은 각각 베아링의 외환, 내환, 굴음, 알쌈손상주파수들에 해당한 진폭의 턱값들이다. 턱값들과 로그자료들에 기초하여 고장진단을 진행한 결과 이전에 경험적인 고정턱값 0.5를 리용하는것에 비하여 보다 안정되고 좋은 성능을 보여주었다. 성능평가는 학습에 리용하지 않은 고장이 확정된 자료에 대하여 진행하였는데 실제 로 고장자료들이 많지 못한 사정으로 하여 성능을 량적으로 평가하기는 곤난하지만 5개 의 고장자료에 대하여 5번 다 원인을 밝혔다. [1] Yu Yang et al.; Measurement, 40, 943, 2007. 참 고 문 헌 CMU-CALD-02-107, 2002. [3] T. Jebara et al.; ICML, 441, 2009. [2] Xiao Jin Zhu et al.; Learning from Labeled and UnLabeled Data with Label Propagation, 주체103(2014)년 3월 5일 원고접수 A Method of the Thresholding for Multi-Class Classification by using Label Propagation Technique Kim Yong Min, Kong Hye Ok We suggest a method for improvement of the speed reducer-faults diagnosis performance by analyzing amplitude measurement data. We consider the spectrum densities in specific domain of the engagement frequency of the first stage and their multiple ones rather than entire domain, and select two channels with the highest spectrum densities. We, furthermore, suggest an approach to determine thresholds of each fault frequencies using graph based semisupervised transductive technique. Key word: threshold － 17 －