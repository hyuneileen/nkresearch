김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체103(2014)년 제60권 제10호 Vol. 60 No. 10  JUCHE103(2014). 로보트시각에서 리산시간세포신경망을 리용한 경계선검출의 한가지 방법 최명성, 량경일 경애하는 동지께서는 다음과 같이 말씀하시였다. 《인민경제 모든 부문에서 과학기술발전에 선차적인 힘을 넣고 과학기술과 생산을 밀 착시켜 우리의 자원과 기술로 생산을 늘이며 나아가서 설비와 생산공정의 CNC화, 무인화 를 적극 실현하여야 합니다.》 선행연구[1－4]에서는 화상처리알고리듬의 복잡성과 잡음효과능력이 약한것으로 하여 실 시간경계선검출을 진행할 때 일련의 오차가 생기는 문제가 제기된다. 론문에서는 실시간 화 상처리분야에서 널리 리용되고있는 리산시간세포신경망을 리용하여 복도와 벽을 실시간적 으로 구별하기 위한 경계선검출방법을 고찰한다. １．리산시간세포신경망의 구조와 동작 세포신경망(CNN:Cellular Neural Network)은 신경세포들이 행렬형태로 배치된 위상구조 를 가지는 일종의 병렬형정보처리체계로서 화상처리의 실시간적문제를 해결할수 있는 구 조를 가지고있다.[1, 2] 들의 nm × 차 4각형배렬을 nm × 차 표준세포신 이러한 세포신경망의 구조는 다음과 같다. 정의 세포 ,1 , jm ,( ic ,1 ), n = = j i , , L L 경망이라고 부른다. 정식과 출력방정식은 다음과 같다. ① 상태방정식 세포신경망의 i 째 행과 j 째 렬에 배치된 신경세포를 ic ,( j ) 라고 할 때 그것의 상태방 C )( t dx ij dt 1 R −= )( tx ij + A ij , y kl kl )( t + u kl , kl )( t + τ     (1) ∑ Nlk ∈ , r ∑ B ij Nl ∈ r k , kl y ), ), ( t ( tx ij ijB , 을 반결합 및 조종견본이라고 한다. 그리고  C 와 R 는 일반적으로 1로 선 를 각각 신경세포의 상태, 출력, 입력, 턱값이라고 하며 ∈τ), R ( t u kl kl 여기서 ijA , 과 kl 택한다. ② 출력방정식 y ij t )( = ( txf ( ij )) = (|5.0 tx ij |1)( −+ | tx ij |)1)( − (2) 여기서 1 ≤≤ mi 1, j ≤≤ in , l +≤≤− r i r , j k +≤≤− r j r |, x ij |,1|)0( ≤ u ij 1| ≤ 이다. － 44 － 로보트시각에서 리산시간세포신경망을 리용한 경계선검출의 한가지 방법 한편 세포신경망을 띠염화한 리산시간세포신경망은 최량화문제, 상사－수자신호변환기, 신호처리분야 등에서 널리 리용되고있는데 그것의 상태를 다음과 같이 표현할수 있다. −= x ij )( k + ya kl ki + , j + l )( k + ub kl ki + , j + l ] + τ x ij ( k )1 −+ x ij )( k T ⎧ ⎪ ⎪ ⎨ ⎪ ⎪ ⎩ r r ∑ ∑ k −= r l −= [ r r r ∑ ∑ k −= r l −= [ r ⎛ ⎜ ⎜ ⎝ x ij ( k )1 =+ x ij )( k + T − x ij )( k + ya kl ki + , j + l )( k + ub kl ki + , j + l ] + (3) ⎞ ⎟ τ ⎟ ⎠ 여기서 T 는 띠염화주기로서 화상처리에 리용할 때에는 일반적으로 1로 선택한다. 식 (3)에서 보면 알수 있듯이 1+k 시각에서 세포의 상태는 k 시각의 상태와 근방에 놓 이는 세포의 출력과 입력화상, 화상턱값에 의해 규정된다. 일반적으로 화상처리는 원화상에 대하여 화상려파, 화상토막화, 변두리검출단계로 이 루어지며 리산시간세포신경망기술을 적용하자면 반결합 및 조종견본을 결정하는것이 기본 촬영기로부터 획득되는 화상속에 포함된 잡음을 억제하는데서 위너려파기가 효과적 이며 이를 실현하기 위해 리산시간세포신경망의 반결합 및 조종견본을 다음과 같이 설정 문제로 나선다. 한다. A = , B = , z = 1 (4) 000 000 000 ⎡ ⎢ ⎢ ⎢ ⎣ ⎤ ⎥ ⎥ ⎥ ⎦ 111 ⎡ ⎤ ⎢ ⎥ 101 ⎢ ⎥ ⎢ ⎥ 111 ⎣ ⎦ 화상토막화는 화상공간을 몇개의 부분령역으로 분할하는 과정으로서 자률이동로보트 의 시각운동에 대하여서는 색화상을 흑백화상으로 넘기는 화상토막화를 진행하는데 이를 위 해 리산시간세포신경망의 반결합 및 조종견본을 다음과 같이 설정한다. A = , B = , z ∗= z (5) 000 020 000 ⎡ ⎢ ⎢ ⎢ ⎣ ⎤ ⎥ ⎥ ⎥ ⎦ 000 000 000 ⎡ ⎢ ⎢ ⎢ ⎣ ⎤ ⎥ ⎥ ⎥ ⎦ 여기서 ∗z 은 흑백화상토막화에 직접적으로 영향을 주는 값으로서 입력된 화상에 따라 실 내와 야외환경을 구별하여 사용자가 선택해 주어야 한다. 일반적으로 ∗z 이 작으면 작을수 록 화상은 보다 간단히 토막화되며 ∗z 이 크면 화상토막화에 의해 얻어진 화상이 복잡해진 다. 만일 복도나 도로가 배경화상에 비하여 대조도가 뚜렷하다면 턱값을 크게(보통 0.4) 설 정하고 화상대조가 희미하다면 턱값을 아주 작게(보통 0) 설정한다. 복도나 도로의 판별을 위한 경계선을 검출하기 위해서는 2진화상속에서 변두리를 검 출하여야 하는데 이를 위한 반결합 및 조종견본은 다음과 같다. A = , B = , z = 0 (6) 000 000 000 ⎡ ⎢ ⎢ ⎢ ⎣ ⎤ ⎥ ⎥ ⎥ ⎦ − − 1 1 − 1 ⎡ ⎢ ⎢ ⎢ ⎣ 1 − 8 − 1 − − − 1 ⎤ ⎥ 1 ⎥ ⎥ 1 ⎦ － 45 － 종합대학학보(자연과학)   주체103(2014)년  제60권  제10호 ２．복도와 벽을 구별하기 위한 경계선검출 문자인식이나 얼굴인식과 같이 일반적인 화상처리에서 리산시간세포신경망을 리용할 때 에는 정지화상에 대한 패턴인식 즉 특징점추출을 기본으로 하여 진행되지만 자률이동로보 트의 화상처리에서 리용할 때에는 실시간적으로 얻어지는 화상속에서 로보트가 이동해야 할 구역 즉 복도와 벽을 구분하는 경계선을 검출하는것이 중요하다.[3, 4] 화상처리후 얻어진 2진화상속에서 복도와 벽을 구별하기 위하여 Hough변환을 적용한 직 선검출방법을 리용한다. 극자리표계에서 직선의 방정식은 다음과 같이 표시된다. u cos * θ v + sin * ∗ρθ + = 0 여기에 기초하여 2진화상을 두 부분으로 나누고 왼쪽 및 오른쪽 부분화상에 대하여 Hough 변환을 통해 획득된 직선들의 모임을 다음과 같이 표시할수 있다. S 왼 = {( 왼 θ k , 왼 ρ k ) k ,1 = , L m }, S 오 = {( 오 , ρθ k 오 k ) k ,1 = L n }, (7) 이때 우의 직선들가운데서 왼쪽 및 오른쪽 경계선으로 선택될 직선을 검출하기 위한 조 건을 다음과 같이 설정한다. 왼 θ 오 θ ,0 ∈ ⎡ ⎢ ⎣ ⎡ −∈ ⎢ ⎣ π ⎤ ⎥ 3 ⎦ , π 3 ⎤ ,0, ⎥ ⎦ 왼 ρ = 왼 ρ k min k , k = ,1 , m L 오 ρ = 오 ρ k max k , k = ,1 , n L (8) 아래부분화상에서 왼쪽 및 오른쪽 경계선들을 검출하는 과정을 실례를 들어 보여주었 다.(그림 1) 그림에서 보여주는바와 같이 리산시간세포신경망 에 의한 화상처리과정으로부터 얻어진 2진화상에 대하 여 왼쪽 부분화상에는 4개의 변두리가 있고 오른쪽에 는 3개의 변두리가 있다고 할 때 식 (8)로 주어진 경계 조건식을 만족시키는 변두리만이 유일하게 경계선으로 선택된다.(굵은 선으로 표시됨) ３．모의실험 및 결과분석 그림 1. 왼쪽 및 오른쪽 경계선검출 제작된 자률이동로보트는 2대의 CCD촬영기로부터 획득된 화상을 처리하여 복도와 벽, 도로와 주위환경을 구별하는 방법으로 이동할수 있는 공 간을 확정하게 된다. 여기서 리용되는 촬영기는 USB포구형 CCD촬영기로서 초점거리가 3.85mm, 프레임이 35fps, 최대분해능이 640pixel×480pixel이다. 리산시간세포신경망을 리용한 경계선검출과정의 효과성을 보기 위해 그림 2와 같은 복도환경에서 모의실험을 진행하였다. － 46 － 로보트시각에서 리산시간세포신경망을 리용한 경계선검출의 한가지 방법 모의때 조종주기는 100ms로, 리 산시간세포신경망의 조종견본과 턱 값은 제시된 표준값들을 리용하였 다. 일반적인 화상처리알고리듬을 리용할 때 화상이 어두운것으로 하 여 경계선검출이 불명확하게 나타 난다. 그러나 그림에서 보는바와 같 이 제안된 알고리듬을 리용하는 경 우 조종주기안에 흰색으로 나타나 는 벽과 검은색으로 나타나는 복도 가 서로 뚜렷이 구별되여 나타난다 는것을 알수 있다. 일단 경계선이 검 출되면 로보트는 이동할수 있는 구 역에 놓였다는것을 확인하고 목표 에 접근하도록 자기의 운동방향을 취하면서 앞으로 움직이게 된다. 그림 2. 경계선검출 ㄱ) 촬영기 1의 원화상과 추정된 경계선, ㄴ) 촬영기 2의 원화상과 장애물검출구역 리산시간세포신경망을 리용하여 원화상속에 포함된 경계선을 검출하는 방법을 제안하 고 4바퀴식자률이동로보트실험기구에 적용하여 시각체계의 효과성을 분석하였다. 맺 는 말 참 고 문 헌 [1] L. O. Chua; IEEE Trans. on Circuits and Systems, 35, 10, 120, 2004. [2] T. Matsumoto; IEEE Trans. on Circuits and Systems, 37, 5, 310, 2005. [3] Xiusong Yang; IEEE Trans. on Robotics and Automation, 18, 2, 992, 2008. [4] Amir Shirkhodaie; IEEE Trans. on Robotics and Automation, 19, 6, 969, 2003. 주체103(2014)년 6월 5일 원고접수 Detection of Boundary Line by using Discrete Time Cellular  Neural Network in Robot Vision Choe Myong Song, Ryang Kyong Il We have proposed the mobile robot which detected the boundary line of the wall and corridor, and detected the obstacle based on frontal image. As a result, we confirmed that the robot ran along with the centerline of the corridor and stopped when an obstacle was detected within the range in real time. Key words: cellular neural network, mobile robot, boundary line － 47 －