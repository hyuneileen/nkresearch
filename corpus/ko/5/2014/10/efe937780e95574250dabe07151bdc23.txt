김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체103(2014)년 제60권 제10호 Vol. 60 No. 10  JUCHE103(2014). UI부분품을 리용한 페지갱신기능의 효과성을 높이기 위한 한가지 방법 리일남, 박령민, 오철남 위대한 령도자 동지께서는 다음과 같이 지적하시였다. 《정보산업시대의 요구에 맞게 공장관리를 과학화, 현대화하는데서 중요한것은 종합적 인 콤퓨터화를 실현하여 모든 생산공정들을 콤퓨터를 통하여 장악지휘하는것입니다.》 (《선집》 제21권 증보판 36페지) JSF프레임워크는 많은 사용자대면부(UI)부분품들을 표준으로 제공하는것으로 하여 세 계적으로 널리 쓰이고있는 프레임워크이다. JSF는 Service to Worker패턴과 Composite View패턴에 기초하고있으며 표현층과 업무론 리층을 분리시켜 개발자들이 독자적인 부분품개발에 집중할수 있게 한다.[1] 또한 Ajax기술을 도입하여 UI부분품들에서 Refresh가 없이 페지를 재적재[2]함으로써 페 지갱신의 요구를 만족시키고있다. 그러나 종전의 웨브응용프로그람작성에서 의뢰기－봉사기통신이 봉사에 대한 요청을 의 뢰기에 의해서만 진행되던 방식을 유지하므로 봉사기의 응답에 대한 대기시간을 완전히 없 애지 못하고있는것으로 하여 시간에 따라 변하는 봉사기의 상태를 의뢰기에 반영하지 못하 고있다. 이러한 부족점을 극복하기 위해서는 Ajax기술을 리용하여 일정한 시간간격으로 봉사 기에 비동기적으로 HTTP요청을 전송하며 그에 따르는 응답결과를 갱신하면 해결할수 있다. 한편 UI부분품들의 조종기들이 사용자의 동작에 대한 사건을 발생시키고 사건에 대응 한 Javascript함수처리를 봉사기에로의 요청으로 진행하고있으므로 사용자들의 페지갱신의 높 은 요구를 따라서지 못하고있다. 론문에서는 기관, 기업소경영업무를 비롯한 웨브프로그람들에서 의뢰기의 요청에 따르 는 페지갱신의 효과성을 높이기 위하여 프레임워크들에서 널리 리용되고있는 UI부분품을 Ajax 기술에 기초하여 구성하고 실현하는 한가지 방법에 대하여 고찰하였다. １．Ajax기술에 기초한 페지갱신부분품의 구성 일반적으로 웨브응용프로그람에서 사용자의 자료에 대한 요구가 의뢰기의 요청으로 되 지만 Ajax응용프로그람에서는 사용자의 요구와는 무관계하게 의뢰기가 봉사기에로 요청을 보낼수 있다. 이를 위하여 Ajax응용프로그람은 Ajax엔진이라는 중간층을 리용하여 봉사기자원들에 대 한 요청들을 비동기적으로 관리하며 요청에 따르는 응답대기를 감소시킨다.[3] 그러므로 페지갱신부분품은 사용자의 요구와 무관계하게 봉사기의 Ajax엔진을 주기적 으로 호출하여 page나 panel, box부분품의 내용을 갱신할수 있다. － 36 － UI부분품을 리용한 페지갱신기능의 효과성을 높이기 위한 한가지 방법 이때 의뢰기의 페지갱신부분품은 페지갱신을 요구하는 파라메터들을 설정하고 주기적 으로 봉사기로 전송하여 처리할수 있도록 구성되여야 하며 동시에 갱신파라메터들을 접수 하여 페지갱신을 실현하는 기능을 포함하여야 한다. 봉사기에서는 Ajax엔진에 의뢰기로부터 호출되는 함수를 등록하고 요청되는 파라메터 를 해당한 론리로 처리하고 결과값을 의뢰기로 귀환한다. Ajax기술에 기초한 페지갱신부분 품의 구성도는 그림 1과 같다. 그림 1에서 요청생성기는 페지들에서 갱신하여야 할 파라메터들을 설정하고 그것을 봉사기로 전송할수 있게 통보문화하는 기능을 수행한다. 그리고 시간계수기는 일 정한 시간간격으로 요청생성기의 요청통보문을 봉사기 로 전송하도록 전송명령을 발생시키는 역할을 수행한다. 또한 응답접수기는 봉사기로부터 귀한되는 응답통보문 을 접수하고 파라메터들로 형식화하여 해당한 페지의 부 분내용을 갱신하기 위한 처리를 진행한다. 한편 페지갱신기는 응답접수기의 처리가 완료되 면 해당한 페지내용들을 자원들로부터 읽어 페지갱신을 수행한다. 그림 1. 페지갱신부분품의 구성 페지갱신부분품에서의 처리수행과정은 그림 2와 같다. 그림 2. 페지갱신부분품의 순차도 － 37 － 종합대학학보(자연과학)   주체103(2014)년  제60권  제10호 ２．UI부분품의 조종기확장을 리용한 페지갱신부분품의 실현 우선 페지갱신부분품을 3개의 클라스들로 구성하여 실현한다. ① AutoUpdateTag 요청된 페지에 포함되여있는 페지갱신부분품꼬리표의 속성정보들을 넘겨받아 UIAutoUpdate클라스에 넘겨주는 역할을 수행한다. 그를 위하여  javax.faces.webapp. UIComponentTag클라스를 계승한다. ② UIAutoUpdate 부분품의 frequency(요청주기)속성과 invokeMethod(요청메쏘드)속성의 값을 보관하며 그 것을 다시 AutoUpdateRenderer클라스의 변수들에 설정해주는 역할을 수행한다. 이 클라스는 javax.faces.component.UIComponent클라스를 계승한다. ③ AutoUpdateRenderer UIAutoUpdate클라스가 넘겨준 값들을 리용하여 내용을 생성하여 그것을 의뢰기에 현 시하여주며 javax.faces.render.Renderer클라스를 계승하여 작성한다. 이 클라스들은 설정화일에 등록되며 부분품조종기들은 꼬리표서고서술자에 서술된다. 이러한 설정화일(faces-config.xml)은 다음과 같은 UIComponent클라스와 Renderer클라스 형, 실현클라스를 지적해준다. <faces-config>  <component> <component-type>org.apache.myfaces.tobago.AutoUpdate </component-type>   <component-class>org.apache.myfaces.tobago.UIAutoUpdate </component-class>  </component> </faces-config> 한편 꼬리표서고서술자(tobago.tld)는 다음과 같은 UIComponentTag클라스형과 그 실현 클라스를 정의한다. <tag>  <name>autoUpdate</name>  <tag-class>org.apache.myfaces.tobago.taglib.component.AutoUpdateTag </tag-class> <body-content>empty</body-content> <attribute> <name>frequency</name> <required>false</required> <rtexprvalue>true</rtexprvalue> <description>호출주기를 s단위로 나타낸다.</description> </attribute> <attribute> <name>invokeMethod</name> <required>true</required> <rtexprvalue>true</rtexprvalue> <description>호출복귀함수를 지정한다.</description> </attribute> </tag> － 38 － UI부분품을 리용한 페지갱신기능의 효과성을 높이기 위한 한가지 방법 다른 한편 Internet Explorer나 Mozilla Firefox와 같은 웨브열람기들은 HTML과 Javascript, css와 같은 표식언어들로 구성된 자료만을 읽어들이므로 우에서 실현한 페지갱신클라스들 도 HTML코드와 Javascript객체나 함수들로 해석되여 의뢰기에 내리적재되여야 한다. 이와 같이 실현된 페지갱신부분품의 처리과정은 다음과 같다. 먼저 시간계수기는 일정한 시간간격(s)으로 페지갱신클라스의 함수들을 실행시킨다. 이때 클라스의 함수들은 변경될 부분품들의 이름들과 봉사기주소, 기타 항목들을 Ajax 엔진에 넘겨준다. 그리고 Ajax엔진으로부터 내용들을 넘겨받아 응답결과를 본래의 값과 대 비하고 Javascript함수를 리용하여 변경된 내용만을 갱신한다. Ajax엔진은 HTTP요청통보문을 생성하여 봉사기에 전송하며 봉사기로부터 받은 응답 을 해석하여 페지갱신부분품에 넘겨준다. 응용프로그람은 자료기지나 외부자원접근에 기초한 업무론리를 수행하고 결과를 응답 한다. 이때 설정정보와 꼬리표서고서술자가 참조된다. 의뢰기의 요청에 따르는 페지갱신의 효과성을 높이기 위하여 JSF프레임워크에서 UI 부분품을 Ajax기술에 기초하여 구성하고 실현하였다. 맺 는 말 참 고 문 헌 [1] 최영훈 등; 쏘프트웨어공학, 종합대학출판사, 137～145, 주체99(2010). [2] Giovanni Toffetti et al.; Proc. 7th Int. Conf. on Web Information Systems Engineering, LNCS 4607, [3] Joshua Eichorn; Understanding Ajax: Using Javascript to Create Rich Internet Applications, Prentice 593, 2007. Hall, 120～350, 2006. 주체103(2014)년 6월 5일 원고접수 A Method to Improve the Efficiency of Page Refresh using UI Component Ri Il Nam, Pak Ryong Min and O Chol Nam We constructed and implemented the UI component based on Ajax method in JSF framework to improve the efficiency of page refresh by the client’s requests. Key words: framework, Ajax － 39 －