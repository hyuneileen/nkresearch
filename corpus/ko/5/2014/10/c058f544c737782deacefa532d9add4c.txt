김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체103(2014)년 제60권 제10호 Vol. 60 No. 10 JUCHE103(2014). 한소편처리기 16F877A를 리용한 휴대용 방사선기록장치에 대한 연구 리철만, 리기성 방사선기록장치[2]는 방사선원천들에서 나오는 방사선임풀스의 개수를 기록처리하는 장치로서 종전에는 주로 개별적인 조작으로 동작시키는 단능화된 환수장치로 되여있는데 그것은 콤퓨터와 결합하여 자료를 처리하도록 체계가 구성되여있다. 최근시기 값눅은 한소편처리소자들이 광범히 도입되면서 방사선측정분야에서도 그것 들을 리용한 다통로분석기[1]를 비롯한 여러가지 핵측정수단들이 적극 개발리용되고있다. 우리는 한소편처리소자 PIC16F877A의 여러가지 기능[2]들을 활용하여 어디서나 편리 하게 리용할수 있는 휴대용방사선기록장치를 개발하였다. 휴대용방사선기록장치의 회로구성도는 그림과 같다. 장치의 회로는 DC12V전원단, 검출기용고압전원단, 2개의 방사선임풀스입구단과 동시 회로, PIC16F877A를 중심으로 하는 중앙처리단, 수자표시단 및 건반부로 구성되여있다. 휴대용방사선기록장치에 들어있는 PIC16F877A의 새 치기기능, 박자기능, 채취기능을 리용하여 3통로임풀스환 수회로를 실현하였다. 2개의 검출기에 저항을 통하여 직류 400V 전원이 각 각 공급되며 입구되는 방사선신호들은 마당효과3극소자를 거쳐 CMOS집적소자(CD4011)로 구성된 단안정부진기에서 규격화되여 빛결합소자를 통하여 완충기의 역할을 수행하 는 CMOS반전기에 들어간다. 이 신호들은 각각 PIC16F877A의 RC0핀(T1CKI기능)과 RC1핀(CCP1기능)에 들어가는 동시에 3개의 NAND집 적소자로 구성된 동시회로를 지나 PIC의 RB0핀(INT기능)에 들어간다. 따라서 검출기 1에 들어오는 방사선임풀스는 PIC소자의 T1박자기능에 의하여 계수처리되고 검출기 2에 들어 오는 방사선임풀스는 채취(CAPTURE)기능에 의하여 계수처리되며 두 검출기에 동시기록 되는 신호처리는 새치기(INT)기능을 리용하여 프로그람적으로 처리할수 있다. 그림. 휴대용방사선기록장치의 회로구성도 검출기 2에 들어오는 방사선신호는 채취기능에 의하여 계수처리되므로 프로그람적으 로 임풀스와 임풀스사이의 시간분포측정이 가능하며 따라서 방사선기록의 미분계수속도 를 측정할수 있다. 한소편처리기의 T1CK기능은 소자자체의 박자주파수만 한 신호에 대해서도 동작가능 44μ )에만 하므로 장치의 불감시간은 검출기의 불감시간과 단안정부진기의 규격화시간( s 관계되는것으로 충분히 볼수 있으며 계수용량은 프로그람으로 충분히 증가시킬수 있다. － 65 － 종합대학학보(자연과학)   주체103(2014)년  제60권  제10호 방사선기록의 감도는 입구증폭 및 완충기의 기능을 수행하는 마당효과소자에 의하여 결정된다. 방사선기록장치는 최대 6자리 수값연시를 할수 있다. 또한 방사선기록에 필요한 파라메터들을 입력설정할수 있도록 6개의 건반을 PIC소자 의 RB2～RB7에 배치하였으며 장치의 상태를 보여주는 발광표시등 6개를 RD0～RD7에서 수자표시신호선들과 다중화하였다. 한소편처리소자의 통신기능(RC6/TX, RC7/RX)을 리용하여 주콤퓨터와의 RS485통신규 약에 의한 통신을 실현(자료방향을 지정하는데 RC5핀리용)하였으며 따라서 한대의 콤퓨 터로 여러곳에 분산되여 동작하는 각이한 용도의 방사선기록상태를 동시에 실시간으로 감시, 측정, 조종 및 자료처리를 진행할수 있다. 장치를 조종하고 관리하는 프로그람은 PIC전용개발프로그람도구인 mikro C개발환경 에서 C언어로 작성하였다. 프로그람은 크게 새치기부분프로그람(시간계산, 3개 통로에 대한 계수, RS485자료통 신접수)과 건반감시부분프로그람, 수자표시소자구동부분프로그람, 상태표시등구동부분프 로그람, 장치의 동작상태조종부분프로그람으로 구성되여있으며 전원이 투입된 후 PIC소자 의 초기설정과 변수초기화를 진행한 다음 건반감시, 장치조종, 수자표시, 상태표시, 자료 통신부분들을 실시간적으로 순서대로 감시하면서 처리하도록 작성하였다. 장치동작을 지정하는 설정파라메터들은 표와 같다. 표． 방사선기록장치의 설정파라메터들의 값범위와 의미 항목번호 c0 기능 기준통로번호 c1 c2 c3 c4 c5 c6 c7 측정방식 N방식최대기록 T방식기록시간 휴식시간 총반복회수 현기록번호 장치번호 값범위 0～2 0～3 65 535개 ～16h 12min 15s ～16h 12min 15s 1～10 0～<c5－1> 0～255 값의미  0-N방식, 1-T방식, 2-자동N반복방 식, 3-자동T반복방식 N방식에서 최대기록한계 T방식에서 기록시간 앞측정과 다음측정사이간격 자동반복측정회수  자동반복측정의 현재 번호 RS485통신을 위한 장치번호 주콤퓨터와의 자료통신은 최대 3B씩 실현하며 오유검사는 mikro C의 RS485_Library표 준함수처리방식을 그대로 리용하였다. 1) 채취기능을 리용하는 경우 임풀스와 임풀스사이의 시간분포측정이 가능하며 이로 부터 방사선기록의 미분계수속도도 측정할수 있다. 2) 한소편처리소자의 통신기능을 리용하여 주콤퓨터와의 RS485통신을 실현하였으며 한대의 콤퓨터에서 여러곳에 분산되여 동작하는 각이한 용도의 방사선기록상태를 동시에 실시간으로 감시, 측정, 조종 및 자료처리를 진행할수 있게 하였다. 맺 는 말 － 66 － 한소편처리기 16F877A를 리용한 휴대용방사선기록장치에 대한 연구 참 고 문 헌 [1] 종합대학학보(자연과학), 55, 8, 89, 주체98(2009). [2] 리철만 등; 자연과학론문집 59, 종합대학출판사, 29, 주체90(2001). 주체103(2014)년 6월 5일 원고접수 The Portable Radiation Counting Device using  Microcontroller PIC16F877A Ri Chol Man, Ri Ki Song We described about the portable counting device for radiation counting, using various functions of microcontroller PIC16F877A. Using the function of interrupt, clock and capture, it could be possible to count with three inputs. In case of using the capture, it’s possible to measure the time distribution between pulses, that is, the differential rate of radiation counting. RS485 communication was connected with the host computer by using the communication function of microcontroller and radiation counting devices with the different services which work in several dispersed places can be monitored, measured controlled and data-processed with real time by one computer. Key words: radiation counting system, microcontroller － 67 －