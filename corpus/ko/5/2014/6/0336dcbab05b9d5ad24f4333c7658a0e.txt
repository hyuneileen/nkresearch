김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체103(2014)년 제60권 제6호 Vol. 60 No. 6  JUCHE103(2014). XML을 리용한 SWF재생기의 웨브플라그인실현의 한가지 방법 김용심, 윤희광 위대한 령도자 동지께서는 다음과 같이 지적하시였다. 《프로그람을 개발하는데서 기본은 우리 식의 프로그람을 개발하는것입니다.》 (《선집》 제21권 증보판 42페지) SWF(Shock Wave Flash)는 웨브싸이트에서 많이 리용되는 속도가 빠르고 용량이 작은 벡토르방식의 도형 및 동화상재생형식이다.[1] SWF는 웨브싸이트들에서 광범히 리용되는 동 화상재생형식으로서 웨브열람기에서 SWF재생플라그인을 구현하는것은 필수적이다. Mozilla웨브열람기는 플라그인을 지원하여 여러가지 형식의 화일들을 웨브열람기에서 동 작할수 있게 하며 여기서 Mozilla플라그인API함수(NPAPI)들을 리용한다. SWF재생기를 웨 브열람기우에서 실행되도록 하자면 이 플라그인대면들을 구현하여 플라그인모듈을 구성하 고 웨브플라그인과 SWF재생기사이의 통신을 보장하여야 한다. 론문에서는 웨브열람기에서 SWF화일을 재생하기 위하여 웨브플라그인모듈을 구성하 고 XML을 리용하여 웨브플라그인모듈과 SWF재생기사이의 통신을 보장하기 위한 한가지 방 법을 제기하였다. １．XML을 리용한 웨브플라그인모듈의 구현 웨브열람기의 플라그인모듈에서 구현한 API함수들은 다음과 같다. NS_PluginInitialize: 플라그인이 적재될 때 호출된다. NS_NewPluginInstance: 열람기에서 플라그인객체들이 창조될 때마다 호출된다. NS_DestroyPluginInstance: 초기화하였던 플라그인객체를 완료할 때 호출한다. NS_PluginShutdown: 열람기가 완료될 때 호출된다. NPP_GetMIMEDescription: 이 플라그인이 지원하는 MIME형식을 얻으려고 할 때 호출 된다. 호출된다. NS_PluginGetValue: 열람기에서 플라그인의 판본과 같은 서술정보들을 얻으려고 할 때 웨브열람기에서 SWF재생플라그인모듈의 동작알고리듬은 다음과 같다. ① 플라그인을 적재할 때 NS_PluginInitialize함수를 호출하여 초기화를 진행한다. ② 플라그인객체가 창조될 때 NS_NewPluginInstance함수가 호출되며 파라메터를 통하 여 웨브열람기의 xid(X Window ID)값이 넘겨진다. ③ 플라그인에서는 xid값을 SWF재생기로 넘긴다. － 44 － XML을 리용한 SWF재생기의 웨브플라그인실현의 한가지 방법 ④ SWF재생기는 초기화중에 SWF재생기가 플라그인으로 동작하는가를 검사한다. ⑤ 플라그인으로 동작중이면 xid값으로 QX11EmbedWidget객체(SWF재생대면부)를 창조 한다. 여기서 QX11EmbedWidget클라스는 한 응용프로그람으로부터 다른 응용프로그람에로 창문을 매몰할수 있도록 하는 플라그인작성에 리용되는 클라스이다. ⑥ QX11EmbedWidget객체는 웨브열람기에 매몰되여 SWF화일을 재생한다. ２．XML자료구조의 정의 웨브열람기에서 진행되는 사건처리는 플라그인을 통하여 SWF재생기에로 전달되여 야 한다. 는 XML을 리용한다. 플라그인과 SWF재생기사이의 통신은 소케트를 리용하여 진행하며 통신자료구조로서 XML의 최대우점은 자료저장형식이 표현방식의 제약을 받지 않는다는데 있다.[3] 사용자가 임의로 요소와 속성을 정의하여 확장할수 있으며 문서의 내용을 다양한 론 리적구조로 표현할수 있는 XML의 특징은 여러가지 형식의 정보교환을 필요로 하는 플라 그인의 통신자료구조로서 아주 적합하다.[2] 론문에서 제안한 XML을 리용한 웨브플라그인자료통신구조는 그림과 같다. 그림. SWF재생기와 웨브플라그인사이의 자료통신구조 론문에서는 Action코드들에 대한 XML통신자료를 다음과 같은 형식으로 정의하였다. <pre>  <invoke name=”함수이름” returntype=”귀환값형”> <arguments>     [<자료형> 변수이름 </자료형>     [<자료형> 변수이름 </자료형>, …]] </arguments>  </invoke> </pre> SWF화일들을 웨브열람기에서 동작하도록 웨브플라그인모듈을 구성하고 XML을 리용 하여 SWF재생기와의 통신을 진행하는 한가지 방법을 제안하였다. 맺 는 말 － 45 － 종합대학학보(자연과학)   주체103(2014)년  제60권  제6호 참 고 문 헌 [1] 정대영 등; Flash8동화상제작기법, 공업출판사, 180～252, 주체99(2010). [2] John Shapley; Inter-Process Communication in Linux: The Nook & Crannies, Prentic-Hall, 160～174, 2008. [3] Alexander Stoyen et al.; Using XML for Interprocess Communication in a Space Situational Awareness and Control Application, Focal, 80～96, 2003. A Method of Implementing SWF Player’s Web Plugin using XML 주체103(2014)년 2월 5일 원고접수 Kim Yong Sim, Yun Hui Gwang We proposed a method of implementing web plugin that plays SWF files and used XML in inter-process communication between SWF player and web plugin. Key words: SWF, Plugin, XML － 46 －