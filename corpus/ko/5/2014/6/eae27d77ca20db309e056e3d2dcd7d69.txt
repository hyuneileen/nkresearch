김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체103(2014)년 제60권 제6호 Vol. 60 No. 6  JUCHE103(2014). PIC16F877을 리용한 광전비색계의 콤퓨터결합에 대한 연구 정철진, 석철, 허동길 위대한 수령 동지께서는 다음과 같이 교시하시였다. 《…원자력부문의 과학자들이 원자력에 대한 연구사업을 더 적극적으로 하도록 하여야 합니다.》(《전집》 제60권 352페지) 터결합을 실현한 자료는 발표된것이 없다. 한소편처리소자 PIC16F877을 리용하여 방사선선량세기결정을 위한 광전비색계의 콤퓨 우리는 PIC16F877을 리용하여 방사선선량세기결정에 쓰이는 광전비색계의 콤퓨터결합 을 실현하고 이것을 리용한 흡광도결정방법에 대하여 고찰하였다. １．PIC16F877을 리용한 광전비색계의 콤퓨터결합회로구성 일반적으로 물질의 흡광도는 투과길이가 정해진 경우에는 물질의 농도에 비례하게 된 다.[1] A ε= lc 여기서 ε은 몰흡수곁수, c 는 물질의 농도, l 은 투과길이이다. 이 식으로부터 광전비색계에 의한 표준물질의 흡광도를 측정하여 해당 물질의 농도에 따르는 흡광도곡선 즉 검량선을 그리고 미지시료에 대한 흡광도를 측정하여 검량선으로부 터 농도를 결정한다. 광전비색계 《SPECKOL-ZV》의 구성원리도는 그림 1과 같다. 그림 1에서 보는바와 같이 투과빛은 빛전지 에서 전류신호로 변환된다. 이 신호를 전압신호 로 변환, 증폭하여 흡광도에 비례하는 신호를 얻 는다. 이전 장치들은 증폭회로의 선형성이 보장되 지 않고 측정결과가 계기에 표시되므로 오차가 크 며 측정물질의 최대흡수파장을 미리 알고있는 조 건에서 실험을 진행하여 해당 물질의 흡광도를 측 정하게 되여있었다. 그림 1. 광전비색계의 구성원리도 또한 실험과정과 자료처리에 많은 품이 드 는 결함이 있다. 이 장치에 대한 콤퓨터결합을 실 현하면 검량선작성과 측정물질의 농도분석 등 모든 과정을 프로그람적으로 처리할수 있 － 76 － PIC16F877을 리용한 광전비색계의 콤퓨터결합에 대한 연구 으므로 합리적인 정량분석을 진행할수 있으며 파장에 따르는 물질의 흡광도까지 측정할수 있다. 먼저 광전비색계의 파장수감신호와 빛세기측정신호를 0～5V 범위로 증폭하기 위한 증 폭회로를 제작하고 이 신호를 PIC의 A－D변환기능을 리용하여 수자신호로 변환하였다. 그 리고 변환한 수자신호를 현시하기 위하여 7개의 7쪼각 표시소자와 USART통신기능을 리용 함으로써 측정자료의 콤퓨터전송을 실현하기 위한 MAX-232결합회로를 제작하였다. ２．장치조종 및 측정프로그람 VC++를 리용하여 측정신호의 A－D변환 및 7쪼각 표시소자에 의한 파장에 따르는 흡 광도측정자료현시와 USART모듈을 리용한 자료전송을 위한 PIC16F877조종프로그람을 작 성하였다. 장치조종알고리듬과 새치기처리부분알고리듬은 그림 2와 같다. 그림 2. 장치조종알고리듬(ㄱ)과 새치기처리부분알고리듬(ㄴ) 장치조종프로그람에서는 선차적으로 C포구조종등록기 PORTC의 값을 읽고 이 값으로 부터 현재 측정내용을 판별하며 프로그람적인 0눈금 및 100눈금보정이 설정되여있으면 RA1 핀으로부터 읽어들인 매개의 빛세기의 A－D변환값을 해당 변수에 보관한다. 또한 Timer0등록기에 값을 대입하여 시계새치기를 설정하고 Timer0새치기처리루틴에 서 A－D변환값을 읽고 평균화한 다음 눈금보정을 진행하며 프로그람의 main루틴에서는 파 장값과 흡광도를 일정한 지연시간을 가지고 련속적으로 현시 및 측정자료의 콤퓨터전송을 진행하게 하였다. timer0새치기처리루틴에서는 파장값과 빛세기신호를 A－D변환하여 평균값을 계산한다. － 77 － 종합대학학보(자연과학)   주체103(2014)년  제60권  제6호 시료의 흡광도측정프로그람은 VC++를 리용하여 RS－232포구에 대한 자료읽기를 실현 하였다. 다음 Flash8.0을 리용하여 대면부를 작성하여 VC++와 련동하도록 작성함으로써 장 치결합과 자료처리 및 풍부한 시각적효과를 가진 자료현시기능, 사용자대면기능 등을 합리 적으로 갖추도록 하였다. 측정알고리듬은 그림 3과 같다. 대면부에서 측정시작 및 측정끝지 령을 사용자의 입력으로부터 받아들여 주프로그람으로 전달한다. 이것을 실현 하기 위하여 측정지령을 나타내는 g_State를 정의하고 대면부의 측정시작 및 측정끝단추의 사건처리부분에서 다 른 프로그람과의 통신을 실현하는 함수 fs_command()를 호출하여 주프로그람으 로 전송한다. 그림 3에서 보는바와 같이 프로그 람을 실행하면 우선 기본창문에서 실험 형태에 따라 검량선작성실험을 진행하 거나 측정실험을 진행할수 있다. 그리 고 미지시료측정에서는 실험자료와 실 험번호를 입력하고 측정상태에 들어간 다. 시료의 흡광도측정은 여러번 반복 하여 진행할수 있으며 측정이 끝나면 검 량선선택항목에서 해당한 검량선을 선 택하고 농도를 결정한다. 자료열람에서는 검량선작성자료와 시료측정자료를 열람할수 있는데 실험 날자와 시간실험자와 실험내용에 대하 여 상세하게 열람할수 있다. 그림 3. 측정알고리듬 ３．광전비색계를 리용한 물질분석 로단화물법에 의한 Fe(Ⅲ)의 비색정량을 진행하여 장치의 믿음성을 확증하였다. 로단화물법에 의한 Fe(Ⅲ)의 비색정량법은 산성매질에서 Fe3+과 SCN 이 작용하여 적 색착화합물을 형성한다는데 기초하고있다. 이때 Fe(Ⅲ)이온의 최대흡수파장은 489nm이다. SCN 의 농도는 0.623%)을 조제하고 검량선을 작성한 다음 흡광도 − − 로단화물착색시약( 를 측정하였다.(표 1) 장치의 특성을 확인하기 위하여 철암모니움명반을 대략 10 12− L/mol 정도로 제조하여 미지시료를 만들고 측정실험에 리용하였다. － 78 － PIC16F877을 리용한 광전비색계의 콤퓨터결합에 대한 연구 표 １．Fe(Ⅲ)표준계렬의 농도에 따르는 흡광도 농도 /( ⋅ 10 − 12 1 )Lmol ⋅ − 1 2 3 4 5 6 7 흡광도 0.105 0.221 0.348 0.437 0.610 0.657 0.725 얻어진 측정값과 검량선에 의해 결정한 Fe(Ⅲ)의 흡광도변화는 표 2와 같다. 표 ２．철시료의 흡광도측정결과 시료번호 흡광도 12 − Fe(Ⅲ)농도 /( ⋅ 10 1 )Lmol ⋅ − 평균값 /( ⋅ 10 − 12 1 )Lmol ⋅ − 0.364 3.26 1 0.382 3.42 0.321 2.86 0.638 5.82 2 0.591 5.38 0.684 6.25 3.18 ± 0.3 5.82 ± 0.43 표 1, 2로부터 상대오차를 계산하면 각각 9.4, 7.4%정도이다. 다음으로 우와 같은 물질을 리용하여 콤퓨터결합한 장치로 측정하여 오차를 비교하 였다. 콤퓨터결합광전비색계를 리용하여 측정한 Fe(Ⅲ)이온의 흡광도는 표 3과 같다. 표 ３．콤퓨터결합광전비색계를 리용한 Fe(Ⅲ)이온의 흡광도분석결과 시료번호 흡광도 12 − 농도 ⋅ 10 /( 1 ⋅ )Lmol − 평균값 ⋅ /( 10 − 12 1 ⋅ )Lmol − 0.423 3.81 1 0.418 3.76 0.433 3.90 0.562 5.11 2 0.571 5.19 0.556 5.05 3.82 ± 0.07 5.11 ± 0.07 표 3으로부터 상대오차를 계산하면 각각 1.8, 1.4%이다. 이상의 결과로부터 광전비색계를 콤퓨터와 결합함으로써 측정정확도를 개선하고 물질 정량분석을 상대오차 2.5%이하의 범위내에서 진행할수 있다는것을 확증하였다. 맺 는 말 1) 광전비색계의 파장수감신호와 빛세기신호증폭회로를 제작하고 PIC16F877을 리용하 여 장치의 콤퓨터결합을 실현하였다. 2) PIC조종프로그람과 검량선작성, 미지시료의 농도계산, 결과현시 등 물질분석을 합 리적으로 진행할수 있는 프로그람을 작성하였다. 3) 로단화물법에 의한 Fe(Ⅲ)의 농도분석결과 상대오차는 2.5%이하이다. [1] 조광원 등; 계기분석, 종합대학출판사, 14～32, 주체96(2007). 참 고 문 헌 주체103(2014)년 2월 5일 원고접수 － 79 － 종합대학학보(자연과학)   주체103(2014)년  제60권  제6호 Computer Connection of Spectrophotometer using PIC16F877 Jong Chol Jin, Sok Chol and Ho Tong Gil We manufacture the signal processing circuit for measurement of spectrophotometer and co nnect with computer using PIC16F877. The related error in concentration analysis of Fe(Ⅲ) using this device is less than 2.5% .  Key words: spectrophotometer, PIC16F877 － 80 －