김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체105(2016)년 제62권 제11호 Vol. 62 No. 11  JUCHE105(2016). 시간속성을 가지는 UML도식들의 모형검사에 대한 연구 한석민, 승남철 경애하는 동지께서는 다음과 같이 말씀하시였다. 《과학연구부문에서는 나라의 경제발전과 인민생활향상에서 전망적으로 풀어야 할 문 제들과 현실에서 제기되는 과학기술적문제들을 풀고 첨단을 돌파하여 지식경제건설의 지 름길을 열어놓아야 합니다.》 체계모형의 정확성을 담보하는것은 쏘프트웨어의 품질을 높이고 그 개발에 드는 전체 적인 비용을 줄이는것으로 하여 많은 연구들이 진행되고있다. 선행연구[1]에서는 시간상태도들의 의미론들에 대하여, 선행연구[2]에서는 시간상태도를 실시간명세서언어 TRIO로 변환하는 방법에 대하여 론의하였으나 이 방법들로는 직접적인 모 형검사가 불가능하다. 선행연구[3]에서는 PVS로 UML시간상태도들에 대한 검증방법에 대하 여 론의하였으나 이 방법 역시 복합상태들에 대하여서는 검증이 불가능하다. 론문에서는 시간속성을 가지는 UML상태도와 순차도를 시간자동체로 변환하고 모형검 사도구 UPPAAL을 리용하여 체계모형의 정확성을 검증하기 위한 리론적기초들을 밝히였다. １．시간속성을 가지는 UML상태도를 시간자동체에로의 변환 １）계층적자동체와 시간자동체의 정의 정의 １ 순서자동체 A는 4원조 (σ )δ,λ,s, A A A 0 A 이다. 여기서 Aσ 는 σ σ 0 s ∈ 인 초기상 A 는 이행 × A σ × 태를 가지는 상태들의 유한모임, Aλ 는 이행표식들의 유한모임이고 관계이다. 매 이행들에 대한 표식들은 5원조 (sr, ev, g, ac, td)로 이루어지는데 여기서 sr는 원 천제약, ev는 촉발사건, g는 감시조건, ac는 활동들의 목록, td는 목표결정을 나타낸다. 즉 이 행들은 t=(s, (sr, ev, g, ac, td), s')로 표시된다. 정의 ２ 계층적자동체 H는 4원조 (F, E, ∀ Λ,ρ )이다. 여기서 F는 상태들의 모임이 사 이다. 그리고 E는 사 A,A φ= 1 σF, ∩ ⊆ ∈ σ λ δ A A A A 2 귀지 않는 순서자동체들의 유한모임이다. 즉 건들의 유한모임이며 ∪ :ρ σ A F A 1 → 는 F에 대한 나무구조를 만든다. 즉 유일한 뿌리상태가 2 A 2 FA ∈ 존재하고 뿌리가 아닌 상태들에 대하여서는 그것의 선조상태가 존재하며 순환을 포함하지 않는다. 또한 이다. 정의 ３ 시간자동체 C 는 5원조 (S S, C C init )Γ,T,A, C C C 이다. Λ = Aλ ∪ FA ∈ － 34 － 시간속성을 가지는 UML도식들의 모형검사에 대한 연구 여기서 CS 는 유한상태모임이며 매개 상태는 는 유한동작모임으로서 입력모임 CIA , 출력모임 COA 와 내부동작모임 CPA 를 포함한다. CSS∈ 이다. 그리고 ∈ 는 초기상태, CA S S C C init 또한 CT 는 유한시간제약모임이며 이때 2개의 시간변수 x 와 y 에 대하여 시간제약은 는 유 ,{ x } ≤<∈ 로 된다. 한편 α｜α｜c ¬ yx |c cα, N, ⊆ ∈ ∧ ≺ ≺ ≺ Γ − ::α = C C )st, × AS T × C ′ 는 입력, 출력, 내부 S × C C 한이행모임이며 동작 A,A,Aa ∈ CO CI CP 에 대응하는 이행 (s, a, 이행으로 구분된다. ２）시간속성을 가지는 UML상태도를 시간자동체에로의 변환 시간속성을 가지는 UML상태도를 계층적자동체로 표현하고 이 계층적자동체를 시간자 동체로 변환하여 상태도에 대한 모형검사를 진행할수 있다. UML상태도를 계층적자동체로 표현하기 위하여 상태들의 모임과 초기상태들의 모임, 이 행표식들의 모임, 이행들의 모임을 얻는다. 이를 위하여 다음과 같은 모임론적인 표기를 정 의하고 리용한다. 정의 ４ 상태를 11원조 (Name, Type, Region, Trigger, EnB, ExB, Do, EnP, ExP, PR, AFlag)로 표시한다. 매 기호의 의미는 다음과 같다. Name: 상태를 유일하게 식별할수 있는 이름이다. Type: 단순상태인가, 령역인가, 합성상태인가, 부분상태인가를 나타내는 4원조의 2진값 Region: 상태에 의하여 직접 포함되는 령역들의 모임이다. 단순상태인 경우에는 빈모임 들의 모임이다. 이다. Trigger: 상태와 관련되는 촉발사건들의 모임이다. EnB: 상태에로 들어올 때 동작이다. ExB: 상태에서 나갈 때의 동작이다. Do: 상태의 do동작이다. EnP: 상태에로 들어오는 점이다. ExP: 상태에서 나가는 점이다. PR: 부분상태에 속하는 련결점들의 모임이다. AFlag: 현재상태가 활성인가 비활성인가를 나타내는 2진값이다. 정의 ５ 이행을 8원조(Name, S, D, R, A, T, Y, PFlag)로 표시한다. 여기서 Name은 이행식별자이름, S는 이행의 원천상태, D는 촉발조건들의 부분모임, R는 이 행의 감시조건, A는 이행의 동작, T는 이행의 목표상태, Y는 이행을 포함하는 상태, PFlag 는 가상상태이행을 나타내는 2진값을 표시한다. 이러한 정의에 기초하여 UML상태도를 모임론적인 표기의 의미에 맞게 우선 해당한 정 보들을 분류하고 시간자동체로 직접넘기기를 진행한다. 여기서 중요한것은 상태도의 이행 표식모임이 시간속성을 포함하여야 한다는것이다. 그러면 UML상태도의 모든 이행들은 시 간자동체의 이행들로 표현된다. 다음 계층적자동체로 표현된 UML상태도의 구성나무로부터 나무의 잎들에로 들어가는 이 － 35 － 종합대학학보(자연과학)   주체105(2016)년  제62권  제11호 행들에서 시간제약을 포함하는 촉발조건과 사건들의 모임을 얻는다. 매 사건 e에 대하여 e에 의 하여 일어나는 이행들의 모임과 이행들의 원천, 목적상태들을 구하여 이행들의 모임을 얻는다. 그리고 모든 관련있는 감시조건들은 시간자동체모형의 이행에 복사한다. 또한 UML모 형의 클라스도에서 정의된 변수들은 시간자동체모형의 국부변수들로 그대로 복사한다. UML모형에서 매 신호보내기에 대하여 시간자동체모형의 동기화가 진행되도록 중간상 태들을 생성한다. 이행의 목적상태는 활성화되고 임의의 입장동작은 실시간체계모형에서 대 응하는 동작으로 변환된다. 이 조작은 목적상태에서 뿌리로 내려가는 방향으로 처리된다. 한편 촉발사건이 없는 UML상태도의 이행은 완전사건에 의하여 일어난다. 그리고 단 순상태의 모든 내부활동이 결정된 후에 완전사건이 일어난다. d 시간속성을 가지는 UML상태도의 이행은 d가 부아닌 옹근수인 after(d)형식의 표기에 의 하여 표기된 시간의 경과에 의하여 촉발될수 있다. 시간자동체에서는 시간이행을 가지는 매 상태 s에 대하여 박자 sc 를 정의한다. s를 포함하는 상태구조에 대응하는 시간자동체의 매 위치는 불변량 cs ≤ 를 만족시킬것을 요구한다. 임의의 그러한 위치들로 들어오는 이행들 은 sc 를 0으로 재설정한다. 시간사건은 s로부터 중간상태에로 이행하는 동안 일어나며 조 cs = 에 의하여 감시된다. UML상태도에서는 시간제한표기를 리용할수 있으며 d시간이 건 후라는것을 나타내는 after(d)형식의 기초적인 시간사건들만을 리용하여 실시간체계에 대한 모형화를 지원할수 있다. UML클라스도에서 이것을 반영하여 박자변수들을 리용하도록 한 다. 이러한 박자들은 이행감시에서 검사될수 있고 이행의 효과로 재설정할수 있는데 이것 을 시간자동체로 서술할수 있다. d ２．GRC체계에 대한 UML설계의 실시간모형검사 제기한 방법을 GRC문제에 적용하여 체계의 정확성을 검사하자. GRC(General Railroad Control)문제는 철길교차에서 개페기를 조작하는 체계에 대한 문 제이다. 여러개의 철길로선들에 대한 개페기는 로선들의 위험부분들에 놓인다. 모든 렬차 들은 같은 방향에서 위험부분을 지난다. 매 로선에 대하여 위험부분은 렬차가 위험부분에 들 어오는가 혹은 나가는가를 가리키는 2개의 검출기에 의하여 감시된다. 매 로선에 대하여 기 껏 하나의 렬차가 위험부분을 지나야 하는데 서로 다른 로선들에서 렬차들은 서로 다른 속 도로 지나갈수 있고 그러므로 위험부분을 통과하는 시간들은 서로 다를수 있다. 개페기는 열 려있다가 어떤 렬차가 개페기를 통과하는 동안에는 닫겨야 한다.(안전성속성) 다른 하나의 유용한 속성은 일정한 시간구간에 대하여 그 이전과 이후에 개페기가 열 려야 한다는것이다. 개페기가 열림상태로 초기화될 때 그것은 완전히 열려야 하고 일정한 시 간동안 열림상태가 지속되여야 한다. 이를 위하여 다음과 같은 시간속성들을 리용한다. aT : 렬차가 지점 A에서 위험지점 D로 들어오면서 개페기를 통과하는데 걸리는 최대시간 : 렬차가 지점 A에서 위험지점 D로 들어오면서 개페기를 통과하는데 걸리는 최소시 이다. at 간이다. － 36 － 시간속성을 가지는 UML도식들의 모형검사에 대한 연구 gT : 렬차가 위험지점 D에서 지점 E로 나가면서 개페기를 통과하는데 걸리는 최대시 : 렬차가 위험지점 D에서 지점 E로 나가면서 개페기를 통과하는데 걸리는 최소시간 gt 간이다. 이다. ug : 개페기가 완전히 닫긴상태로부터 완전히 열린상태로 되는데 걸리는 시간이다. dg : 개페기가 완전히 열린상태로부터 완전히 닫긴상태로 되는데 걸리는 시간이다. og : 개페기가 열린상태에 머무르는 최소지속시간이다. Δ : 개페기에서 통신으로 인한 지연시간이다. 한편 시간자동체의 최종상태가 UML상태도를 표현하는 시간자동체와 순차도로부터 생 성된 자동체에 도달가능한가를 검증하여야 한다. 체계의 어떤 정확성속성들은 순차도를 통하여 정확한 실행을 요구하는것으로 표현된 다. 그러나 모든 속성들이 시간제약을 가지는 UML순차도를 리용하여 표현가능한것은 아 니다. 특히 UML순차도들은 신호들의 결여가 나타나는지 검사하는것을 허용하지 않는다. 그 러므로 GRC체계에 대한 안전성속성을 검증하기 위하여 모형검사에 불변량을 도입한다. 기 초적인 안전성속성 즉 개페기는 렬차가 지나가자마자 닫겨야 한다는것을 다음의 식으로 표 시할수 있다. ∀ (ㅁ (Track1.Cr ossing ∨ Track2.Cro ssing) ⇒ Gate.Close d) 먼저 이 식을 리용하여 렬차가 지나가고있는데 개페기가 닫기고있다는것을 검증하자. 이 를 위해 Closing상태가 일어난 다음 개페기가 닫기는데 dg 시간 걸린다는 안전성속성을 추 가하여 검사를 진행한다. 렬차가 통과한 후에 두번째 렬차가 같은 경로에 들어선다고 하자. 이것은 상태가 활성화된 후에 NoTrain상태에 대한 완전사건이 즉시에 일어날수 있다면 허 용된다. 대응되는 enter신호는 앞선 exit신호 이전에 Control에 도착한다. 즉 ctl의 부합되는 령역 이 Critical상태에 있을 동안 일어난다. 상태는 enter신호에 대하여 이행을 정의하지 않기때 문에 그것은 무시되며 개페기는 exit신호가 도착할 때 두번째 렬차가 접근하고 통과하는 동 안 열려있는채로 남아있는다. 이것은 개페기조종기에서 오유를 나타낸다. 오유는 Control 상태도에 Critical로부터 Entered상태에로의 이행을 추가하여 수정할수 있는데 enter신호에 의 하여 촉발되여 trains속성을 증가시키고 doOpen신호를 일으킨다. 시간속성을 가지는 UML설계의 정확성을 검사하기 위한 한가지 방법을 제기하였다. 즉 UML상태도와 순차도를 시간자동체로 변환하기 위하여 UML도식들에 대한 모임론적표기 를 새로 정의하였으며 계층적자동체를 시간자동체로 변환하기 위한 방법론을 제기하고 GRC 문제에 적용하였다. 맺 는 말 － 37 － 종합대학학보(자연과학)   주체105(2016)년  제62권  제11호 참 고 문 헌 [1] Rodolphe Arthaud et al.; http://wooddes.intranet.gr/workshop.htm., 2000. [2] Atle Refsdal et al.; Journal of Computer and System Science, 81, 1221, 2015. [3] Samir Ouchani et al.; Expert System with Applications, 41, 2713, 2014. 주체105(2016)년 7월 5일 원고접수 On Model Checking of UML Diagrams with Time Property Han Sok Min, Sung Nam Chol We researched theoretical bases to check its correctness by transforming UML state diagrams with time property and sequence diagram to timed automata using model check tool UPPAAL. Key words: UML, model checking － 38 －