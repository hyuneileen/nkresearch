김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체105(2016)년 제62권 제1호 Vol. 62 No. 1  JUCHE105(2016). 생성된 자료기지상태의 대리자료기지봉사기설정에 의한 처리봉사검사방법 리광, 조영희, 최성혁 오늘날 대규모업무의 분산처리는 중요한 문제로 나서고있으며 그 실현을 위하여 봉 사지향구성방식(SOA)이 리용되고있다. SOA에서 처리봉사는 업무를 여러개의 일감으로 세 분화하고 상태에 따라 이행하는 업무처리를 실현하는 봉사이다.[1] 처리봉사의 검사방법 을 확립하는것은 SOA의 품질을 높이는데서 중요한 문제로 나선다. 선행연구[2]에서 밝힌 상태에 기초한 부분품검사방법에서 상태는 자료기지가 아니라 부분품을 제공하는 봉사기의 기억기에 자료로 보관된다. 한편 선행연구[3]에서 밝힌 웨브봉사검사방법은 요청통보문서술에 의한 검사로서 처 리봉사의 경우에는 맞지 않는다. 그리고 선행연구[1]에서 밝힌 업무처리검사방법은 업무 처리를 실행시키기 위한 초기 요청통보문작성은 진행하지만 업무처리에 대한 검사를 진 행하지 못한다. 론문에서는 처리봉사가 호출하는 기초자료봉사에 주목을 돌리고 기초자료봉사가 접 근하는 자료기지를 각이하게 변경시킴으로써 처리봉사의 실행정형을 각이하게 조절하기 위한 문제점을 설정한데 기초하여 자료기지상태들을 생성하고 이것들을 처리봉사의 검사 실례로 하여 검사를 진행하는 방법을 제기하였다. １．처리봉사검사를 위한 자료기지상태의 생성방법 １）마당의 형과 제한조건을 리용한 자료기지상태의 생성방법 자료기지상태구조의 Structure꼬리표에 있는 Field꼬리표의 Expr속성은 마당의 제한조 건을 밝혀주는 정규표현식으로 표시된다.  다음과 같은 정규표현식실례를 보자. Expr = “>=1990/1/1 & <=2015/1/1 &” | “김*” | “김* & 박*” 여기서 *은 모든 입력을 허용한다. 그리고 김*은 “김”으로 시작되는 문자렬에 대한 입력을 허용하며 김* & 박*은 “김” 혹은 “박”으로 시작되는 문자렬에 대한 입력을 허용한다. 또한 >=1990/1/1 & <=2015/1/1은 1990년 1월 1일부터 2015년 1월 1일까지의 입력을 허용한다. 이와 같은 정규표현식을 리용하여 다음의 세가지 부류의 마당으로 된 기록을 자동생 성한다. ① 제한조건식에 만족되는 입력값을 그 마당의 값으로 설정한다. ② 제한조건식의 경계값으로 되는 입력값을 그 마당의 값으로 설정한다. 이때 마당의 형에 따라 옹근수형, 실수형, 날자형인 경우 제한조건식을 해석하여 입력값의 허용범위를  계산하는데 만일 제한조건식이 있는 경우 론리적(&), 론리합(|), 론리부정(!)기호를 먼저 해 석하고 다음 크기부호(<, >, <=, >=, =)를 해석하며 제한조건식이 없는 경우에는 옹근수형, － 31 － 종합대학학보(자연과학)   주체105(2016)년  제62권  제1호 실수형, 날자형에 대하여 1B(0, －128, +127, 255 등), 2, 4, 8B 등 경계를 우연적으로 생성 한다. ③ 제한조건식의 경계의 웃값과 아래값으로 되는 입력값을 그 마당의 값으로 설정한다. ２）처리봉사의 검사방법 정의 １ 처리봉사그라프를 다음과 같이 정의한다. Gp = (Start, Sp, Tp, End) 여기서 P는 처리봉사를 나타내며 Sp는 P가 호출하는 자료접근봉사, 기초론리봉사, 복합봉 사들의 모임, Start는 P의 시작점, End는 P의 끝점, Tp는 Sp의 한 호출로부터 다른 호출에 로의 이행마디들의 모임이다. 정의 ２ 처리봉사검사실례는 다음과 같이 정의한다. TCp = (Gp, Dp, TargetPathp) 여기서 P는 처리봉사를, Gp는 처리봉사그라프를 의미하며 Dp는 Sp에 포함되는 자료접근 봉사들의 자료기지상태모임, TargetPathp는 P를 검사한 후 일치하여야 할 경로이다. 한편 처리봉사검사실례를 리용하여 처리봉사를 검사하자면 처리봉사의 모든 실행경 로를 처리봉사검사실례의 TargetPathp로 덮을수 있는 Tp를 생성하여야 한다. 정의３ 자료기지상태모임 DBSp는 DBS1×DBS2×DBS3×…×DBSn의 가능한 부분모 임들의 모임으로 정의한다. 여기서 DBSi는 {ri1, ri2, …, riki}로 주어지는 모임으로서 ri1, ri2, …, riki는 Si가 접근하는 자료기지표의 기록모임이다. 그리고 P는 처리봉사, Gp는 처리 봉사그라프, n은 Sp에 포함된 자료접근봉사의 개수, Si는 Sp의 i번째 자료접근봉사이다. 여기로부터 검사실례목록을 확률적으로 생성하는 알고리듬은 다음과 같다. ① CurrentNode에 Start를, DBp에 DBSp를 대입한다. ② CurrentNode가 End이면 ⑦로, 아니면 ③으로 이행한다. ③ CurrentNode와 련결된 마디모임 Tp에 포함된 모든 마디 e에 대하여 걸음 ④부터 ⑥까지 반복한다. ④ e의 끝점으로 되는 봉사호출 Se가 자료접근봉사이면 ⑤로, 아니면 ③으로 이행한다. ⑤ Se로부터 출발하는 마디모임의 원소수 m을 계산한다. ⑥ k에 Tp의 원소개수를 대입한다. DBSp에 포함된 자료기지상태모임가운데서 m/k의 확률로 우연선택한 다음 그 모임을 selectedDBSp라고 하자. 이때 DBp에 DBp와 selectedDBSp의 사귐모임을 대입하고 ②로 이행한다. ⑦ Sp에 포함된 모든 자료접근봉사 s에 대하여 s가 DBp에 포함되면 TCp에 s를 추가 하고 s가 접근하는 자료기지상태가 빈 상태가 아니면 TCp에 s와의 모든 련결마디를 추가 한다. ⑧ DBp에 포함된 모든 원소 Dp에 대하여 봉사흐름공정을 실행한 후 실지 통과한 경 로 TargetPathp를 확정한다. ⑨ TCp = (Gp, Dp, TargetPathp)를 TCpList에 추가한다. 알고리듬에서 Gp, DBSp, n은 입력자료이고 TCpList는 생성된 검사실례목록이다. － 32 － 생성된 자료기지상태의 대리자료기지봉사기설정에 의한 처리봉사검사방법 ２．실험 및 결과분석 TV방송업무의 편집단계에서 송출단계로 넘어가는 업무처리과정은 그림과 같다. 그림에서 자료접근봉사로는 《송 출실의 요구정보얻기》 S1과 《편집 실의 매체정보확인》 S2, 매체전송체 계의 《전송요구》 S3이다. 이외에 《전 송완료대기》 S4는 매체전송체계에서 요구한 매체의 전송이 끝나면 호출 하는 봉사이다. 우리는 S3이 자료쓰기봉사이므 로 S1과 S2에 대하여 론의하고 S1과 S2가 접근하는 편집표와 송출표의 레코드 R11, R12, …, R13들을 생성하였다. 그림. 편집에서 송출로 넘어가는 업무처리 또한 S2가 접근하는 송출자료기지표에 대하여 R21, R22, …, R24의 레코드들을 생성하 였으며 알고리듬에 의하여 50개를 확률적으로 선택한 결과 얻어진 부분모임은 다음과 같다. DB1 = 빈모임 ⋮ DB49 = {(R14, R25), (R13, R28), (R11, R26), (R12, R24), (R12, R28), (R13, R24)} DB50 = 전체모임 여기로부터 얻어진 자료기지상태들의 모임과 검사실례목록은 다음과 같다. DBp = {DB1, DB2, DB3, …, DB50} TCpList = {(Gp, DB1, TCp1), …, (Gp, DB50, TCp50)} 우의 자료기지상태에 기초하여 검사를 진행한 결과 통과한 경로의 일부는 아래와 같다. Start로부터 S1을 거쳐 End로 끝난다. 여기서 S1의 자료기지상태는 빈상태이다. 또한 Start로부터 S1과 S2를 거쳐 End로 끝난다. 여기서 S1의 자료기지상태는 매체상 태가 0인 2개 기록을 포함하며 S2의 자료기지상태는 빈상태이다. 그리고 Start로부터 S1, S2, S3과 S4를 거쳐 End로 끝난다. 여기서 S1의 자료기지상태 는 2개 기록을 포함하며 S2의 자료기지상태는 1개 기록을 포함한다. 처리봉사를 자료기지와 련동하여 자동적으로 검사할수 있게 함으로써 SOA에 기초한 분산체계를 실현하는데서 높은 품질을 담보할수 있게 하였다. 우의 실험을 통하여 생성한 50개의 검사실례중 25개에 대하여 검사를 진행한 결과 생성시간이 11.5s, 검사시간이 15.5s 걸리였다. MS SQL자료기지봉사기와 Oracle자료기지봉 사기를 리용한 경우에 검사에만 총 4.7s, 원격자료기지봉사기를 리용한 경우에는 6.7s 걸 리였다. 맺 는 말 － 33 － 종합대학학보(자연과학)   주체105(2016)년  제62권  제1호 2012. [1] M. Nicolai et al.; SOA in Practice, O’Reilly Media Inc., 81～98, 2007. 참 고 문 헌 [2] Dorothy Graham et al.; Experiences of Test Automation, Pearson Education Inc., 33～48, 2010. [3] Charitha Kankanamge et al.; Web Services Testing with soapUI, Packt Publishing Ltd., 7～30, 주체104(2015)년 9월 5일 원고접수 A Test Approach for Process Service by Setting Proxy Database Server of Generated Database States Ri Kwang, Jo Yong Hui and Choe Song Hyok We suggest a test approach for process service using generated database states. It is able to improve quality in implementing distributed system based on SOA. Key words: process service, database state, SOA(service oriented architecture) － 34 －