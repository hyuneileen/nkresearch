김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체105(2016)년 제62권 제4호 Vol. 62 No. 4  JUCHE105(2016). 그림자화상의 경계검출에서 하르웨블레트와 가우스웨블레트의 비교 서덕철, 김철수 경애하는 동지께서는 다음과 같이 말씀하시였다. 《우주를 정복한 위성과학자들처럼 최첨단돌파전을 힘있게 벌려 나라의 전반적과학기 술을 하루빨리 세계적수준에 올려세워야 합니다.》 비교적 작으면서도 복잡한 기복을 가진 물체면의 3차원형태를 측정하는데서 효과적 인 광학적방법의 하나는 칼날무늬투영법이다.[1－3] 이 방법에서 측정정확도를 높이는 관 건적인 문제는 물체면에 투영된 칼날그림자화상의 경계를 정확하게 검출하는것이다. 지금 까지 웨블레트변환을 리용하여 칼날그림자화상의 경계를 검출하는데서는 주로 가우스 (Gaus)웨블레트를 리용하고있다.[1, 2] 우리는 그림자화상의 경계검출에서 보다 합리적인 하르(Harr)웨블레트[3]를 리용하였다. 1. 자동화된 칼날투영무늬주사체계의 구성 칼날투영광학계와 결상광학계의 구성체계는 그림 1과 같다. 광학계에서 칼날은 물체면에 수직으로 투영되며 수감부광축은 물체면과 θ 만큼 각지어있다. 투영광 학계의 광축에서 볼 때 칼날은 기준면에 대하여 점 O 에, 측정면에 대하여 점 A 에 있는것으로 볼수 있 으며 수감광학계의 광축에서 볼 때 칼날은 기준면우 의 위치 O 에서부터 일정한 거리만큼 떨어진 점 C 에 있게 된다. 따라서 수감면에서 모서리영상은 물 체면의 높이 에 따라 AC 만큼 밀리게 된다. yxh ,( ) 콤퓨터에서 기준선으로부터의 모서리밀림 AC 는 화 소단위로 계산되며 실지값은 측정체계를 눈금새김하 여 결정할수 있다. 물체전면에 대한 3차원정보는 칼 날을 물체면을 따라 주사하여 얻은 모서리자료들을 차례로 배렬하는 방법으로 얻을수 있다. 우리는 콤퓨터를 리용하여 측정물체를 정밀하 게 미동조종하는 방식으로 물체면의 국부구역에 투 영된 무늬를 주사하여 일정한 크기의 면적에 대한 3차원형태를 측정하였다. 측정장치에서 리용한 HB형2 － 44 － 그림 1. 칼날투영광학계와 결상광학계의 구성체계 1－광원, 2－집광렌즈, 3－칼날, 4－투영렌즈, 5－측정물체, 6－결상렌즈, 7－경통, 8－CCD, 9－콤퓨터, 10－주사장치 그림자화상의 경계검출에서 하르웨블레트와 가우스웨블레트의 비교 상단극형걸음전동기의 1개 걸음당 회전각도는 1.8o이며 미크로메터의 눈금분해능을 고려 하여 4개 걸음을 한 단위 즉 10μm를 단위로 걸음을 조종하였다. 따라서 미동요소의 구 동에는 추가적인 변속장치가 필요없으며 걸음전동기의 주축을 미크로메터의 손잡이와 직결하여 미동을 조종하였다. x-y미동주사장치의 위치설정정확도는 1μm이다. 광학계에서는 물체면우에 칼날영상을 뚜렷하게 투영하기 위하여 영상의 확대배률을 0.5배이하로 제한하여 조명폭이 10mm정도로 되게 하였다. 한편 측정면의 크기가 상대적 으로 작은것만큼 투영무늬를 일정한 배률로 확대관측하기 위하여 초점거리가 35～85mm 인 결상렌즈와 CCD수감부사이에 일정한 길이의 경통을 설치하여 관측광학계의 확대배률 을 높이였다. 경통길이가 80mm인 때 이 광학계를 가지고 크기가 2mm×3mm인 상대적으 로 작은 면적을 750화소×480화소의 수자화상으로 넘길수 있다. ２．웨블레트변환에 의한 경계검출에서 가우스웨블레트와 하르웨블레트의 비교 칼날투영법에 의한 3차원형태측정의 정밀정확도는 그림자화상의 모서리검출알고리듬 의 정확도에 의하여 결정된다. 여기서 중요한 문제는 투영화상의 경계를 1화소의 두께로 결정하는것이다. 화상처리단계에서 이 요구를 만족시키는 가장 합리적인 방도는 련속웨블 레트변환(CWT)을 리용하는것이다. 시간변화신호 )(ts 의 련속웨블레트변환은 신호와 토대웨블레트 tbaψ )( , 의 적의 적분 으로 정의한다. ,( baW ) = s )( ts * ,ψ ba )( t dt (1) +∞ ∫ ∞− ⎞ , ∈⎟ ⎠ )(tψ 는 기본웨블레트이며 a 는 신호의 주파수에 관계되는 척도인자, b 는 시간밀 (2) bt ⎛ − ψ ⎜ a ⎝ aRb tba )( , ψ > = 0 a 1 , 여기서 림이다. 식 (2)로부터 식 (1)은 다음과 같이 쓸수 있다. ,( baWs ) = 1 a +∞ ∫ ∞− )( ts * ψ bt ⎛ − ⎜ a ⎝ ⎞ ⎟ ⎠ dt (3) 식 (3)은 일정한 ba, 값을 가진 신호와 토대웨블레트사이의 상관과정으로 볼수 있다. 신호의 웨블레트변환은 척도인자를 각이하게 변화시키면서 시간밀림(수자화상의 경 우 자리표밀림)에 따라 진행되며 결국 척도와 밀기 를 자리표축으로 하는 웨블레트변환곁수화상을 얻 게 된다. 그림 2는 실험에서 얻은 투영화상의 한 자름면 자료에서 회색준위분포곡선을 보여준다. 그림 2에서 보는바와 같이 투영 및 수감광학계 의 에돌이와 수차특성들로 하여 경계부분의 두께는 항상 하나이상의 화소들로 이루어져있다. － 45 － 그림 2. 투영화상의 한 자름면자료에서 회색준위분포 종합대학학보(자연과학)   주체105(2016)년  제62권  제4호 그중에서 경계를 대표하는 하나의 화소를 특별한 화상처리를 거치지 않고 검출하려 면 웨블레트변환을 리용하는것이 가장 합리적이다. 웨블레트변환에서 가장 중요한 문제의 하나는 신호의 특성과 류사한 웨블레트를 선택 하는것이다. 그림자화상의 특징은 밝고 어두움의 경계가 비교적 뚜렷한것이다. 이러한 급격 한 신호변화특성과 류사한 기본웨블레트들은 하르웨블레트와 가우스웨블레트이다.(그림 3) ㄱ) ㄴ) 그림 3. 가우스웨블레트(ㄱ))와 하르웨블레트(ㄴ))의 형태 그림 4는 그림 2에서 보여준 회색준위분포를 가우스와 하르웨블레트로 변환하였을 때 척도와 밀기에 따르는 웨블레트변환곁수의 등고선분포를 보여준다. 여기서 기본은 상 관곁수의 극대선이다. ㄱ) ㄴ) 그림 4. 가우스웨블레트(ㄱ))와 하르웨블레트(ㄴ))로 변환하였을 때 척도와  밀기에 따르는 웨블레트변환곁수의 등고선분포 그림 4에서 보는바와 같이 하르웨블레트를 리용하였을 때에는 화상의 봉우리가 예리 하면서도 척도에 관계없이 극대선의 위치가 상대적으로 일정하지만 가우스웨블레트의 경 우에는 봉우리가 척도가 커짐에 따라 둔해지면서 그 위치도 변한다. 그것은 하르웨블레트 의 형태가 직각계단형이며 척도에 따라 그 모양이 변하지 않지만 가우스웨블레트에서는 극대와 극소봉우리사이의 세로방향간격이 척도에 따라 변하는것과 관련되여있다. 이것은 하르웨블레트에서는 척도변화가 경계검출에 큰 영향을 주지 않지만 가우스웨블레트에서 는 척도를 어떻게 설정하는가에 따라 경계검출정확도가 달라진다는것을 의미한다. 가우스 웨블레트에서는 척도가 작을 때(대략 30이하) 봉우리가 상대적으로 예리하면서 그 위치도 고정되여있으나 그 값이 커지면 극대부분이 둔해지면서 그 위치도 작은 밀기값쪽으로 이 동한다. 따라서 가우스웨블레트의 경우에는 작은 척도에서 변환을 진행하여야 정확한 결 과를 얻을수 있다. 실험에서는 그림자화상이외에 물체면에 있을수 있는 각이한 결함(실례로 흠집 등)으 － 46 － 그림자화상의 경계검출에서 하르웨블레트와 가우스웨블레트의 비교 로 하여 척도를 상대적으로 작게 정하여야 할 필 요와 함께 측정속도를 높이기 위하여 경계가 나 타나는 구역만을 따로 선택하여 처리할 문제가 자주 제기되는데 이때 가우스웨블레트를 선택하 면 정확한 경계를 검출할수 없다. 하지만 하르웨 블레트를 리용하면 척도에 관계없이 경계위치가 예리하고 변하지 않으므로 화상처리가 보다 단순 하면서도 정확하다. 그림 5는 그림 1에서 보여준 광학계와 하르 웨블레트에 기초한 그림자화상의 웨블레트변환을 리용하여 측정한 mm크기의 작은 물체면의 3차원측정자료를 보여준다. 그림 5. 3차원측정자료의 한 례 맺 는 말 론문에서는 3차원형태측정의 한가지 방법인 칼날투영법에서 그림자화상의 경계를 웨 블레트변환법을 리용하여 검출하는데서 제기되는 문제들을 론의하였다. 웨블레트변환에 의한 그림자화상의 경계검출에서 자주 리용하는것은 가우스웨블레트 와 하르웨블레트이지만 그가운데서 하르웨블레트를 리용하면 척도에 관계없이 경계위치 가 예리하고 변하지 않으므로 화상처리가 보다 단순하면서도 정확하다. [1] 리은희 등; 물리, 3, 27, 주체100(2011). 참 고 문 헌 [2] C. G. Quan et al.; Applied Optics, 45, 20, 4815, 2006. [3] F. Y. Mao et al.; Optics & Laser Technology, 49, 343, 2013. 주체104(2015)년 12월 5일 원고접수 Comparison between Harr and Gaussian Wavelets in Edge Extraction of Shadow Images So Tok Chol, Kim Chol Su Some problems are considered in edge extraction of shadow images by wavelet transformation in knife edge projection, a method for 3 dimensional shape measurement. Harr and Gaussian wavelet are often used in edge extraction of shadow images by wavelet transformation, but the image processing with Harr wavelet is more simple and accurate because the edge positions determined by it are sharp and unchangeable independent on wavelet scales. Key words: Harr wavelet, edge extraction, shadow image － 47 －