김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체105(2016)년 제62권 제7호 Vol. 62 No. 7  JUCHE105(2016). 규칙모형과 회귀모형을 결합한 다입력1출력 모형작성에 대한 한가지 연구 안현일, 최은철 경애하는 동지께서는 다음과 같이 말씀하시였다. 《인민경제 모든 부문에서 과학기술발전에 선차적인 힘을 넣고 과학기술과 생산을 밀착시켜 우리의 자원과 기술로 생산을 늘이며 나아가서 설비와 생산공정의 CNC화, 무인화를 적극 실현하여야 합니다.》 대상이 열공학적인 특성이나 화학반응의 특성, 기구학적인 비선형성 등과 같이 복잡한 특성을 가지는 경우에는 모형화에 많은 품이 든다.[1－4] 이 문제를 해결하기 위해 우리는 규칙모형과 회귀모형을 결합한 다입력1출력모형을 작성하는 한가지 방법을 제안한다. 다입력1출력(MISO)체계는 전건부변수가 m 개인 모호규칙으로 표시할수 있다.[2, 3] i R : IF kx )( 1 is i xA , 1 k )( is i A 2 , , L k )( is i A m THEN )(ky i 는 l ( l i ky )( ,1= p = a + i kxa )( 11 )번째 측정자료쌍 L + + 2 i 0 x m i xa m k )( m (1) ( x l 1 ( k ), x 2 l ( k ), , L x ml ( k )) 에 대한 여기서 i ,1= n 이고 추론출력이다. 모호모형에 대한 동정과정은 전건부의 구조와 파라메터를 안다는 가정밑에서 최량인 후 건부를 얻고 다음에 전건부를 수정하는 반복조작과정으로서 알고리듬이 복잡하고 계산량 이 많다.[2] 결론적으로 말하면 후건부가 선형모형인것으로 하여 전건부변수에 의한 모호분할이 잘 되지 못하면 비선형성에 대한 선형근사화의 정확도가 심히 떨어질수 있다. 한편 회귀선형방정식에 대한 선행연구[4]결과들에서는 전체 구간에서의 변수변화를 반 영하여 방정식의 파라메터를 결정하기때문에 비선형성에 대한 근사화가 힘들게 되여있다. 이러한 문제점들로부터 우리는 모호규칙형식으로 모형을 표시하고 규칙의 전건부변수 들로는 출력에 대한 상관곁수가 큰 변수를, 후건부함수로는 다차원비선형방정식을 선정 하고 다입력1출력비선형체계를 규칙모형과 회귀모형을 결합하여 모형화하는 문제를 설 정한다. 이러한 설정근거는 입출력측정자료가 주어지는 경우에 상관곁수나 회귀모형의 파라메 터를 MATLAB의 도구들에서 쉽게 계산할수 있으므로 모형을 쉽게 작성할수 있고 대상의 복 잡한 비선형성도 극복할수 있기때문이다. 대상특성의 비선형성은 우선 규칙들을 결정하는 과정에 근사화되며 다음으로 회귀모 형의 변수들을 비선형변수로 만듦으로써 극복된다. － 33 － 종합대학학보(자연과학)   주체105(2016)년  제62권  제7호 １．모호규칙모형결정 모형화의 결과로 얻어진 규칙모형은 다음과 같은 평가함수로 정확도를 평가할수 있다. J = ( y k − 2)ˆ y k (2) 1 p p ∑ k 1 = 여기서 p 는 측정자료쌍, kyˆ 은 k 번째 자료쌍에 대한 모호모형의 출력, ky 는 k 번째 측정자료쌍에서의 출력값이다. 모형작성은 평가함수값이 최소로 되는 규칙의 전건부와 후건부에 대한 구조와 변수의 개수, 파라메터를 결정하면 끝난다. 선행연구들에서 밝힌 변수소거법에 의한 한가지 동정알고리듬은 다음과 같다.[2] ① 전건부에 1개의 변수만을 가진 구조를 생각하고 후건부의 선형모형을 동정한 다음에 )1(J 로 제일 작은 평가함수값을 계산하여 표시하고 그 모형의 전건부구조를 STR 로 )1( 표시한다. { small } 범위를 ② 전건부의 매개 변수 과 의 = 로 분할한 m 개의 { large } 다음과 같은 모호모형(그림 1의 ㄱ))들에서 m 개 후건부파라메터들을 동정한다. xi m ,1 ) ( i 그림 1. 가능한 전건부구조 1 R IF: x i is { small }, THEN ; ⋅⋅⋅ 2 R IF: x i {is large }, THEN ; ⋅⋅⋅ STR 로 표시한다. 매개 모형에서 평가함수값이 가장 작은 값과 그 모형의 전건부구조를 각각 )2( ③ STR(2)의 전건부변수가 ix 라면 다음단계에서는 로 모호분할을 하거나(그림 1의 ㄴ)) 다른 변수 jx 를 결합하여 그림 1의 ㄷ)와 ㄹ)와 같은 전건부를 구성할수도 있다. )2(J 와 { medium { small } { large } , , } 구성된 그림 1의 ㄴ), ㄷ), ㄹ)의 전건부구조는 다음과 같다. 1 R 2 R 3 R ⎧ ⎪⎪ ⎨ ⎪ ⎪ ⎩ IF: IF: IF: x i x i x i {is small }, THEN ; ⋅⋅⋅ {is medium }, THEN ; ⋅⋅⋅ is { large }, THEN ; ⋅⋅⋅ 1 R IF: 2 R IF: 3 R IF: ⎧ ⎪ ⎪ ⎨ ⎪ ⎪ ⎩ x i x i x i is small { 1 } and x j {is small }, 2 THEN ; ⋅⋅⋅ is small { 1 } and x j {is large }, 2 THEN ; ⋅⋅⋅ {is large 1 }, THEN ; ⋅⋅⋅ － 34 － 규칙모형과 회귀모형을 결합한 다입력1출력모형작성에 대한 한가지 연구 1 R IF: 2 R IF: x i x i 3 R IF: ⎧ ⎪⎪ ⎨ ⎪ ⎪ ⎩ {is small 1 ,} THEN ; ⋅⋅⋅ is large { 1 } and x j {is small }, 2 THEN ; ⋅⋅⋅ x i {is large 1 } and x j {is large ,} 2 THEN ; ⋅⋅⋅ 매개의 전건부구조에 따르는 후건부파라메터를 동정하고 J 값이 가장 작은 모호모형의 J 와 전건부구조를 각각 )3(J 과 STR(3)으로 표시한다. ④ 3>i 이면 i－1단계의 )1 ( −iJ { medium { small } , 과 STR(i－1)을 표시하고 STR(i－1)의 전건부변수들중 로 모호분할하든가 혹은 새로운 전건부변수를 , } { large } 하나만을 고려하여 STR(i－1)과 결합하여 분할하고 후건부파라메터들을 동정한다. 이때 J 가 가장 작은 모호모형의 J 와 전건부구조를 각각 )(iJ 와 STR(i)로 표시한다. iJ )( ⑤ − )1 iJ ( − )( iJ ε< ( 0>ε 은 미리 결정한 작은 값)이면 탐색을 중지하고 모형의 가장 적합한 전건부구조를 STR(i)로 하며 그렇지 않으면 ④로 이행한다. 이 알고리듬의 걸음 ②에서부터 )1(J 보다 더 큰 전건부변수는 다음걸음들의 전건부들에서 취급하지 않는다. 변수들만 선택하는 방법을 제안한다. 우리는 전건부의 전체 변수들을 처음부터 취급하지 않고 출력과 가장 큰 상관값을 가지는 이때 후건부의 함수로는 선행연구의 선형함수와는 달리 비선형변수들을 가지는 다입력1출력비선형함수를 선정한다. 제안한 알고리듬은 다음과 같다. ① 출력에 대한 입력변수들과 입력변수들의 제곱, 변수들을 곱한 량들의 상관곁수들을 구하고 전체 변수들의 상관곁수들의 평균값보다 큰 상관곁수값을 가지는 변수들만을 전건부의 변수들로 선택한다. ② 1개의 변수만을 가진 전건부구조에서 후건부의 초기모형의 평가함수값을 계산하고 제일 작은 평가함수값은 )1(J 로, 전건부구조는 STR 로 표시한다. )1( ③ 선행한 알고리듬의 ②－⑤와 같다. 제안된 알고리듬을 리용하면 출력에 영향을 주는 모든 변수들에 대하여 매개를 검사하지 않아도 되며 후건부에 대한 동정프로그람을 작성하지 않아도 된다. ２．회귀모형에서 회귀변수들에 대한 결정방법 우리는 후건부함수를 다음과 같이 선택하였다. tmb ( 1 tya ( 1 )1 +− ny − ty )( = + + a ( ) a L n a 여기서 )(te 는 백색잡음, y 는 출력, m 은 입력이다. 1 − − − 1 + L + qa n a n a , )( qb = qb 1 여기에 qa 1)( += qa 1 다음과 같이 된다. )1 +− L + ntmb ( n b b − ) + te )( (3) + L + qb n b − n b 를 도입하면 회귀모형은 여기서 )( qB = [ qbqb )( 1 )( 2 L ( qb n )], )( tm = [ )( tmtm )( 2 1 L ( tm n 이다. ty )( = qa )( tmqb )( )( =+ tmqBe )( )( (4) 1 − + e T )] － 35 － 종합대학학보(자연과학)   주체105(2016)년  제62권  제7호 회귀모형의 변수들을 비선형으로 만들기 위하여 출력에 대하여 상관곁수가 큰 변수들과 그 변수들의 제곱이나 변수들의 곱한 량을 회귀모형의 입력변수들로 선정하였다. 초기후건부의 구조로부터 최종후건부의 구조는 전건부변수들이 최종적으로 결정된 다음에 후건부의 함수에서 상관곁수가 작은 순서로부터 하나씩 소거하면서 평가함수값이 더 작아지지 않을 때까지 하여 결정한다. ３．모의실험 및 결과분석 초고전력전기로에서 차지당 유효적산전력량을 결정하는 모형작성에 대한 모의결과를 보면 다음과 같다. １）회귀모형에 대한 모의결과 초고전력전기로에서 차지당 유효적산전력인 출력 y 에 영향을 주는 인자를 iv ( 6,1=i )로 표시하고 측정자료들로부터 상관곁수를 구하면 표와 같다. y 1v 표. 계산된 상관곁수표 2v 3v 4v 5v 6v 0.113 4 －0.106 5 1 －0.718 7 －0.466 4 －0.228 0 0.118 7 0.037 4 0.325 0 －0.102 6 －0.178 5 －0.063 8 0.082 8 1 1 인자 1v  2v  3v  4v  5v  6v －0.388 9 0.517 1 0.208 9 0.424 4 0.160 7 0.300 0 1 0.069 5 0.250 5 1 0.180 0 1 표에서 출력변수 y 는 출력으로 표시된 량, 입력변수 1v 은 장입물 1의 량, 2v 는 장입 물 2의 량, 3v 은 장입물 3의 량, 4v 는 출력에 영향을 주는 인자 1, 5v 는 출력에 영향을 주 는 인자 2, 6v 은 출력에 영향을 주는 인자 3이며 대상의 특성은 열화학반응을 동반하고 관 성과 지연이 매우 큰것이다. 상관곁수를 고려하여 후건부의 변수들을 다음과 같이 선정한다. , m + × = v v vm = , v 1 , 1 m = 5 vm = 2 m = 6 v 5 4 2 , , vm = × 1 3 , m = 7 v 6 v 3 4 vm = 1 8 , v × 5 4 , v 1 m = 9 2 v 2 / v 1 규칙을 작성하지 않고 모든 변수들을 리용한 회귀모형 (4)에 대한 모의결과와 파라메 터동정결과는 다음과 같다. 여기서 )( qB qb [ )( 1 = L 모의결과 계산된 =qB )( [ = )], tm )( 1 qb ( )( tm 9 )(qB 값은 다음과 같다. [0.854 1, L − 6, 0.179 0.009 6, 66, − − 0.002 0.002 624,  499, 0.010 23, 1.802] 0.878 7, 0.243 ty )( tmqB )( )( = Ttm ( )] 9 이다. (5) 수십차례의 모의실험을 한 결과 실지측정값과 계산평균값과의 오차는 0.08～0.8로서 모 형화가 잘되지 않았다. 입력자료를 [－1, 1]사이값을 가지도록 표준화하였을 때에도 파라메 터만 변할뿐 성능개선이 전혀 없었다. － 36 － 규칙모형과 회귀모형을 결합한 다입력1출력모형작성에 대한 한가지 연구 ２）모호규칙에 의한 모형화 모의결과 상관곁수가 큰 변수들을 조합하여 가능한 전건부변수들을 다음과 같이 만든다. , vm = , , , , m × = × v v v v vm = 8 1 v 5 m = 9 / v 1 2 m = 2 2 m = 5 4 1 1 v 1 2 4 이 변수들과 출력과의 상관곁수를 구하면 상관곁수가 제일 큰 변수들의 순서로는 mmm 5 9 , , 4 이다. 이 변수들로 전건부변수를 선택하고 제안한 알고리듬에 의하여 평가함수값을 계산하 가 제일 크기때문에 이 변수들을 전건부변수로 선정하고 매 인자들이 같은 중 9 , mm 5 면 요도를 가지도록 표준화를 진행하였다. 다음 후건부함수에서 변수들을 차례로 소거하면서 평 가함수값을 구하여 모형을 완성하면 다음의 결과가 나온다. R1: IF 9m is S[0.08, 0.64] and 5m is S[0.03, 0.88]  THEN ty )( 1 R2: IF 9m is S[0.08, 0.64] and 5m is B [0.04, 1.48] THEN ty )( 2 R3: IF 9m is B[0.18, 1.0] and 5m is S[0.027, 0.88] THEN ty )( 3 R4: IF 9m is M[0.18, 1.0, 1.7, 2.16] and 5m is B[－0.41, 1.48] THEN R5: IF 9m is B[1.8, 3.0] and 5m is B[0.14, 1.48] THEN = ty )( 5 = .4 954 + = .2 778 + −= .240 499 tmqB )( )( 1 tmqB )( )( 2 tmqB )( )( + 3 tmqB )( )( .1)( = 031 + ty 4 .18 195 + 4 tmqB )( )( 5 이며 S는 Small, M은 Medium, B는 Big를 표시하며 이것들의 )( tm 여기서 )( tm 1 L 성원함수형태는 그림 2와 같다. Ttm ( )] 9 = [ 그림 2. 전건부변수의 성원함수형태 ㄱ) Small일 때, ㄴ) Medium일 때, ㄷ) Big일 때 이때 파라메터결과값은 다음과 같다. =)(1 qB =)(2 qB [884.72, 19.55, 0, －7.36, 0, －42.947, 0.017, 0.37, 45.95] [－194.5, 0.173, 0, 1.499 2, －16.67, 6.375 4, 0.011 3, 0.073, 5 091.22] =)(3 qB [384.4, 10.35, 0, 3.42, 0, －18.67, 0.029, 0.753 6, 87.81] =)(4 qB [2.571 8, 0.047 5, 0, 0.077, 4.383 2, 0.394 2, 0.049 6, 0.006 7, －88.630 9] =)(5 qB [－10.89, 0.39, 0, 0.284, 14.74, 3.076, 0.714, －0.126 3, －15.887 4] 그림 3에서 보는바와 같이 제안된 모형에 대한 모의결과 상대오차는 0.33%로서 매우 작 았으며 정확도는 99.7%로서 실제출력에 매우 근사하였다. － 37 － 그림 3. 회귀모형과 제안한 방법과의 비교곡선 1－실제출력, 2－회귀모형 (5)의 출력, 3－제안된 방법의 출력 종합대학학보(자연과학)   주체105(2016)년  제62권  제7호 규칙모형과 회귀모형을 결합하여 모형을 작성하는 한가지 방법을 제안하고 초고전력 전기로의 운전자료에 기초한 모의실험으로 효과성을 검증하였다. 제안한 방법은 각이한 다 입력1출력비선형체계에 대한 모형작성에 널리 리용할수 있다. 맺 는 말 참 고 문 헌 [1] A. M. O. Haruni et al.; Australasian Universities Power Engineering Conference(AUPEC'08), 205, 2008. [2] Huaguang Zhang et al.; Fuzzy Modeling and Fuzzy Control, Birkhauser Press, 33～62, 2009. [3] Ashutosh Tewari et al.; Applied Soft Computing, 10, 2, 481, 2010. [4] 何金田 等; 智能传感器原理-设计与应用, 电子工业出版社, 41～120, 2012. 주체105(2016)년 3월 5일 원고접수 A Study on the MISO-Modeling combined Rule Model and Regression Model An Hyon Il, Choe Un Chol We studied a method on the modeling combined rule model and regression model, and validated the effectiveness of our method through the simulation with field operation data in UHP. Key words: regression model, fuzzy model, correlation, identification － 38 －