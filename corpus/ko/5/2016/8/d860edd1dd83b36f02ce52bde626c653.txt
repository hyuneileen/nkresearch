김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체105(2016)년 제62권 제8호 Vol. 62 No. 8  JUCHE105(2016). HSI색공간에서 류사성평가에 기초한  새로운 색화상모자이크화 리금수, 한남철 현재 우리 나라에서는 각이한 계렬의 위성화상들과 서로 다른 시기의 위성화상들이 리 용되고있는데 그것으로 하여 위성화상들의 색상이 서로 차이난다. 따라서 리용자들이 위성 화상을 벡토르자료와 결합하여 리용할 때 지도묘사의 질이 떨어지는 현상이 나타난다. 우리는 위성화상을 리용하여 화상정합과 화상평활화단계로 이루어진 모자이크화에 대 하여 연구하였다. １．화상정합단계 화상정합단계는 2개의 린접한 화상들사이의 상대적인 위치를 계산하는 단계이다. 위성화상들의 색상이 차이나는것은 위성화상원천이 다르고 촬영시점이 서로 다른데 있 으며 색상이 같은 정사화상을 얻자면 해당 봉사기관에서만 봉사를 받아야 하는데 이것은 우 리 나라 실정에 맞지 않는다. 지금까지 위성화상의 색상을 일치시키기 위한 연구사업도 일정하게 진행되여왔지만 역 시 변환과정에 정보류실을 초래하였다. 서 화상을 모자이크화하여야 한다. 화상모자이크에서 색정보의 류실을 없애자면 색화상을 그대로 리용하는 HIS색공간에 2개의 서로 다른 색상의 화상을 모자이크화하는데서 기본은 화상정합이다.  화상정합은 차이나는 색의 측정방법과 특징형태추출로 이루어진다.  색상에서의 차이를 측정하기 위하여 JPEG 2000방식으로 되여있는 위성화상을 HSI색 공간으로 넘긴다. 그것은 HSI색공간이 다른 색공간들보다 색에 대한 인간의 시각적특성들 을 더 잘 만족시켜주기때문에 RGB색공간을 HSI색공간으로 변형하여 처리를 진행한다.[1] 와 같은 령역이 반영된 서로 다른 색상의 화상들의 화소값들이 각각 ′ , 로 표시될 때 다음과 같은 식이 성립한다. bgrc ,( ′ , bg ′ ( rc ′ ) ) , 1개 색의 R, G, B값들이 또 다른 색의 R, G, B값에 비례한다고 할 때 그것들의 색상 r ′ r = g ′ g b ′ b = = k (1) 과 색포화도는 동등하지만 색의 세기는 다른 색의 k배이다. 우의 식으로부터 다음과 같은 3개의 식을 얻을수 있다. gr ′×=′× rg ′×=′× rb br , , 식 (2)에서 2개의 식이 성립된다면 다른 식도 성립된다. － 129－ bg ′×=′× gb (2) 종합대학학보(자연과학)   주체105(2016)년  제62권  제8호 다음 2개의 색차이값들은 Erg rggr ' ×−×= | ,|' Ebg bggb ' ×−×= | |' 이다. 만일 Erg와 Ebg가 작다면 두 색의 색포화도와 색상은 비슷하다. HSI색공간에서 색상과 색포화도는 주로 색의 종류를 결정하고 Erg와 Ebg의 합은 두 색 의 차이를 측정하는데 쓰인다.[2] 특징령역추출은 서로 다른 색상의 두 화상에서 같은 내용을 묘사하는 령역의 추출이 다. 화상의 모자이크화를 진행하자면 화상들사이에 같은 내용을 가지는 중복령역들이 있어 야 하며 두 화상의 중복령역에서 특징이 같게 추출되여야 한다. 적합한 특징점들을 검색하기 위하여 3차원행렬 L . 여기서 ic 는 HSI색공간에서의 화소의 색벡토르를 표 을 HSI색공간에서 얻 c ,{ 1 nc C = } c 2 , , 는다. 즉 c i = ,( gr i i , b i T ,) i = ,2,1 , L n 시하며 n은 특징점들의 화소수. 화소점 ic 와 jc 사이에 류사도를 표현하는 적합성곁수는 다음과 같다. ρ , i = ( r i × r j + g i × g + b i × b ) j j j 2 r i + g 2 i + 2 b i × r 2 j + g 2 j + b 2 j (3) ⎛ ⎜ ⎝ ⎞ ⎟ ⎠ C에서의 색벡토르들의 모든 적합성곁수들의 합이 λ로 정의된다. λ값은 C에서 요소들에 따르는 류사성정도를 표시하며 이 값이 작으면 특징령역으로 추 출된다. 정된다.[2] 정합위치의 확정을 위하여 초기의 두 화상을 일정한 크기의 블로크들로 분할하여 2개 의 화상쪼각사이 적합성판단을 진행한다. 특징령역의 선택에 기초하여 화상들의 중복령역에서 화상정합위치는 다음과 같이 결 sum ( nm , ) = iE ,( j ) (4) n m ∑ ∑ 1 1 j i = = 여기서 iE ,( j ) 는 분할된 화상에서의 색상과 색포화도를 나타내는 세기, sum ( nm 은 크기 ) , 가 nm × 인 화상에서의 세기의 합이다.  1개 화상에서 추출된 특징령역을 가지고 중복되는 부분에서 식의 값을 계산한다. 계산된 값이 최소로 되는 위치가 바로 확정된 정합위치이다. ２．화상평활화 화상평활화는 전체 모자이크화된 화상에서 결합된 부분에 대한 색조절단계이다. 화상정합단계에서 서술한 방법을 리용하여 중복령역과 정합위치를 확정하였으며 이에 기초하여 중복령역에서 색상을 일치시켜야 한다. 사람의 시각이 화상에서 매우 민감하기때문에 화상의 중복령역에서 조화를 잘 맞추어 야 한다. 서로 다른 시기에 찍은 밝기가 차이나는 위성화상은 사용자들이 위성화상과 벡토르자 료를 결합한 수자지도를 제작하는데서 미적가치를 떨구게 되는데 이러한 현상은 위성화상 계렬이 단일하지 못한것으로 하여 위성화상에 없는 지역에 대해서는 계렬이 서로 다른 위 성화상이나 갱신되지 못한 자료를 리용함으로써 나타나는 현상이다.(그림) － 130－ HSI색공간에서 류사성평가에 기초한 새로운 색화상모자이크화 그림. 밝기가 서로 다른 두 위성화상 두 화상의 색상을 일치시키기 위하여 화상평활화를 진행하는데 원화상과 그것에 일치 시키려는 화상사이 최소두제곱평균을 리용하여 밝기차이를 없앤다. 즉 2개의 화상에서 존 재하는 중첩부분에서 최소두제곱평균을 구하여 파라메터들을 계산하고 얻은 상수값들을 토 대로 하여 나머지부분에서 화상평활화를 진행한다. 색화상모자이크화는 밝기차이를 가지는 련속적인 화상들에 대한 모자이크화에서 좋은 성능과 좋은 계산효률성을 가진다는것을 보여준다. 이 방법은 위성화상을 모자이크화하는데 널리 리용할수 있다. 맺 는 말 참 고 문 헌 [1] F. M. Pellegrini et al.; Computers & Geosciences, 40, 200, 2012. [2] D. A. Jerram et al.; Computers & Geosciences, 37, 1850, 2011. 주체105(2016)년 4월 5일 원고접수 New Color Image Mosaic Method based on Similarity Estimation in HSI Color Space Ri Kum Su, Han Nam Chol We accorded two images of different color tones based on similarity estimation in HIS color space. This way can be used to accord color tones of satellite image. Key words: image fusion, image mosaic － 131－