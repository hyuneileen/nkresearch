김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체105(2016)년 제62권 제10호 Vol. 62 No. 10  JUCHE105(2016). ESB업무흐름공정실행의 믿음성제고를 위한 오유회복실현의 한가지 방법 조남혁, 변영일 ESB는 봉사를 리용하여 업무체계들의 유연성과 호상작용성을 최대로 높이는것을 목적 으로 하는 업무체계들의 통합방식인 봉사지향구성방식의 실현을 지원하는 쏘프트웨어하부 구조로서 분산환경에서 응용프로그람을 구축하기 위한 유연한 해결방법으로 되고있다. 봉사선택과 호출의 효과성개선을 위하여 최량의 봉사들을 미리 결합하거나 일부 봉 사실패의 가능성을 감소시키기 위하여 반결합을 가진 다중준위요청을 제기하는 방법들을 비롯하여 ESB체계의 기능확장을 실현함으로써 업무통합의 효률과 흐름공정실행의 믿음 성을 제고하기 위한 연구[1, 2]들이 진행되고있다. 그러나 현재 DYESB는 업무흐름공정의 실행과정에 발생하는 봉사오유나 실패들을 빠른 시간내에 처리하지 못함으로써 업무처리 의 믿음성을 높이기 위한 기능을 충분히 제공하지 못하고있다. 이로부터 론문에서는 ESB업무흐름공정의 실행과정에 발생하는 봉사오유나 실패들에 대한 회복처리를 제공함으로써 업무처리의 믿음성을 제고할수 있는 한가지 방법을 제기 한다. １．흐름공정실행의 믿음성지원을 위한 확장ESB체계의 설계 업무흐름공정실행의 믿음성지원기능을 제공하는 ESB체계를 개발하기 위하여 먼저 DYESB체계에서 실행되는 업무흐름공정 9개의 흐름공정개체 1 000여개에 대한 분석을 진행하 였으며 그 결과 실행과정에 나타나는 봉사오유형태들과 그것의 출현빈도는 표 1과 같다. 표 1. 흐름공정개체의 실행과정에 발생하는 오유형태와 출현빈도 번호 1 오유형태 출현빈도/% 봉사내부오유 42.4 업무흐름공정의 실행과정에 발생하는 오유형태와 출현빈도에 대한 우의 분석으 로부터 DYESB체계가 제공하는 흐름공정 실행의 믿음성지원기능들에 대한 특성을 해석하면 다음과 같다. 봉사배치오유 4.3 32.7 2 3 업무흐름공정의 론리적오유 4 외부체계의 환경설정오유 ① 감시기(DYESBMonitor)를 리용한 관 리자의 피동적인 감시를 제외하고 업무흐름 공정실행과정에 발생하는 오유들을 체계가 능동적으로 알려주도록 하는 기능이 제공되 지 않는다는것이다. 현재의 체계에서는 관리 자가 감시기대면부를 통하여 봉사오유 및 흐름공정실패가 발생하는가를 주기적으로 확인하는 방법으로 오유 및 실패들에 대한 감시를 진행한다. 기타 오유 11.9 8.7 5 － 42 － ESB업무흐름공정실행의 믿음성제고를 위한 오유회복실현의 한가지 방법 ② DYESB는 활동마디의 속성설정부분인 [오유처리]항목을 리용하여 실행과정에 발생하 는 론리적오유를 검출하고 오유처리에로 이행하도록 설정하기 위한 기능을 제공하고있지만 오유처리후 정상실행흐름에로 다시 복귀할수 없으며 또한 외부체계환경의 비정상동작에 의하 여 발생하는 오유들은 전혀 처리할수 없는 제한성을 가지고있다는것이다. 즉 체계관리자의 수동적인 조작에 의해서만 우와 같은 오유들을 처리할수 있다는것이다. 실례로 매체변환을 진행하는 웨브봉사호출과정에 원천경로의 매체화일이 존재하지 않아 봉사가 실패하는 경우 오직 관리자의 수동적인 조작에 의해서만 오유회복을 진행할수 있다. ③ [오유처리]항목이 봉사호출을 진행하는 해당 활동마디의 론리적오유만을 검출하는 것으로 하여 봉사호출실패와 같은 치명적인 오유들을 처리할수 없다는것이다. 실례로 호출 되는 웨브봉사의 주소가 틀리거나 해당한 봉사가 기동되여있지 않은 경우 DYESB체계는 [오유처리]항목의 내용을 평가함이 없이 업무흐름공정의 실행상태를 실패로 만들어버린다. 우의 특성해석결과로부터 업무흐름공정실행의 믿음성을 제고하는데서 DYESB체계가 가지고있는 제한성을 극복하자면 현존 체계에서 발생하는 봉사오유들에 관한 능동적인 알림 및 해결방안의 제시기능, 오유회복후 흐름공정실행의 재개기능, 오유들의 자동적인 회복기능들이 보충되여야 한다는것을 알수 있다. 이로부터 우의 오유회복문제들을 해결할수 있는 기능들을 포함하는 확장된 ESB체계 를 기존의 DYESB에 기초하여 그림과 같이 구성한다. 그림. 오유회복기능을 가진 확장된 ESB체계 구성방식 체계는 기존의 DYESB체계와 오유정보자료기지, 관리조종프로그람, 관리자로 구성되 며 매 부분들이 제공하는 기능은 다음과 같다. 기존의 DYESB체계는 해당한 정상흐름공정에 업무흐름공정의 실행과정에 발생하는 각종 봉사오유 및 실패들을 처리하기 위한 비정상흐름공정을 추가적으로 제공하며 오유회복을 위 한 처리론리설정을 위해 활동마디의 [오유처리]설정부분을 확장할수 있도록 ESB엔진을 변경 시켰다. － 43 － 종합대학학보(자연과학)   주체105(2016)년  제62권  제10호 오유정보자료기지는 업무흐름공정의 실행과정에 발생할수 있는 봉사오유 및 실패정 보들과 대응한 처리규칙들을 보관한다. 관리조종프로그람은 해당한 업무흐름공정의 실행때 봉사오유 및 실패가 발생하면 오 유형태와 처리규칙에 따라 프로그람적으로 자동처리할수 있는것들은 자체로 처리하고 기 타는 즉시 관리자에게 음성 및 시각적경고와 표준처리방안을 제시하여 처리하도록 위임 한다. 우리는 확장ESB체계가 중단방식으로 동작하도록 함으로써 기존ESB의 동작에 영향을 주지 않도록 하였으며 업무흐름공정의 발생과정에 나타나는 오유패턴들을 기록하고 합리 적인 오유처리규칙들을 설정하도록 하였다. ２．확장ESB체계에 의한 업무흐름공정의 오유처리방법 확장된 ESB체계에서 업무흐름공정의 작성절차는 다음과 같다. 업무흐름공정작성자는 먼저 해당한 업무흐름공정을 개발한 후 체계가 새롭게 제공하 는 비정상흐름공정(오유처리기능을 가진 업무흐름공정)을 필수적으로 포함시켜야 한다. 이를 위해 우리는 비정상흐름공정이 시작마디에서 이행불가능한 조건으로 련결되여 정상 실행상태에서는 호출되지 않도록 설정하였다. 다음으로 업무흐름공정의 작성자는 정상업무흐름공정의 해당한 마디의 실행과정에 발생할수 있는 봉사오유 및 실패정보들과 대응한 처리규칙들을 오유정보자료기지에 설정 하여야 한다. 다음 업무흐름공정개체를 창조하여 업무흐름공정을 실행시켜야 한다.  정상업무흐름공정의 실행도중 봉사오유나 실패가 발생하면 업무흐름공정은 비정상흐 름공정에로 이행한다. 비정상흐름공정에서는 오유 및 실패정보를 FTP봉사호출을 리용하 여 오유정보자료기지에 기록한다. 업무흐름공정의 실행때 봉사오유 및 실패가 발생하는 경우 관리조종프로그람의 오유 회복처리알고리듬은 다음과 같다. ① 오유정보자료기지로부터 해당한 오유정보를 읽는다. ② 오유정보패턴으로부터 정합되는 처리규칙을 찾는다. ③ 처리규칙이 프로그람적으로 자동처리될수 있는것이라면 해당한 오유회복동작을 수행한다. 를 호출하고 ⑦에로 이행한다. ④ 현존 업무흐름공정을 재개하기 위하여 오유가 발생한 활동마디에로의 되돌이봉사 ⑤ 프로그람적인 자동처리규칙이 존재하지 않으면 시각 및 음성경고를 발생시키고 표준처리방안을 제시한 다음 체계관리자에게 조종을 위임한다. 만일 체계관리자가 [흐름 공정재개]를 설정하면 흐름공정을 재개하기 위한 되돌이봉사를 호출한다. 그리고 체계관 리자가 [흐름공정재시동]을 설정하면 흐름공정을 끝내기 위한 되돌이봉사를 호출하고 흐 름공정을 다시 실행한다. 한편 체계관리자가 [흐름공정완료]를 설정하면 흐름공정을 끝내 기 위한 되돌이봉사를 호출한다. ⑥ 오유정보자료기지에서 해당한 오유정보를 삭제한다. － 44 － ESB업무흐름공정실행의 믿음성제고를 위한 오유회복실현의 한가지 방법 ⑦ 오유회복을 위한 초기상태에로 이행한다. 체계의 구축후 확장ESB체계의 믿음성개선을 평가하기 위하여 3개월간의 운영과정에 나타난 오유 및 실패처리결과들을 분석한 결과는 표 2와 같다. 표 ２. 확장ESB체계의 오유 및 실패회복처리의 성능평가 오유회복 오유에 따르는 오유에 따르는 오유에 따르는 규칙수/개 흐름공정재개류/% 재시동률/% 실패률/% 오유형태 봉사내부오유 봉사배치오유 업무공정의 론리적오유 외부체계의 환경설정오유 기타 오유 1 4 1 4 0 63.2 80.4 0 44.2 5.8 31.6 19.6 60.4 35.4 24.3 5.2 0 39.6 21.4 69.9 분석결과 체계가 업무흐름공정의 실행과정에 나타나는 오유들을 빠른 시간내에 처리함으로써 업무처리의 믿음성을 한계단 높은 수준에서 보장한다는것을 확증하였다. 확장ESB를 리용하여 업무흐름공정의 실행과정에 발생하는 각종 오유들과 실패들을 실시간적으로 검출 및 회복할수 있게 하였다. 맺 는 말 참 고 문 헌 [1] Yu Kang; Proceedings of IC-BNMT2009, 5, 2009. [2] Dipanjan Chakraborty; IEEE International Conference on Web Services(ICWS 2007), 7, 2007. [3] 庞晓东; DYESB3.3 大洋ESB产品用户手册, 北京中科大洋科技发展股份有限公司, 27～35, 2011. 주체105(2016)년 6월 5일 원고접수 A Method of Failover Implementation to Improve Reliability of ESB Workflow Execution Jo Nam Hyok, Pyon Yong Il We proposed a method to improve reliability of business system by detecting and correcting, using the extended ESB system, various kinds of errors and failures that occurred in the workflow execution process. Key words: ESB, failover implementation － 45 －