김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체106(2017)년 제63권 제2호 Vol. 63 No. 2  JUCHE106(2017). 코리올리류량계의 신호처리방법과 측정정확도에 미치는 잡음의 영향에 대한 연구 손남진, 최창만 코리올리류량계는 액체흐름뿐아니라 다상매질흐름의 질량류량을 직접 측정할수 있으 며 정확도가 매우 높으므로 원유수송이나 관로를 통한 광물수송을 비롯하여 질량류량을 정확히 측정해야 하는 공업부문에서 널리 쓰이고있다.[2] 선행연구[1]에서는 코리올리류량계에서 질량류량과 앞단과 뒤단수감부에서 발생하는 두 신호의 위상차사이의 관계는 밝혔으나 위상차계산을 위한 계산방법을 제기하지 못했 으며 선행연구[2]에서는 코리올리류량계에서 발생하는 잡음을 제거하기 위한 방법은 밝혔 으나 공학에서 요구되는 측정정확도를 보장하려면 SN비가 얼마여야 하는가를 정량적으로 밝히지 못했다. １．코리올리류량계의 진동관의 고유진동수결정 우리는 코리올리류량계의 진동관의 세로탄성곁수를 Pa 로 주고 ANSYS응용프로그람을 리용하여 모드해석을 진행하였다. ×=E 10 3 11 35.0=ν 로, 뽜쏭곁수를 가진기에 주는 신호의 주파수를 계의 공진주파수로 줄 때 수감부에서 나오는 신호의 진폭이 최대로 크게 되며 측정정확도가 높아지므로 코리올리류량계에 대한 연구와 설계 에서 중요한것은 계의 고유진동주파수를 결정하는것이다. 고유진동해석을 통하여 저차의 10개의 모드에 대한 결과를 얻었으며 여기서 요구하 라는것을 확정하였다. 는 1차고유진동주파수는 Hz3.250 =f ２．위상차결정을 위한 자료처리방법과 코리올리류량계실험장치에 대한 실험 두 신호의 위상차가 속도와 어떤 관계를 가지는가를 밝히기 위하여서는 위상차계산 위상차계산을 위한 알고리듬에는 적분법의 세가지 형태 즉 직접계산법, 직각임풀스발 을 진행해야 한다. 생법, 적분법이 있다. 직접계산법에서는 시누스파형자료를 리용하여 직접 위상을 계산하며 직각임풀스발생 법에서는 신호가 령이상으로 되는 시작점에서 직각임풀스를 발생시키고 임풀스발생위상 차를 계산한다. 또한 적분법에서는 두 신호의 적의 적분값이 위상차에 관계된다는 원리를 리용하여 계산한다. 직접계산법은 같은 시각에 앞단의 수감부신호의 위상과 뒤단의 수감부신호의 위상을 동시에 계산하여 그 차를 직접 계산하는 방법이다. － 28 － 종합대학학보(자연과학)   주체106(2017)년  제63권  제2호 ( s i ), s 가 사분구의 1 때값일 ⎧ arcsin ⎪ ⎨ ⎪ ⎩ 2 π − + i   s i  s i ), i i s ( πα = i arcsin ( s ), 가 3 2, 사분구의 때값일  , i = 21, , 1 ααϕ =Δ 2 − arcsin 가 사분구의 4 때값일 여기서 1s 은 앞단수감부의 전압, 2s 는 뒤단수감부의 전압, 1α 은 1s 의 위상값, 2α 는 2s 의 위상값, ϕΔ 는 두 신호의 위상차이다. 직각임풀스발생법은 신호와 시간축사이의 사귐점에서 직각임풀스를 발생시키고 두 직 각임풀스사이의 위상차를 계산하는 방법이다.(그림 1) t −=Δ 1 t t 2 , ωϕ =Δ=Δ t 2 f π t Δ 여기서 1t 은 앞단신호와 시간축이 사귀는 시각, 2t 는 뒤단신호와 시간축이 사귀는 시각, ϕΔ 는 두 신호의 2 k π A ∫ 0 2 k π A ∫ 0 그림 1. 직각임풀스발생법 위상차이다. 적분값이 위상차와 관계된다는 사실을 리용한다. 적분법에서는 위상이 서로 다른 두 신호의 적의 sin( Bx ) sin( x Δ+ dx ) ϕ = ABk π cos( Δ ) ϕ 이므로 다음과 같이 계산된다. sin( Bx ) sin( x Δ+ dx ) ϕ ≈ n ∑ i 1 = ss i 21 i 2 k π n , =Δ ϕ ⎛ ⎜ arccos ⎜ ⎝ n ∑ i 1 = ss i 21 i 2 k π n ( ABk ) π ⎞ ⎟ ⎟ ⎠ 여기서 A , B 는 각각 앞단과 뒤단신호의 진폭, ϕΔ 는 두 신호의 위상차, x 는 위상, is1 는 is2 는 뒤단수감부의 i번째 신호전압, k 는 주기수, n 은 표 앞단수감부의 i번째 신호전압, 본점의 개수이다. 함수발생기에서 시누스신호를 발생시켜 코리올리류량계의 가진기에 준 다음 전자석 으로 만든 진동수감부에서 나오는 신호를 측정하여 처리를 진행하였다. 신호는 신호전용처리기판인 USB2811을 리용하여 채집하였다. USB2811을 리용하여 채집한 신호는 MATLAB를 리용하여 고속푸리에변환 FFT를 진행하거나 웨블레트변환을 진행하여 처리하였다. 함수발생기에서 나오는 신호를 증폭단을 리용하여 증폭하고 주파수는 ANSYS해석결 과를 리용하여 얻은 공진주파수로 고정한다. 보관된 화일을 MATLAB에서 웨블레트 변환하여 신호의 잡음을 제거한다. 가진기와 수감부에서 발생하는 시누스 신호에 대하여 웨블레트변환에 의해 잡음 을 제거한 후의 신호는 그림 2와 같다. 그림 2에서 보여준것은 질량류량이 일 때의 신호파형인데 입력신 s/kg31.0=Q 호와 출력신호사이에 직접계산법을 리용할 때 위상차는 3.0ϕ ° 로 얻어진다. =Δ 그림 2. 신호의 웨블레트변환 1－가진기신호, 2－앞단신호, 3－뒤단신호 코리올리류량계의 신호처리방법과 측정정확도에 미치는 잡음의… － 29 － ３．LABVIEW에 의한 잡음신호처리모의 실험장치에 대한 연구에서 신호처리결과에 중요한 영향을 주는것은 잡음이다. 이로부 터 요구되는 측정정확도를 보장하기 위하여 어느 정도의 신호대잡음비(SN비)를 보장해야 하는가 하는 문제를 해결하는것은 코리올리류량계에 대한 신호처리체계의 설계에서 중요 한 의의를 가진다. 코리올리류량계의 진동관에 대한 수감부에서 발생하는 신호는 일정한 잡음을 포함하 게 되며 이것은 코리올리류량계의 류량결정을 위한 계산의 정확도에 영향을 주게 된다. 여기서는 각이한 질량류량들에서 가상적으로 형성된 코리올리류량계의 진동관의 수 감부신호에 대한 처리를 진행하는 연구를 통하여 우에서 준 자료처리방법들의 적용과 측 정정확도에 대한 잡음의 영향을 평가하였다. 가상적인 류량계의 진동관수감부의 신호생성과 처리는 LABVIEW응용프로그람을 리 용하여 실현한다. LABVIEW응용프로그람에서 위상차계산을 위한 알고리듬을 직접계산법, 직각임풀스발생법, 적분법으로 작성한다. 신호의 주파수를 250.3Hz로 줄 때 신호진폭은 0～10V까지, 잡음진폭은 0～0.1V까지 변화시키면서 신호를 생성하고 그것에 기초하여 잡음에 따르는 정확도를 평가한다. 한가지 실례로 류량이 s/kg78.0=Q 인 경우(매질이 물일 때의 흐름속도 s/m10=v , m1.0=d ) 위상차는 =Δ 73.0ϕ ° 인데 아래에서는 이 경우에 대한 처리실례를 보여준다. 생성된 파형에 대하여 각이한 방법으로 처리할 때 얻어지는 결과들은 표 1과 같다. 표 １．각이한 처리방법에 의한 잡음이 섞인 신호에 대한 처리결과들 신호진폭/V 잡음진폭/V SN비/dB 알고리듬 위상차/( ) 상대오차/% (cid:68) 2 2 2 2 0.001 66 0.001 6 62 0.002 60 0.004 54 직접계산법 직각임풀스발생법 적분법 직접계산법 직각임풀스발생법 적분법 직접계산법 직각임풀스발생법 적분법 직접계산법 직각임풀스발생법 적분법 0.731 7 0.731 6 0.731 4 0.734 8 0.773 0 0.733 9 0.737 6 0.737 7 0.737 8 0.773 0 0.769 2 0.781 9 0.235 0.227 0.195 0.660 0.590 0.540 1.050 1.060 1.070 5.090 5.380 7.120 표 1에 기초하여 잡음도 η를 η = SN 1/ × 100 으로 놓고 잡음도와 상대오차사이에 보간 을 진행한다. 여기서 SN 은 SN비이다. 표 1의 결과에 대하여 잡음도와 상대오차사이관계를 3차대수다항식으로 근사화하면 =Δ 1 ηf )( 1 = 260 3 η + 74 2 η =Δ 2 )( ηf 2 = 340 3 η + 66 2 η + 05.0 (직접계산법일 때), + 02.0 (직각임풀스발생법일 때), － 30 － 종합대학학보(자연과학)   주체106(2017)년  제63권  제2호 007.0 ηf )( 3 과 같다. 여기서 Δ 는 상대오차, η는 잡음도이다. =Δ 3 780 2 η 3 η 22 + + = (적분법일 때) 류량측정오차가 각각 0.5, 1, 2, 5%일 때 세가지 알고리듬에 따르는 SN비는 표 2와 같다. 표 ２．세가지 계산법에 대한 류량측정오차에 따르는 SN비(dB) 류량측정오차/% 0.5 1 2 5 직접계산법 64.4 60.08 57.25 53.97 계산방법 직각임풀스발생법 63.6 60.17 57.58 54.88 적분법 62.6 60.25 57.91 55.91 맺 는 말 론문에서는 류량측정오차를 1%미만으로 설계할 때에는 적분법을 리용하며 1%이상으 로 설계할 때에는 직접계산법을 리용할수 있다는것을 보여주었다. 이 결과는 공업에서 요 구되는 각이한 측정정확도를 보장하기 위한 신호처리체계의 설계에 적용될수 있다. [1] E. Stephanie; DCAMM Special Report, 119, 20, 2010. [2] J. Yoder; Flow Meter Solutions, 7, 2, 2012. 참 고 문 헌 주체105(2016)년 10월 5일 원고접수 Method of Signal Process and Effect of Noise Exerting on Measurement Accuracy in Coriolis Flow Meter Son Nam Jin, Choe Chang Man Through the experimental data about coriolis flow meter and simulation signal made in LABVIEW application program, we studied about a process method of signal made in vibrating pipes of coriolis flow meter and effect of noise exerting accuracy as we get the amount of flow in this method. Key words: noise, signal process