김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체106(2017)년 제63권 제4호 Vol. 63 No. 4  JUCHE106(2017). 련관단어를 리용한 질문중심다중문서요약의 한가지 방법 정만흥, 리청한 사실형질문 《전화기는 언제 발명되였는가?》 또는 정의형질문 《프락탈이란 무엇인 가?》와 같은 질문에 대답은 사실형 또는 정의형질문응답체계에 의해 얻을수 있다.[2, 3] 그러나 《물시금치는 어떤 남새인가?》와 같이 어떤 대상에 대한 일정한 지식을 요구하는 서술형질문에 대한 대답은 얻을수 없다. 서술형질문에 대한 대답은 문서요약기술을 리용하여 얻을수 있으며 이와 같은 문서요 약기술을 질문중심문서요약이라고 부른다. 일반적으로 질문중심문서요약체계는 4개의 부분 즉 적합문서추출부분, 특징추출부분, 문장선택부분 그리고 요약생성부분으로 구성된다.[4] 질문중심문서요약은 선행연구[1, 5]에서 제기되였다. 선행연구[1]에서는 온톨로지에 의한 사실형질문설계방법과 일반문서요약방법을 결합한 서술형질문응답체계를 정의하고 실현하였 다. 선행연구[5]에서는 질문눈덩이개념에 기초한 질문응답의 다중문서요약방법을 제기하였다. 론문에서는 득점값에 의한 련관단어추출의 한가지 방법을 제기하고 련관단어－문장 행렬에 대한 비부값행렬분해(NMF)법[3]에 의하여 적합문장들을 평가 및 선택하여 질문중 심문서요약을 실현하는 한가지 방법을 제기하였다. １．련관단어추출과 다중문서요약 １）련관단어모임 여기서는 질문문장에 들어있는 질문단어와 요약하려는 다중문서모임속에 들어있는 단 어들사이의 련관도를 평가하는 방법에 대하여 론의한다. 우선 R를 질문단어 q와 문장준위에서 동시출현하는 단어들의 모임이라고 할 때 R에 속 하는 단어 w에 대하여 먼저 질문단어 q와 독립인 단어 w에 고유한 단어중요도값을 다음과 같이 계산하는데 이 단어중요도값을 간단히 토대득점값이라고 부르고 sb(w)로 표시한다.[5] wsb ) ( = log ⎛ ⎜⎜ ⎝ N wn ) ( ⎞ ⎟⎟ ⎠ 여기서 N은 다중문서모임에 들어있는 문서의 총개수이며 n(w)는 단어 w의 문서빈도수이다. 다음으로 질문단어 q와의 련관관계를 나타내는 단어 w에 대한 련관득점값 sr(w)를 계 산한다. 득점값은 단어 w의 토대득점값과 단어 w와 질문단어 q와의 호상정보량에 기초하 여 계산된다. ws wqIqsws = ) ( )( ) r b 는 q와 w사이에 존재하는 단어개수이며 ,( wqρ ) wq ,( αρ− exp( ,( )) ) ( b ⋅ ⋅ 여기서 ∈α [0, 1]이고 ( wqI ， 는 질문단어 q와 단어 w의 호상정보량이다. 만일 질문단어 q와 단어 w의 문서빈도수확률이 각각 p(q) 와 p(w)라면 호상정보량은 다음과 같다. ) － 42 － 종합대학학보(자연과학)   주체106(2017)년  제63권  제4호 wqI ) ,( = log wqp ) ,( wpqp ) )( ( 여기서 p(q, w)는 질문단어 q와 단어 w의 문서준위동시출현확률 즉 q와 w가 동시출현하 는 문서개수를 다중원천문서모임의 총문서개수 N으로 나눈 값이다. 득점값 sr(w)의 정의로부터 알수 있는것처럼 련관관계를 나타내는 득점값은 매개 단 어의 토대득점값, 단어들의 호상정보량 그리고 두 단어사이의 근접성정도에 의존하도록 정의하였다. 호상정보량은 일반적으로 단어련관성에 대한 확률모형으로 자주 리용된다. 단어의 련관득점값에 따라 질문단어들과의 련관단어모임을 다음과 같이 얻는다. ① 질문문장으로부터 련관단어모임 S를 질문단어 q1, q2, …, qm들로 초기화한다. 즉 S={q1, q2, …, qm}으로 놓는다. 다음 k=1, 2, …, m에 대하여 ②－⑤를 수행한다. ② 질문단어 qk의 동시출현단어 w∈R들의 득점값 sr(w)를 계산한다. ③ 득점값 sr(w)들에 대한 평균값을 계산한다. 즉 AverageSco re = 1 R | ∑ Rw ∈ | r ws ( ) 여기서 |R|는 동시출현단어 w들의 총개수이다. ④ sr(w)>AverageScore이면 단어 w를 질문단어 qk의 1차련관단어로 정의하고 련관단어 모임 S에 포함시킨다. ⑤ 1차련관단어들을 질문단어로 간주하고 걸음 ②－⑤를 반복한다. 이때 얻어지는 련 관단어를 질문단어 qk의 2차련관단어로 정의한다. 결국 련관단어모임 S는 다음과 같이 정의된다. 련관단어} S={질문단어모임}∪{1차 및 2차 질문단어 qk의 1차 및 2차련관 단어관계는 그림 1과 같다. 그림 1. 1차 및 2차련관단어사이관계 ２）단일문서요약 련관단어모임 S에 토대하여 크기 nm × 인 단어－문장행렬 A를 문서별로 만든다. 여 기서 m은 련관단어모임 S에 속하는 해당 문서속의 단어개수이며 n은 문서에서의 문장수 이다. 행렬 A의 i째 행 j째 렬에 놓이는 원소의 값은 련관단어모임 S에 속하는 i째 단어가 원천문서의 j째 문장에 출현하는 빈도수이다. NMF알고리듬[3]을 리용하여 단어－문장행렬 A를 rm × 비부값의미특징행렬 W와 r×n 비부값의미변수행렬 H의 적으로 분해한다. 즉 A=WH. 여기서 r는 보통 m이나 n보다 작게 선택되여 W와 H의 총크기는 행렬 A의 크기보다 더 작아지게 한다. 행렬분해알고리듬 NMF는 Frobenius노름을 최소화하는 원리에 기초하여 얻는다. Frobenius노름은 다음과 같다. Θ E HW , ( ) ≡ A − WH m n ∑∑ 2 F ≡ ⎛ ⎜ ⎜ ⎝ X ji − HW jl lj r ∑ 2 ⎞ ⎟ ⎟ ⎠ 분명히 이 값이 0이기 위해서는 j l = 1 A = 일것이 필요하고 충분하다. W와 H는 WH i = = 1 1 HWEΘ ( , ) 련관단어를 리용한 질문중심다중문서요약의 한가지 방법 － 43 － 가 미리 정의된 턱값이하로 수렴하거나 반복수를 초과할 때까지 반복적으로 갱신된다. 갱 신규칙들은 다음과 같다. H αμ ← H αμ , W i α ← W i α T AW ( ) αμ T WHW ( ) αμ T AH ( WHH ( ) T i α ) i α 행렬분해후 문장의 일반적적합성을 계산한다.[5] j째 문장의 일반적적합성= ∑ = 1 i r H ( ij ⋅ weight ( H *)) i 여기서 weight ( H *) i = H iq n ∑ q = 1 r n ∑∑ p = 1 q − 1 H . pq 수 p는 다중문서모임에서 문서번호이다. 다음 주어진 턱값보다 큰 일반적합성값을 가지는 kp개의 문장을 선택한다. 여기서 첨 ３）다중문서요약 론문에서는 다중문서모임에 속하는 개별적인 문서들에 대한 요약문서들을 얻은 다음 거기에 들어있는 문장들의 문장순위화를 진행하여 다중문서요약을 실현하였다. 두 문서 d1과 d2에 대한 요약문장과 그것의 전후관계문장실례는 그림 2와 같다. 그림 2에서 ss1과 ss2는 2개의 요약문 장이며 s1i와 s2i들은 각각 요약문장 ss1과 ss2의 전후관계문장들이다. 요약문장과 그 것의 전후관계문장들은 동일한 문서에 속 한다. 만일 ss2가 s11과 류사하다면 ss2와 s11 은 린접이라고 간주할수 있는 확률이 크 며 문장 s11이 ss1의 앞에 있으므로 ss2가 ss1 의 앞에 있을 확률은 크다고 할수 있다. 분명히 문장 ss2와 문장 s11사이의 류사성이 높을수록 ss2가 ss1의 앞에 있을 확률이 높다. 만일 ss2가 s11과 류사하지 않고 s12와 류사하 다고 해도 ss2가 ss1의 앞에 있을것이라고 가정할수 있다. 만일 ss2가 s13과 류사하다면 ss1 이 ss2보다 앞에 놓일수 있다고 볼수 있다. 그림 2. 요약문장과 전후관계문장 두 문장의 린접믿음도를 계산한 다음 요약문장들의 순서를 나타내기 위해 무게를 고 려한 방향그라프를 리용한다. 그라프의 정점은 문장을 의미한다. 만일 두 문장이 린접하 고있다면 두 문장을 련결하는 릉이 존재한다. 릉의 무게는 두 문장의 린접믿음도이다. 요약문장들사이의 순서관계를 보여주는 실 례그라프는 그림 3과 같다. 그림 3에서 보는바와 같이 정점 s1로부터 정점 s3에로의 릉이 존재하며 무게는 0.5이다. 이것은 문장 s1과 문장 s3이 린접해있으며 린접 믿음도가 0.5라는것을 의미한다. 그림 3의 방향 그라프로부터 최대무게를 가지며 모든 정점 그림 3. 요약문장들과 순서관계그라프 － 44 － 종합대학학보(자연과학)   주체106(2017)년  제63권  제4호 을 포함하는 경로를 구할수 있으며 이 경로의 순서를 요약문장들의 가장 론리적인 순서 로 간주할수 있다. 그러나 그라프의 최량경로를 찾는 문제는 전형적인 NP－난문제이다. 그러므로 론문에서는 근사적인 최량경로를 찾는 알고리듬을 제기한다. 이를 위해 문서모임 D={d1, d2, …, dn}과 문서 dj={sj1, sj2, …, sjm}을 가정한다. 여기서 sji는 문서 dj의 i째 문장이다. 그리고 요약문장모임 SS={ss1, ss2, …, ssk}와 빈 그라프 G=NULL을 가정하면 j번째 문서 dj의 i번째 문장 ssi에 대하여 그것의 전후관계문장모임은 d − 로 된다. { } ss j i 알고리듬은 다음과 같다. 걸음 １ 요약문장모임 SS의 매개 요약문장 ssi들을 그라프 G의 정점으로 추가한다. 걸음 2 문서모임 D의 j째 문서 dj의 요약문장 ssi에 대하여 류사도 sim(ssk, sj, p)들을 (턱값)인 ss kss 가 SS d { { kss 는 방향있는 이웃이다. 이때 k s , pjs , 가 iss 의 앞에 있으면 계산한다. 여기서 k pjs , 가 존재하면 iss 와 iss 의 앞에 있을 믿음성무게는 다음과 같이 계산한다. ss −+ α 1( , 이다. 만일 θ>) ssw ( r (/) sr () sim sim α pj , , pj ss ss ss ss ss ss }, ∈ − = = − } s ) ) ( ( ) , j i i i k pj , i k pj , 여기서 r ( iss ) 는 문장 ssi가 속하는 문서에서 ssi의 순위(실례로 문서의 두번째 문장의 순위는 2), α는 믿음성에 대한 문장류사성의 기여률이다. 만일 ssk로부터 ssi에로의 릉이 존재하지 않는다면 그라프 G에 릉을 추가한다. 릉이 존재하는 경우 w(ssi, ssk)가 릉에 이미 할당된 무게보다 크다면 릉에 할당된 값을 js , 의 앞에 있으면 ssk가 ssi의 앞에 있을 믿음성무게는 다음과 같이 갱신한다. ssi가 i 계산된다. ssw ( , ss ) = α sim ( ss , ss ) −+ 1( α )( dL ( ) − sr ( pj , 여기서 L(dj)는 문서 dj에 포함되여있는 문장의 총개수이다. pj , k k j i )) /( dL ( ) j − r ( ss i )) 만일 ssi로부터 ssk에로의 릉이 존재하지 않는다면 그라프 G에 릉을 추가한다. 릉이 존재하는 경우 w(ssi, ssk)가 릉에 이미 할당된 무게보다 크다면 릉에 할당된 값을 갱신한다. 이때 문장 s1과 s2사이의 류사성은 TF-IDF 혹은 WordNet에 기초하여 계산할수 있다. 론문에서는 두 문장사이의 류사성을 TF-IDF의 코시누스류사성을 리용하여 계산하였다. 걸음 ３ 문장순위화의 첫문장을 결정한다. 먼저 요약문장모임 SS={ss1, ss2, …, ssk}에 속하는 문장들사이의 TF-IDF의 코시누스류사성을 리용하여 매개 요약문서 ST1, ST2, …, STd들의 첫번째 문장 sst1들의 류사성특징을 다음과 같이 계산한다. feature ( ss ) = t 1 sim ( ss t 1 , ss ), j t = ,2,1 (cid:34) , d 1 K K ∑ j = 1 여기서 d는 요약문서의 개수이고 sst1은 t번째 요약문서에 들어있는 첫번째 문장이다. 다음 feature(sst1)값이 최소로 되는 문장 ss p 1 = arg min{ feature ( ss ), t 1 t = }3,2,1 을 문장순위화에서 첫 문장으로 한다. 련관단어를 리용한 질문중심다중문서요약의 한가지 방법 － 45 － 걸음 ４ 순위화목록 P를 문장 ssp1로 초기화한 다음 P의 문장들을 차례로 얻는다. 요약문장들의 모임 SS의 문장들중에서 이미 순위화된 문장렬 ss1, ss2, …, ssi가 주어 졌다고 하자. 이때 순위화의 다음 문장 ssi+1을 다음과 같이 구할수 있다. ss =+ 1 i arg max{ ssw ( , i ss ), j ss j ∈ SS − P } 걸음 ５ 만일 P가 모든 요약문장들을 포함한다면 알고리듬을 끝내고 그렇지 않으면 걸음 4로 이행한다. ２．실 험 결 과 론문에서 제기한 방법의 성능을 평가하기 위하여 《광명》홈페지에 구축되여있는 《생 물대사전》문서를 리용하였다. 실험에 리용된 질문의 개수는 10개로 하였으며 이 질문들에 대한 정확한 요약문서들은 수동으로 작성하였다. 정확한 요약문서를 구성하고있는 정답문장들과 체계가 출력시킨 요약문서를 구성하 고있는 대답문장들을 가지고 적중률, 완전률, F－값을 계산하여 체계의 성능을 평가하였 다. 여기서 적중률, 완전률, F－값들은 10개의 질문들에 대한 평균값들이다. 적중률, 완전률, F－값은 다음과 같이 계산된다. ∩ S S 적중률: P = S | | h | s s | s | S | S h | ∩ S h | 2 β ( 2 β PR + ·)1 RP + 완전률: R = F－값: F = 여기서 hS 는 정답문장모임, sS 는 체계가 출력시킨 대답문장모임, β는 적중률과 완전률 의 중요도를 조절하는 상수로서 β=2로 설정하였다. 실험은 호상정보량과 단어의 가까운 정도를 고려하여 련관단어를 정의한 선행연구결 과[1]와 비교하는 방법으로 진행하였다.(표) 표에서 보는바와 같이 제안한 방법이 선행한 방법과 거의 같은 적중률을 보장하 면서도 선행한 방법에 비해 완전률을 1.72 배, F－값을 1.69배로 높였다. 표．실험결과 방법 R P 선행한 방법[1] 0.401 4 제안한 방법 0.690 9 0.536 4 0.540 0 F 0.386 3 0.654 3 맺 는 말 토대득점값들과 호상정보량을 고려한 새로운 련관득점값에 기초하여 련관단어모임을 정의하였으며 련관단어－문장행렬의 비부값행렬분해알고리듬과 문장순위화과정을 통해 질문중심다중문서요약을 실현하는 질문중심다중문서요약체계를 설계하고 그 효과성을 검 증하였다. － 46 － 종합대학학보(자연과학)   주체106(2017)년  제63권  제4호 참 고 문 헌 [1] 정만흥 등; 정보과학, 1, 28, 주체104(2015). 2012. 89, 2006. 305, 2010. [2] MAO Xianling et al.; Journal of Frontiers of Computer Science and Technology, 6, 3, 193, [3] S. Park et al.; Proc. of Knowledge-based Intelligent Information and Engineering Systems, 84～ [4] Jimmy Lin et al.; The 2010 Annual Conference of the North American Chapter of the ACL, [5] Hajime Morita et al.; Proceedings of the 49th Annual Meeting of the Association for Computational Linguistics: Shortpapers, 223, 2011. 주체105(2016)년 12월 5일 원고접수 A Method of Query-based Multiple Documents  Summarization using Associative Words Jong Man Hung, Ri Chong Han We discuss a method for query-based multiple documents summarization using associative words. We conduct the document summarization using the method of selecting sentences with a high degree of appropriacy by non-negative matrix factorization of the word-sentence matrix based on query word and associative word set. Key words: query-based document summarization, associative word