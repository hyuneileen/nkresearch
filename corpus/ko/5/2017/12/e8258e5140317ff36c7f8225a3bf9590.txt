김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체106(2017)년 제63권 제12호 Vol. 63 No. 12  JUCHE106(2017). 시각포텐샬을 리용한 이동로보트의 복도항행의 한가지 방법 량경일, 최명성 복도를 따라 자률적으로 항행하는 지능적인 안내로보트개발에서 장애물회피경로계획 체계를 합리적으로 설계하는것이 중요한 문제로 나선다. 선행연구[1, 2]들에서는 포텐샬마당법에 기초하여 경로계획을 진행하는 방법으로 이동 로보트의 항행을 실현하는 방법들을 제안하였는데 여기서는 로보트의 동작환경에 대한 정보 즉 목표 및 장애물의 위치들이 사전에 알려져있다고 가정하였다. 론문에서는 시각수감기를 리용하여 화상배렬로부터 계산된 시각포텐샬과 광학흐름을 리용하여 복도항행과 장애물회피를 진행하는 한가지 방법을 제안한다. １．광학흐름을 리용한 주평면검출 화상에서 가장 큰 부분에 대응하는 평면령역을 주평면으로 정의하면 화상에서 주평 면은 로보트가 이동할수 있는 지면에 대응한다고 가정할수 있으며 주평면의 검출은 로보 트가 자기의 작업공간에서 항행할수 있는 가능한 령역을 검출할수 있도록 한다. 그림 1에 서 로보트에 설치된 촬영기로부터 획득된 화상에서 흰색령역이 주평면 즉 로보트가 이동할수 있는 지면령역에 대응된다. 이제 를 광학흐름 ,( tyxI (cid:5) yx (cid:5) ,( T) ) , 를 t 시각에서 화상의 농담척도값, T) ,( x y 이라고 하면 매 점 에서 광학흐름은 다음과 같은 조건을 그림 1. 로보트의 동작환경 만족시킨다. I ∂ x ∂ I ∂ y ∂ I ∂ t ∂ (cid:5) x + (cid:5) y + 0= (1) H 를 33× 행렬로 설정하면 평면의 2개 화상사이의 호모그라피는 다음과 같이 표현된다. 이제 촬영기의 이동이 아주 작다고 가정하면 주평면의 점 p = ,( x y p ′=′ ( , x T) ′ y 사이에 다음과 같은 아핀변환을 만족하도록 행렬 H 를 근사화할수 있다. ( x ′ , y ′ )1, T = ,( yxH )1, T (2) T) 와 대응하는 점 p =′ Ap + b (3) 이제 RANSAC알고리듬[3]을 리용하여 아핀곁수를 추정하면 화상평면의 모든 점 T) 에 대하여 주평면에서의 광학흐름 를 다음과 같이 추정할수 있다. T) ′ ′ , x y y ( ,( x ,ˆ( x T )ˆ y = ,( xA T y ) b −+ ,( x T y ) (4) 여기서 ,ˆ( x T)ˆ y 는 평면흐름, ,(ˆ tyxu , ) 는 평면흐름마당으로서 화상의 모든 화소에 대하여 시각포텐샬을 리용한 이동로보트의 복도항행의 한가지 방법 － 51 － 계산되는 평면흐름의 모임이다. 같은 조건을 만족시키는 점 ,( x 주평면에서는 광학흐름과 평면흐름이 같기때문에 광학흐름과 평면흐름사이에 다음과 T) y 는 주평면우에 놓이게 된다. T T (cid:5) yx (cid:5) ,(| ) − ,ˆ( x )ˆ y | ε< (5) 이로부터 주평면검출알고리듬은 다음과 같다. ① 2개의 련속적인 화상을 리용하여 광학흐름마당 tyxu ,( , ) 를 계산한다. ② RANSAC알고리듬을 리용하여 아핀곁수 A , b 를 계산한다. ③ 평면흐름마당 ④ 식 (5)를 만족하는 점들을 주평면에 포함시켜 2진화상으로 주평면 를 추정한다. ,(ˆ tyxu ) , tyxd ,( , ) 를 다 음과 같이 얻는다. tyxd ,( , ) = ⎧ ⎪ ⎨ ⎪⎩ ,255 ,0 x ,( x ,( T T y ) y ) ∈ ∈ 주평면 장애물 ２．시각포텐샬을 리용한 로보트운동결정 화상에서 포텐샬마당은 과제공간에서의 포텐샬마당을 화상평면에로 사영한것이다. 즉 장애물로부터의 척력을 정의하기 위하여 주평면의 그라디엔트벡토르를 리용한다. 주평면 tyxd ,( , ) 가 2진화상렬이므로 그라디엔트를 계산하기 위하여 여기에 가우스함 수를 중첩시켜 장애물로부터 발생하는 척력포텐샬을 구한다. ,( xg y , t ) ,( ( tyxdG ∗∇= , )) = ∂ x ∂ ∂ y ∂ ⎛ ⎜ ⎜ ⎜ ⎜ ⎝ ( ,( xdG ∗ , ty )) ( ,( xdG ∗ , ty )) ⎞ ⎟ ⎟ ⎟ ⎟ ⎠ 이때 전체적인 포텐샬마당을 다음과 같이 정의한다. ⎧ ,( ⎨ ⎩ ,(ˆ tyxu tyxg tyxp tyxg ,( ,( ,( ,( ,) ,) − = ) ) , , , , tyxg , ) = 255 때 일 tyxg , ) = 때 일 0 1 A | | ∫ ,( yx T ) A ∈ )( tP ⋅ ||)( tP 시각포텐샬을 리용하여 이동로보트의 병진속도 및 회전속도를 계산하기 위하여 로보 트에 가해지는 전체적인 힘과 방향을 다음과 같이 계산한다. )( tP = tyxp ,( , ) dxdy (6) y | y | A 는 촬영기에 의하여 획득된 화상의 크기, arccos )( t =θ | | 여기서 (7) )(tθ 는 화상의 y 축과 포텐샬힘사이 의 각도이다. 이로부터 로보트의 병진 및 회전속도는 다음과 같이 계산된다. )( sin tT 여기서 maxT 와 maxR 는 로보트의 최대병진 및 회전속도이다. )( tR cos )( t max max θ R T = = , θ )( t (8) 결과적으로 장애물을 회피하며 복도를 항행하는 자률이동로보트의 운동조종알고리듬 은 다음과 같다. ① 시각수감기를 리용하여 t 시각의 화상 ,( tyxI , ) 를 얻는다. － 52 － 종합대학학보(자연과학)   주체106(2017)년  제63권  제12호 ② 주평면 , ,( tyxd ③ 척력포텐샬 ,( ④ 시각포텐샬마당 를 검출한다. ) ) , tyxg ,( tyxp ) , 를 계산한다. 를 계산한다. ⑤ 이동로보트의 회전 및 병진속도를 계산한다. ⑥ 목표에 도달할 때까지 ①－⑤를 반복한다. ３．실험 및 결과분석 제안한 방법의 유효성을 검증하기 위하여 순찰감시용이동로보트를 리용하여 복도항 그림 2에 복도환경 ,( tyxI , ) 와 계산된 시각포텐샬마당 tyxp ,( , ) 및 추정된 항행힘 행을 실험하였다. )(tP 를 보여주었다. 그림 2. 로보트의 동작환경과 운동방향결정 ㄱ) 로보트의 동작환경, ㄴ) 촬영기로부터 얻어진 화상, ㄷ) 계산된 시각포텐샬, ㄹ) 추정된 운동방향 실험결과는 제안된 방법이 동작환경에 대한 사전정보가 없는 경우에도 안내로보트의 복도항행에 리용할수 있다는것을 보여준다. 참 고 문 헌 [1] D. Aarno et al.; In ICRA 2004, 1, 461, 2004. [2] Shreyamshkamate et al.; Procedia Computer Science, 61, 436, 2015. [3] N. Ohnishi et al.; Pattern Recognition Letters, 27, 1009, 2006. 주체106(2017)년 8월 5일 원고접수 A Study of the Corridor Navigation for Mobile Robot using Visual Potential Ryang Kyong Il, Choe Myong Song We propose a method for corridor navigation and obstacle avoidance using visual potential which is the potential field on the image for visual navigation by an autonomous guided mobile robot. Experimental results show that our method can be used usefully in the navigation of an autonomous guided mobile robot. Key words: visual potential, robot navigation