김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체106(2017)년 제63권 제12호 Vol. 63 No. 12  JUCHE106(2017). 안내로보트의 항행을 위한 촬영기와 레이자 거리수감부의 교정에 대한 연구 한학수, 최명성 위대한 령도자 동지께서는 다음과 같이 교시하시였다. 《여러가지 로보트를 개발하고 받아들이는데서 나서는 과학기술적문제도 풀어야 하겠 습니다.》(《선집》 증보판 제11권 138페지) 안내로보트에 대한 연구는 기계공학, 전자공학, 무선공학, 콤퓨터공학과 함께 높은 수 준의 인공지능기술을 요구한다. 이로부터 세계 여러 나라들에서는 자률형이동로보트의 첨 단이라고 할수 있는 여러가지 류형의 안내로보트들을 적극적으로 개발하여 상업봉사와 관광안내, 교육용로보트로 널리 리용하고있다. 론문에서는 교육용의 관점에서 고찰된 안내로보트의 자률항행체계를 구축하는데서 반드시 요구되는 촬영기와 레이자거리수감부에 대하여 화상정보와 거리정보를 결합시키 기 위한 촬영기－레이자거리수감부의 교정을 위한 한가지 방법을 보기로 한다. 안내로보트는 촬영기의 화상정보와 레이자거리수감부의 2차원거리수감자료를 리용하 여 주위환경을 인식하면서 목표에로 도달하게 된다.[1, 2] 다중수감부의 혼합방법은 공통인 표준프레임에서의 특징점들을 나타내는 수감부－수 감부교정을 요구한다. 이러한 교정방법은 2개의 수감부들에서 수집된 정보를 1개의 패턴 으로 정합시키자는것이다. 패턴교정은 2개의 구역 즉 백색구역과 검은색구역으로 분해된 다. 2개의 구역을 경계짓는 분리선은 CCD촬영기로부터 쉽게 검출된다. 또한 2개의 패턴평 면들사이의 각도는 레이자거리수감부로부터 획득된 평행이 아닌 2개의 토막들에 의해 구 해진다. 한편 n 개의 서로 다른 위치로부터 주어진 패턴으로 구성된 n 개의 비선형속박식 은 레벤버그－마크워트알고리듬을 적용하여 풀수 있다.[3, 4] １．교 정 원 리 기하학적수감부들에 대한 교정은 내부교정파라메터와 외부교정파라메터로 분해된다. 여기서 외부교정파라메터는 기준점자리표계에 대한 수감부의 위치와 방위를 나타내고 내 부교정파라메터는 촬영기의 교정행렬과 관계된다. 론문에서는 내부수감부에 대한 교정은 알려져있고 외부수감부의 교정에 주목한다고 가정한다. 촬영기와 레이자거리수감부의 교정은 촬영기자리표계로부터 레이자자리표계로의 고 정변환을 구하는것이다. 즉 평면패턴의 서로 다른 위치에 대하여 촬영기화상으로부터 추 정된 패턴평면과 그 평면패턴상에서의 레이자주사선을 기입하는 방법으로 외부교정파라 메터를 얻는다. － 40 － 종합대학학보(자연과학)   주체106(2017)년  제63권  제12호 실자리표계 P = [ ZYX , , 로부터 화상자리표계 P = vu ,[ 에로의 투영은 다음의 식 T] T] 과 같이 표시할수 있다. RPKp (~ +                 (1) ) t 여기서 K 는 촬영기내부행렬이고 R 는 촬영기의 방위를 나타내는 영기의 위치를 나타내는 3차원벡토르이다. 33× 직교행렬, t 는 촬 레이자거리수감부는 바닥에 평행인 평면상의 점들에 대한 거리를 측정하게 되는데 0=Y 인 이때 레이자자리표계는 레이자거리수감부의 원점에 정하고 레이자의 주사평면은 평면으로 정한다. 이제 촬영기자리표계의 어떤 점 P 가 레이자자리표계의 점 fP 에 놓인다고 할 때 촬 영기자리표계로부터 레이자자리표계로의 변환은 다음과 같이 표시할수 있다. P f 여기서 Φ 는 레이자거리수감부에 대한 촬영기의 방위를 나타내는 Δ 는 그것의 상대위치에 대응되는 3차원벡토르이다. = ΦP Δ+ (2) 33 × 직교행렬이고 우에서 지적된 교정방법에 대한 일반적도식을 그림 1에 보여주었다. 그림 1에서 보는바와 같이 평면교정패턴은 촬 영기와 레이자거리수감부가 둘 다 볼수 있도록 설 치된다. 제안된 교정방법에서의 목표는 촬영기자리 표계의 점을 레이자자리표계의 점으로 변환하는 회 전행렬 Φ 와 병진행렬 Δ 를 찾는것이다. 론의를 간단히 하기 위해 교정평면(Calibration Plane)으로는 서양장기판처럼 생긴 평면을 지적하고 레이자점들(Laser Points)은 교정판에 대한 레이자거 리수감부의 측정값으로서 전체적인 레이자수감부의 측정값들가운데서 어떤 1개의 측정값 을 나타낸다. 그림 1. 교정문제의 도식 일반성을 잃음이 없이 교정평면은 실자리표계에서 촬영기자리표계에서 교정평면은 3차원벡토르 N 으로 파라메터화될수 있는데 여기서 || N 은 촬영기로부터 교정평면까 N 은 교정평면의 수직선과 평행을 이루고 그것의 크기 0=Z 인 평면이라고 가정한다. || 지의 거리와 등가이다. 식 (1)을 리용하여 3 째 렬이고 t 는 실자리표계에서 촬영기의 중심점을 나타낸다. N −= T ⋅ tRR ( 3 ) 를 유도할수 있다. 여기서 3R 은 회전행렬 R 의 3번 레이자점이 촬영기로부터 추정된 교정평면에 놓이기때문에 촬영기자리표계와 레이자 자리표계사이의 고정변환에 대한 기하학적속박조건을 구할수 있다. 레이자자리표계에서 레이자점 그것의 자리표 P 를 fPΦP = − (1 Δ− fP 가 주어졌을 때 식 (2)로부터 촬영기표준프레임에서 에 따라 결정할수 있다. ) 점 P 가 N 에 의해 정의된 교정평면에 놓이기때문에 1 − PΦN 이 얻어진다. ) =Δ− N || || ( 2 ⋅ f P = || N 2|| 을 만족시키며 따라서 측정된 교정평면의 파라메터 N 과 레이자점 fP 에 대하여 우의 식은 Φ 와 Δ 에 대 한 속박식으로 된다. 안내로보트의 항행을 위한 촬영기와 레이자거리수감부의 교정에 대한 연구 － 41 － ２．모의실험 및 결과분석 실험을 위해 분해능이 640 × 480 pixel인 촬영기와 12 × 이고 살창의 크기가 10 mm76 × mm76 인 교정패턴을 리용하였다. 그리고 교정판에 대하여 10개의 레이자거리수감부자료에 따르는 10개의 화상을 준비하였다. 이때 레이자점은 전체 레이자측정값들가운데서 수동적으로 선택한다. 레이자거리수감부의 점들을 계산된 Φ 와 Δ 에 기초하여 화상에 투영한 결과는 그림 2와 같으며 실험결과 레이자점에서 교 정평면까지의 평균거리오차는 2～3cm정 도로서 현실에 적용가능하다는것을 알 수 있다. 그리고 촬영기와 레이자거리수 감부가 둘 다 보이는 평면패턴의 몇가 지 자세에 기초하여 외부촬영기파라메 터를 얻을뿐아니라 레이자수감자료에 기초하여 촬영기의 내부교정도 진행할 수 있다는것을 알수 있다. 그림 2. 촬영기와 레이자의 교정 ㄱ) 교정평면이 정면에 있을 때, ㄴ) 교정평면이 일정한 각도를 이룰 때 맺 는 말 촬영기와 레이자거리수감부를 리용하여 안내로보트의 항행체계를 구축하고 촬영기에 서 획득된 2차원화상정보와 레이자거리수감부에서 측정된 2차원거리정보를 리용하여 촬 영기와 레이자거리수감부를 교정하는 방법을 제안하였다. [1] 신영철; 무인화를 위한 지능로보트공학, 종합대학출판사, 25～32, 주체105(2016). 참 고 문 헌 [2] Miroslav Kulich; Czech Technical University, 166, 45, 2011. [3] Yuki Tarutoko; International Joint Conference, 10, 18, 2006. [4] Ollong Zhang; Machine Vision and Application, 21, 431, 2013. 주체106(2017)년 8월 5일 원고접수 Research of Extrinsic Calibration of a Camera and a 2D Laser Range Sensor for Navigation of Guided Robot Han Hak Su, Choe Myong Song We described theoretical and experimental results for the extrinsic calibration of sensor platform consisting of a camera and a 2D laser range finder. The calibration is based on observing a planar checkerboard pattern and solving for constraints between the views of a planar checkerboard calibration pattern from a camera and laser range finder. Key words: guided robot, laser-camera calibration, navigation system