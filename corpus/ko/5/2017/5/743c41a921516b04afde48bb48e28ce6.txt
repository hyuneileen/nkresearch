김일성종합대학학보 (자연과학) JOURNAL OF KIM IL SUNG UNIVERSITY (NATURAL SCIENCE) 주체106(2017)년 제63권 제5호 Vol. 63 No. 5  JUCHE106(2017). H.264/AVC동화상에서 장면변화검출－PCA모형에 기초한 효률적인 시간령역오유수복방법 남철만, 리철화 H.264/AVC동화상자료는 무선통로를 통하여 전송될 때 손실되거나 비트오유가 생긴 다.[1] 동화상에서 장면변화는 오유수복성능에 심각한 영향을 미치는데[3] 그것에 대한 시 간령역오유수복특성들[2, 4]이 충분히 고찰되지 않았다. 우리는 오유수복성능을 개선하기 위하여 동화상특성학습모형에 기초한 H.264/AVC시 간오유수복알고리듬을 제안하였다. １．장면변화검출에 기초한 시간령역오유수복 １）장면변화검출 오유수복성능은 장면변화검출이 잘되는가에 크게 관계되는데 우리는 이러한 장면변 화검출을 AC류사도를 리용하여 진행하였는데 그 과정은 다음과 같다. 우선 화상들사이 및 화상내부에서의 프레임류사도에 대한 동적턱값을 보자. Y={yi}를 프레임들의 모임이라고 하고 B(yi)는 1개 프레임의 비트수라고 하면 프레임 당 비트수는 다음과 같이 계산한다. =Γ { yBy | i ( i ) > yT ( )} (1) i yT ( ) = ( yB ( ) + yT ( i i i 1 − 2/)) + c (2) 여기서 T(yi)는 압축예측방식을 평가하기 위한 동적턱값, c는 H.264/AVC기초대역봉사에 따르는 초기값이다. 턱값을 리용하여 공간령역비트들만을 추적할수 있으며 공간령역프레임들이 자동적으 로 검출된다. 도를 측정하자. 장면변화가 있는 I－프레임을 선택하기 위해 AC에네르기에 의한 화상프레임의 류사 우리는 DCT 4 × 4블로크안에서 다음의 AC곁수묶음방법을 리용하였다. AC특성들의 모든 방향에 대하여 DCT 4 × 4블로크의 수평, 수직 및 대각AC에네르기 E H k , E V k , E D k 를 각각 다음과 같이 얻을수 있다. E / / DVH k = ∑ DCT DVHnm / ∈ / , 2 ( , nm ) (3) 여기서 k는 DCT 4 × 4블로크의 첨수, H, V, D는 방향모임이다. 그러면 블로크에 대한 AC통계적특성(SAC)은 다음과 같이 얻어진다. － 30 － 종합대학학보(자연과학)   주체106(2017)년  제63권  제5호 SAC k = (4) ),1( = ( E > E ),2( = ( E > E ),3( = ( E > E H k V k D k V k H k V k , , , E E E H k V k D k > E > E > E D k D k H k ) ) ) 경우 기타 H D V D ⎧ ⎪ ⎪ ⎨ ⎪ ⎪ ,0 ⎩ D D 여기서 DH, DV, DD는 각각 수직, 수평 및 대각선값들이다. SACk는 DCT 4 × 4블로크안에서 우세한 AC에네르기방향특성을 나타낸다. 여기로부터 AC류사도 Δfi는 다음과 같이 추정할수 있다. =Δ ∑ f Γ∈ i k SAC SAC ( δ ,) − I k I k I 1 − i i i (5) 여기서 Δ fi는 두 프레임에서 같은 위치에서 동일한 특성을 가지는 4 × 4블로크들의 수를 의미한다. 만일 Δfi<TAC(＝σ× Tmax)라면 Ii와 Ii－1은 류사하다. 여기서 σ는 H.264/AVC기초대역봉사 (QCIF)화상에 대하여 값이 0.3정도로 주어지는 류사도인자이다. Ii와 Ii－1이 류사하지 않을 때 Ii와 Ii－1사이에 장면프레임들이 있다면 Ii는 비장면프레 임이며 장면프레임이 없으면 Ii는 장면프레임이다. ２）장면변화검출에 기초한 시간령역오유수복 PCA모형 n이 현재순간의 프레임이고 N은 갱신가능한 완충기크기라고 하자. 그러면 첨수변환 n＋i－N은 크기 N의 완충기내에 있는 프레임들의 과거위치를 의미한다. 변환을 리용하여 다음과 같이 화상완충기에서 적당한 평균화상 m을 얻을수 있다. m n )( = y ( Nin −+ ) (6) 1 N N 1 − ∑ i 0 = 여기서 y ( Nin −+ ) 은 시간순간 n＋i－N의 화상벡토르이며 i－N은 어떤 화상이 현재의 시간순간으로부터 얼마나 떨어져있는가를 나타내며 N은 학습화상들의 수이다. 제안한 모형은 새롭고 효률적인 첨수변환과 장면변화에 따르는 완충기갱신방법에 기 초하여 학습화상들을 적응적으로 선택하고있다. 특히 장면변화에 따라 평균화상을 동적으 로 갱신하기 위하여 추정시간 n에서의 (p × q) × (p × q)차 공분산행렬에 m(n)을 적용하여 k번 째 성분고유벡토르 uk를 추정한다. n )( C = 1 N 1 − ∑ [( N i 0 = y in − − m )( y in − n )( − m n T)( ]) (7) 편의상 PCA를 리용하여 N × N차행렬 L＝ATA의 고유벡토르 vl(l＝0, ···, N－1)을 계산한다. 여기서 A＝[yn－N－1－m(n), …, yn－m(n)]이다. 그러면 (p × q) × (p × q)차 공분산행렬 C(n)의 고유벡토르 uk(n)은 yn－N－1－m(n)(i＝0, …, N－1)과 vk(n)(k＝0, …, N－1)을 다음과 같이 선형결합하여 추정할수 있다. ] = (cid:34) (cid:34) (cid:34) m U ][ n )( n )( n )( u − = = y v v [ [ ] , , , , , , my − n Nn 1 −− n )( u 0 )( n N 1 − )( n N 1 − n )( 0 AV (8) 실지 필요한 고유벡토르의 수 p는 다음의 조건식에 의하여 결정할수 있다. J = min P P ⎧ ⎪ ⎨ ⎪⎩ p ∑ i 1 = λ i p ∑ > λθλ j 1 = j ⎫ ⎪ ⎬ ⎪⎭ (9) 여기서 λk는 uk(n)의 고유값이고 θλ는 턱값이다. H.264/AVC동화상에서 장면변화검출－PCA모형에 기초한 … － 31 － ３）반복POCS에 기초한 오유수복 반복POCS에 의한 오유수복방법은 미지값들에 대한 매 제한조건들을 불룩모임으로 형식화한다. 최량풀이는 이전의 풀이를 매 불룩모임에 반복적으로 사영하여 얻어진다. 시 간령역오유수복은 PCA를 리용하여 반복POCS로 진행하는데 PCA학습, 화상재생 및 오유 수복 등 3단계로 구성된다. PCA를 리용한 POCS알고리듬은 그림과 같다. 그림. PCA를 리용한 POCS알고리듬 ２．실 험 결 과 실험에서는 JM15.0표준쏘프트웨어를 플래트홈으로 리용하였다. 부호기는 기초봉사대 역에 준하여 QP＝28로 정하였다. 오유분산영향을 검사하기 위하여 FMO방식을 FMO0과 FMO6으로 설정하였다. 또한 표준동화상QCIF(176 × 144)렬들인 carphone, akiyo, foreman, coastguard, news, silent, mother- daughter, container, salesman trevor, mobile들을 리용하였다. news와 trevor를 제외하고 다른 동화상렬들은 1개 장면으로 구성된다. 즉 이 동화상렬 에는 장면변화가 없지만 동화상특성에서는 약간 차이가 있다. PCA방법의 PSNR를 H.264 JM15.0복호기에 매몰된 오유수복방법과 비교하면 표와 같다. 표. 시간오유수복방법들의 PSNR 오유발생프레임 원화상 오유화상 JM15.0방법 PCA방법 313번째 news 412번째 silent 288번째 mother-daughter 304번째 mother-daughter 207번째 container 399번째 salesman 27.832 36.746 37.162 38.772 36.667 36.382 20.706 4 19.647 4 21.020 2 24.197 8 25.456 4 17.045 6 23.266 7 32.010 2 31.787 8 32.237 5 34.272 7 28.775 4 25.932 2 31.780 1 32.113 2 35.438 7 35.224 5 30.793 6 표에서 보는바와 같이 412번째 silent오유프레임에 대하여 JM15.0오유수복방법은 PCA 보다 성능이 좋은데 리득은 0.8dB정도이다. 그러나 313번째 news프레임, 304번째 mother- daughter프레임은 움직이는 물체에 대한 손실을 가지고있으며 PCA보다 PSNR가 2dB 낮게 수복되였다. 표에서 파괴된 동화상렬들이 PCA에서 JM15.0보다 1～3dB정도 크게 개선되 였다는것을 알수 있다. 즉 PCA는 JM15.0보다 오유수복성능이 좋다. － 32 － 종합대학학보(자연과학)   주체106(2017)년  제63권  제5호 맺 는 말 H.264/AVC QCIF동화상렬에서의 장면변화검출을 리용하여 새로운 오유수복알고리듬 을 제안하였다. 실험결과는 제안된 방법이 선행방법들보다 우월하다는것을 보여준다. [1] 남철만; 조선정보통신학회지, 1, 101, 주체102(2013). 참 고 문 헌 [2] T. P. C. Chen et al.; Wireless Communications and Mobile Computing, 6, 2, 607, 2002. [3] O. Nemethova; Technische University at Wien Osterreich, 3, 77, 2007. [4] Gao Yu et al.; Chinese Journal of Electronic, 38, 2, 382, 2010. 주체106(2017)년 1월 5일 원고접수 An Effect Temporal Error Restoration Method based on Scene Change Detection-PCA Model in H.264/AVC Video Sequences Nam Chol Man, Ri Chol Hwa This paper proposes an effect temporal error image restoration method based on scene change detection and PCA model in H.264/AVC video sequences. Scene changes are detected by using coding prediction mode and image similarity metric, and then error restoration performance is improved by using index buffer refresh and PCA based on the scene change information. Experimental results show that the proposed method can achieve better error restoration performance compared with JM15.0 method. Key words: error restoration, scene change, H.264, PCA, video sequence